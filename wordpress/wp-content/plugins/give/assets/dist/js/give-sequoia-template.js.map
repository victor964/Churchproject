{"version":3,"file":"/js/give-sequoia-template.js","mappings":"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","sources":["webpack://give/./src/Views/Form/Templates/Sequoia/assets/js/form.js"],"sourcesContent":["/* globals jQuery, Give */\n(function ($) {\n    const templateL10n = window.sequoiaTemplateL10n;\n    const templateOptions = window.sequoiaTemplateOptions;\n    const $container = $('.give-embed-form');\n    const $advanceButton = $('.advance-btn', $container);\n    const $backButton = $('.back-btn');\n    const $navigatorTitle = $('.give-form-navigator .title');\n    const $paymentGatewayContainer = $('#give-payment-mode-select');\n    let gatewayAnimating = false;\n    const {wp: parentWp} = window.parent;\n\n    // Make donation form block selectable in editor\n    if (parentWp && parentWp.data) {\n        $container.on('click', function () {\n            const blockId = window.frameElement.closest('.wp-block').getAttribute('data-block');\n            parentWp.data.dispatch('core/block-editor').selectBlock(blockId);\n        });\n    }\n\n    // Attach the navigator to the window as an API for changing parts.\n    const navigator = (window.formNavigator = {\n        currentStep: templateOptions.introduction.enabled === 'enabled' ? 0 : 1,\n        animating: false,\n        firstFocus: false,\n        goToStep: (step) => {\n            // Adjust body height before animating step, to prevent choppy iframe resizing\n            // Compare next step to current step, and increase body height if next step is taller.\n            const nextStepHeight = steps[step].title\n                ? $(steps[step].selector).height() + 50\n                : $(steps[step].selector).height();\n            const currentStepHeight = steps[navigator.currentStep].title\n                ? $(steps[navigator.currentStep].selector).height() + 50\n                : $(steps[navigator.currentStep].selector).height();\n            if (nextStepHeight > currentStepHeight) {\n                $('.give-form-templates').css('min-height', `${nextStepHeight + 123}px`);\n            } else {\n                // Delay setting body height if next step is shorter than current step\n                setTimeout(function () {\n                    $('.give-form-templates').css('min-height', `${nextStepHeight + 123}px`);\n                }, 200);\n            }\n\n            $('.step-tracker').removeClass('current');\n            $('.step-tracker[data-step=\"' + step + '\"]').addClass('current');\n\n            // Handle introduction step (whether disabled or not).\n            if (templateOptions.introduction.enabled === 'disabled') {\n                if ($('.step-tracker').length === 3) {\n                    $('.step-tracker').remove();\n                }\n\n                step = step > 0 ? step : 1;\n                if (step === 1) {\n                    $('.back-btn', $container).hide();\n                } else {\n                    $('.back-btn', $container).show();\n                }\n\n                $('.give-form-navigator', $container).addClass('nav-visible');\n                $(steps[step].selector).css('padding-top', '50px');\n            } else if (step === 0) {\n                // First  step is enabled.\n                $('.give-form-navigator', $container).removeClass('nav-visible');\n                $(steps[step].selector).css('padding-top', '');\n            } else {\n                // Other steps besides intro and payment amounts:\n                $('.give-form-navigator', $container).addClass('nav-visible');\n                $(steps[step].selector).css('padding-top', '50px');\n                // Scroll to top after animation finished\n                // @see https://github.com/impress-org/givewp/issues/5969\n                scrollToIframeTop();\n            }\n\n            if (steps[step].title) {\n                $navigatorTitle.text(steps[step].title);\n            }\n\n            const hide = steps.map((obj, index) => {\n                if (index === step || index === navigator.currentStep) {\n                    return null;\n                }\n                return obj.selector;\n            });\n            const hideSelector = hide.filter(Boolean).join(', ');\n\n            $(hideSelector).hide();\n\n            if (navigator.currentStep !== step) {\n                const directionClasses = 'slide-in-right slide-in-left slide-out-right slide-out-left';\n                const outDirection = navigator.currentStep < step ? 'left' : 'right';\n                const inDirection = navigator.currentStep < step ? 'right' : 'left';\n                $(steps[navigator.currentStep].selector)\n                    .removeClass(directionClasses)\n                    .addClass(`slide-out-${outDirection}`);\n                $(steps[step].selector).show().removeClass(directionClasses).addClass(`slide-in-${inDirection}`);\n            }\n            navigator.currentStep = step;\n\n            setTimeout(function () {\n                setupTabOrder();\n                // Do not auto-focus form on the page load if the first step is disabled\n                if (!navigator.firstFocus && templateOptions.introduction.enabled === 'disabled') {\n                    return (navigator.firstFocus = true);\n                }\n                if (steps[navigator.currentStep].firstFocus) {\n                    $(steps[navigator.currentStep].firstFocus).trigger('focus');\n                }\n            }, 200);\n        },\n        init: () => {\n            steps.forEach((step) => {\n                if (step.setup !== undefined) {\n                    step.setup();\n                }\n                $(step.selector).css('position', 'absolute');\n            });\n            $advanceButton.on('click', function (e) {\n                e.preventDefault();\n                navigator.forward();\n            });\n            $backButton.on('click', function (e) {\n                e.preventDefault();\n                navigator.back();\n            });\n            $('.step-tracker').on('click', function (e) {\n                e.preventDefault();\n                navigator.goToStep(parseInt($(e.target).attr('data-step')));\n            });\n            setupHeightChangeCallback(function (height) {\n                if (gatewayAnimating === false) {\n                    $('.form-footer').css('transition', 'margin-top 0.2s ease');\n                } else {\n                    $('.form-footer').css('transition', '');\n                }\n                $('.form-footer').css('margin-top', `${height}px`);\n            });\n\n            // If Fee Recovery input is not inside any step, move it to above payment options\n            if ($('.give-fee-recovery-donors-choice').parent().hasClass('give-form')) {\n                $('#give_checkout_user_info').after($('.give-fee-recovery-donors-choice'));\n            }\n            navigator.goToStep(getInitialStep());\n        },\n        back: () => {\n            const prevStep = navigator.currentStep !== 0 ? navigator.currentStep - 1 : 0;\n            navigator.goToStep(prevStep);\n            navigator.currentStep = prevStep;\n        },\n        forward: () => {\n            const nextStep = navigator.currentStep !== null ? navigator.currentStep + 1 : 1;\n            navigator.goToStep(nextStep);\n            navigator.currentStep = nextStep;\n        },\n    });\n\n    const steps = [\n        {\n            id: 'introduction',\n            title: null,\n            selector: '.give-section.introduction',\n            label: templateOptions.introduction.donate_label,\n            showErrors: false,\n            tabOrder: ['.introduction .advance-btn', '.step-tracker'],\n        },\n        {\n            id: 'choose-amount',\n            title: templateOptions.payment_amount.header_label,\n            selector: '.give-section.choose-amount',\n            label: templateOptions.payment_amount.next_label,\n            showErrors: false,\n            tabOrder: [\n                'select.give-cs-select-currency',\n                'input.give-amount-top',\n                '.give-donation-levels-wrap button',\n                '.give-recurring-period',\n                '.give-recurring-donors-choice-period',\n                '.give_fee_mode_checkbox',\n                '.choose-amount .advance-btn',\n                '.step-tracker',\n                '.back-btn',\n            ],\n            firstFocus: '.give-default-level',\n            setup: () => {\n                // Dynamically set grid columns based on number of buttons\n                const buttonCount = $('.give-donation-level-btn').length;\n                if (buttonCount === 1) {\n                    $('.give-donation-levels-wrap').attr('style', 'display: none!important;');\n                } else if (buttonCount % 2 === 0 && buttonCount < 6) {\n                    $('.give-donation-levels-wrap').css('grid-template-columns', 'repeat(2, minmax(0, 1fr))');\n                }\n\n                $('#give-amount').on('blur', function () {\n                    if (!Give.form.fn.isValidDonationAmount($('form'))) {\n                        $('.advance-btn').attr('disabled', true);\n                    } else {\n                        $('.advance-btn').attr('disabled', false);\n                    }\n                });\n                $('.give-donation-level-btn').each(function () {\n                    const hasTooltip = $(this).attr('has-tooltip');\n                    if (hasTooltip) {\n                        return;\n                    }\n\n                    const value = $(this).attr('value');\n                    const text = $(this).text();\n                    const $form = $('form');\n                    const symbol = Give.form.fn.getInfo( 'currency_symbol', $form );\n                    const position = Give.form.fn.getInfo( 'currency_position', $form );\n\n                    if (value !== 'custom') {\n                        const html =\n                            position === 'before'\n                                ? `<div class=\"currency currency--before\">${symbol}</div>${value}`\n                                : `${value}<div class=\"currency currency--after\">${symbol}</div>`;\n                        $(this).html(html);\n                    }\n\n                    // Setup string to check tooltip label ga\n                    const compare = position === 'before' ? symbol + value : value + symbol;\n                    // Setup tooltip unless for custom donation level, or if level label matches value\n                    if (value !== 'custom' && text !== compare) {\n                        const wrap = document.createElement('span');\n                        wrap.classList.add('give-tooltip', 'hint--top', 'hint--bounce');\n                        if (text.length < 50) {\n                            wrap.classList.add('narrow');\n                        }\n                        wrap.style.width = '100%';\n                        wrap.setAttribute('aria-label', text.length < 50 ? text : text.substr(0, 50) + '...');\n                        $(this).wrap(wrap);\n                        $(this).attr('has-tooltip', true);\n                    }\n                });\n            },\n        },\n        {\n            id: 'payment',\n            title: templateOptions.payment_information.header_label,\n            label: templateOptions.payment_information.checkout_label,\n            selector: '.give-section.payment',\n            showErrors: true,\n            tabOrder: [\n                '.payment input, .payment a, .payment button, .payment select, .payment multiselect, .payment textarea, .payment .button',\n                '.give-submit',\n                '.step-tracker',\n                '.back-btn',\n            ],\n            firstFocus: '#give-first',\n            setup: () => {\n                // Setup payment information screen\n\n                $('.give-section.payment').on(\n                    'click',\n                    '.give-cancel-login, .give-checkout-register-cancel',\n                    clearLoginNotices\n                );\n\n                // Show Sequoia loader on click/touchend\n                $('.give-section.payment').on('click touchend', 'input[name=\"give_login_submit\"]', function () {\n                    //Override submit loader with Sequoia loader\n                    $('input[name=\"give_login_submit\"] + .give-loading-animation')\n                        .removeClass('give-loading-animation')\n                        .addClass('sequoia-loader spinning');\n                });\n\n                // Remove purchase_loading text\n                window.give_global_vars.purchase_loading = '';\n\n                // Move errors\n                $('.give_error').each(function () {\n                    moveErrorNotice($(this));\n                });\n\n                // Setup anonymous donations opt-in event listeners\n                setupCheckbox({\n                    container: '#give-anonymous-donation-wrap label',\n                    label: '#give-anonymous-donation-wrap label',\n                    input: '#give-anonymous-donation',\n                });\n\n                // Setup recurring donations opt-in event listeners\n                setupCheckbox({\n                    container: '.give-recurring-donors-choice',\n                    label: '.give-recurring-donors-choice label',\n                    input: 'input[name=\"give-recurring-period\"]',\n                });\n\n                // Setup fee recovery opt-in event listeners\n                setupCheckbox({\n                    container: '.give-fee-recovery-donors-choice',\n                    label: '.give-fee-message-label-text',\n                    input: 'input[name=\"give_fee_mode_checkbox\"]',\n                });\n\n                // Setup activecampaign opt-in event listeners\n                setupCheckbox({\n                    container: '.give-activecampaign-fieldset',\n                    label: '.give-activecampaign-optin-label',\n                    input: '.give-activecampaign-optin-input',\n                });\n\n                // Setup mailchimp opt-in event listeners\n                setupCheckbox({\n                    container: '.give-mailchimp-fieldset',\n                    label: '.give-mc-message-text',\n                    input: 'input[name=\"give_mailchimp_signup\"]',\n                });\n\n                // Setup constant contact opt-in event listeners\n                setupCheckbox({\n                    container: '.give-constant-contact-fieldset',\n                    label: '.give-constant-contact-fieldset span',\n                    input: 'input[name=\"give_constant_contact_signup\"]',\n                });\n\n                // Setup terms and conditions opt-in event listeners\n                setupCheckbox({\n                    container: '#give_terms_agreement',\n                    label: '#give_terms_agreement label',\n                    input: 'input[name=\"give_agree_to_terms\"]',\n                });\n\n                // Show Sequoia loader on click/touchend\n                $('body.give-form-templates').on(\n                    'click touchend',\n                    'form.give-form input[name=\"give-purchase\"].give-submit',\n                    function () {\n                        //Override submit loader with Sequoia loader\n                        $('#give-purchase-button + .give-loading-animation')\n                            .removeClass('give-loading-animation')\n                            .addClass('sequoia-loader');\n\n                        // Only show spinner if form is valid\n                        if ($('form').get(0).checkValidity()) {\n                            $('.sequoia-loader').addClass('spinning');\n                        }\n                    }\n                );\n\n                // Go to choose amount step when donation maximum error is clicked\n                $('body.give-form-templates').on('click touchend', '#give_error_invalid_donation_maximum', function () {\n                    // Go to choose amount step\n                    navigator.goToStep(1);\n                });\n\n                // Go to choose amount step when invalid donation error is clicked\n                $('body.give-form-templates').on('click touchend', '#give_error_invalid_donation_amount', function () {\n                    // Go to choose amount step\n                    navigator.goToStep(1);\n                });\n\n                // Setup gateway icons\n                setupGatewayIcons();\n\n                // Setup Form Field Manager input listeners\n                setupFFMInputs();\n\n                // Setup Icons for inputs\n                setupInputIcons();\n\n                const observer = new window.MutationObserver(function (mutations) {\n                    mutations.forEach(function (mutation) {\n                        if (!mutation.addedNodes) {\n                            return;\n                        }\n\n                        for (let i = 0; i < mutation.addedNodes.length; i++) {\n                            // do things to your newly added nodes here\n                            const node = mutation.addedNodes[i];\n\n                            if ($(node).find('.give_error').length > 0) {\n                                moveErrorNotice($(node).find('.give_error'));\n                                scrollToIframeTop();\n                            }\n\n                            if ($(node).children().hasClass('give_errors')) {\n                                if (!$(node).parent().hasClass('donation-errors')) {\n                                    $(node)\n                                        .children('.give_errors')\n                                        .each(function () {\n                                            const notice = $(this);\n                                            moveErrorNotice(notice);\n                                        });\n                                }\n                                scrollToIframeTop();\n                            }\n\n                            if ($(node).hasClass('give_errors') && !$(node).parent().hasClass('donation-errors')) {\n                                moveErrorNotice($(node));\n                                $('.sequoia-loader').removeClass('spinning');\n                                scrollToIframeTop();\n                            }\n\n                            if ($(node).attr('id') === 'give_tributes_address_state') {\n                                const placeholder = $(node).attr('placeholder');\n                                $(node).prepend(`<option selected disabled>${placeholder}</option>`);\n                            }\n\n                            if (\n                                $(node).attr('name') === 'give_tributes_address_state' &&\n                                $(node).attr('class').includes('give-input')\n                            ) {\n                                $(node).attr('placeholder', $(node).siblings('label').text().trim());\n                            }\n\n                            if ($(node).attr('id') && $(node).attr('id').includes('give-checkout-login-register')) {\n                                setupRegistrationFormInputFields();\n                            }\n\n                            if ($(node).prop('tagName') && $(node).prop('tagName').toLowerCase() === 'select') {\n                                const placeholder = $(node).attr('placeholder');\n                                if (placeholder) {\n                                    $(node).prepend(`<option value=\"\" disabled selected>${placeholder}</option>`);\n                                }\n                            }\n                        }\n                    });\n                });\n\n                observer.observe(document.body, {\n                    childList: true,\n                    subtree: true,\n                    attributes: false,\n                    characterData: false,\n                });\n            },\n        },\n    ];\n\n    navigator.init();\n\n    // Check if only a single gateway is enabled\n    if ($paymentGatewayContainer.length && $paymentGatewayContainer.css('display') !== 'none') {\n        // Move payment information section when document load.\n        moveFieldsUnderPaymentGateway();\n\n        // Move payment information section when gateway updated.\n        $(document).on('give_gateway_loaded', function () {\n            setTimeout(setupTabOrder, 200);\n\n            moveFieldsUnderPaymentGateway();\n            setupLegacyConsumerCheckboxAndRadio();\n            setupRegistrationFormInputFields();\n            setupFFMInputs();\n            setupInputIcons();\n            setupSelectInputs();\n\n            $('#give_purchase_form_wrap').slideDown(200, function () {\n                gatewayAnimating = false;\n            });\n        });\n        $(document).on('Give:onPreGatewayLoad', function () {\n            gatewayAnimating = true;\n            $('#give_purchase_form_wrap').slideUp(200);\n        });\n\n        // Clear gateway related errors\n        $(document).on('Give:onPreGatewayLoad', function () {\n            const persistedNotices = ['give_error_test_mode'];\n\n            $('.give_errors, .give_notices, .give_error').each(function () {\n                if (!persistedNotices.includes($(this).attr('id'))) {\n                    $(this).slideUp(200, function () {\n                        $(this).remove();\n                    });\n                }\n            });\n        });\n    } else {\n        $('#give_purchase_form_wrap').addClass('give-single-gateway-wrap');\n    }\n\n    // Refresh personal information section.\n    $(document).on('give_gateway_loaded', refreshPersonalInformationSection);\n\n    // Setup fields.\n    setupLegacyConsumerCheckboxAndRadio();\n    setupSelectInputs();\n    setupRegistrationFormInputFields();\n    setupFFMInputs();\n    setupInputIcons();\n\n    /**\n     * Limited scope of optional input labels, specifically to User Info, see issue #5160.\n     */\n    setupOptionalInputLabels(Array.from(document.querySelectorAll('#give_checkout_user_info input[type=\"text\"]')));\n\n    /**\n     * Denote non-required fields as optional.\n     *\n     * @since 2.8.0\n     *\n     * @param {array} inputs An iteratable list of input elements.\n     */\n    function setupOptionalInputLabels(inputs) {\n        inputs\n            .filter(function (input) {\n                return !input.required;\n            })\n            .map(function (input) {\n                input.placeholder += templateL10n.optionalLabel;\n            });\n    }\n\n    /**\n     * Move error notices to error notice container at the top of the payment section\n     * @since 2.7.0\n     * @since 2.12.0 Prevents a race condition that caused an error message not to be visible.\n     * @param {node} node The error notice node to be moved\n     */\n    function moveErrorNotice(node) {\n        //If the error is inside stripe payment button, do nothing\n        if ($(node).parent().hasClass('give-stripe-payment-request-button')) {\n            return;\n        }\n\n        // First check if specific donation notice container has been set up\n        if ($('.donation-errors').length === 0) {\n            $('.payment').prepend('<div class=\"donation-errors\"></div>');\n        }\n\n        /**\n         * @link https://github.com/impress-org/givewp/issues/5867\n         *\n         * This 1 millisecond timeout prevents a race condition between\n         * the `.donation-errors` element being appended to the form\n         * and relocation of the specific error message node.\n         */\n        setTimeout(function () {\n            // If a specific notice does not already exist, proceed with moving the error\n            if (\n                typeof $('.donation-errors').html() !== undefined &&\n                !$('.donation-errors').html().includes($(node).html())\n            ) {\n                $(node).appendTo('.donation-errors');\n            } else {\n                // If the specific notice already exists, do not add it\n                $(node).remove();\n            }\n        }, 1);\n    }\n\n    /**\n     * Setup registration form input fields.\n     * @since 2.9.6\n     */\n    function setupRegistrationFormInputFields() {\n        const handleInput = function (evt) {\n            if (!$(evt.target).is('input')) {\n                return;\n            }\n\n            if ($(evt.target).hasClass('give-disabled')) {\n                return;\n            }\n\n            // Registration account fields only contains checkboxes.\n            $(evt.target).closest('label').toggleClass('checked');\n        };\n\n        $('[id*=\"give-register-account-fields\"]').off('click', handleInput).on('click', handleInput);\n    }\n\n    /**\n     * Add listeners and starting states to FFM inputs\n     * @since 2.7.0\n     */\n    function setupFFMInputs() {\n        $('#give-ffm-section').off('click', handleFFMInput).on('click', handleFFMInput);\n\n        $('#give-ffm-section input').each(function () {\n            switch ($(this).prop('type')) {\n                case 'checkbox': {\n                    if ($(this).prop('checked')) {\n                        $(this).parent().addClass('checked');\n                    } else {\n                        $(this).parent().removeClass('checked');\n                    }\n                    break;\n                }\n                case 'radio': {\n                    if ($(this).prop('checked')) {\n                        $(this).parent().addClass('selected');\n                    } else {\n                        $(this).parent().removeClass('selected');\n                    }\n                    break;\n                }\n            }\n        });\n    }\n\n    /**\n     * Handle updating label classes for FFM radios and checkboxes\n     *\n     * @since 2.7.0\n     * @param {object} evt Reference to FFM input element click event\n     */\n    function handleFFMInput(evt) {\n        if ($(evt.target).is('input')) {\n            switch ($(evt.target).prop('type')) {\n                case 'checkbox': {\n                    $(evt.target).closest('label').toggleClass('checked');\n                    break;\n                }\n                case 'radio': {\n                    $(evt.target).closest('label').addClass('selected');\n                    $(evt.target).parent().siblings().removeClass('selected');\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Move form field under payment gateway\n     * @since 2.7.0\n     */\n    function moveFieldsUnderPaymentGateway() {\n        // Check if donate fieldset area has been created, if not set it up below payment gateways\n        // This area is necessary for correctly placing various elements (fee recovery notice, newsletters, submit button, etc)\n        if ($('#donate-fieldset').length === 0) {\n            $('.give-section.payment').append('<fieldset id=\"donate-fieldset\"></fieldset>');\n        }\n\n        // Elements to move into donate fieldset (located at bottom of form)\n        // The elements will appear in order of array\n        const donateFieldsetElements = [\n            '.give-constant-contact-fieldset',\n            '.give-activecampaign-fieldset',\n            '.give-mailchimp-fieldset',\n            '#give_terms_agreement',\n            '.give-donation-submit',\n        ];\n\n        // Handle moving elements into donate fieldset\n        donateFieldsetElements.forEach(function (selector) {\n            if ($(`#donate-fieldset  ${selector}`).length === 0) {\n                $(`#donate-fieldset  ${selector}`).remove();\n                $('#donate-fieldset').append($(`#give_purchase_form_wrap ${selector}`));\n            } else if (\n                $(`#donate-fieldset  ${selector}`).html() !== $(`#give_purchase_form_wrap  ${selector}`).html() &&\n                $(`#give_purchase_form_wrap  ${selector}`).html() !== undefined\n            ) {\n                $(`#donate-fieldset  ${selector}`).remove();\n                $('#donate-fieldset').append($(`#give_purchase_form_wrap ${selector}`));\n            } else {\n                $(`#give_purchase_form_wrap ${selector}`).remove();\n            }\n        });\n\n        // Move purchase fields (credit card, billing, etc)\n        $('li.give-gateway-option-selected').after($('#give_purchase_form_wrap'));\n\n        // Add gateway class to fields wrapper, indicating which gateway is active\n        const gatewayClass = 'gateway-' + $('.give-gateway-option-selected input').attr('value').replace('_', '-');\n        $('#give_purchase_form_wrap').attr('class', gatewayClass);\n    }\n\n    /**\n     * Refresh personal information section\n     *\n     * @since 2.7.0\n     * @since 2.10.2 Rename function\n     * @param {boolean} ev Event object\n     * @param {object} response Response object\n     * @param {number} formID Form ID\n     */\n    function refreshPersonalInformationSection(ev, response, formID) {\n        if (navigator.currentStep === 2) {\n            $('.give-form-templates').css('min-height', '');\n        }\n\n        const $form = $(`#${formID}`);\n\n        // This function will run only for embed donation form.\n        // Show payment information section fields.\n        if ($form.parent().hasClass('give-embed-form')) {\n            const data = {\n                action: 'give_cancel_login',\n                form_id: $form.find('[name=\"give-form-id\"]').val(),\n            };\n\n            // AJAX get the payment fields.\n            $.post(Give.fn.getGlobalVar('ajaxurl'), data, function (postResponse) {\n                const container = $form.find('[id^=give-checkout-login-register]');\n\n                // Remove existing personal information field if response contains new fields.\n                if (container.length && postResponse.fields.includes('give_checkout_user_info')) {\n                    $form.find('#give_checkout_user_info').remove();\n                }\n\n                container.replaceWith($.parseJSON(postResponse.fields));\n                container.css({display: 'block'});\n\n                $form.find('.give-submit-button-wrap').show();\n            }).done(function () {\n                // Trigger float-labels\n                window.give_fl_trigger();\n\n                setupInputIcons();\n            });\n        }\n    }\n\n    function setupInputIcon(selector, icon) {\n        $(selector).each(function () {\n            if ($(this).html() !== '' && $(this).html().includes(`<i class=\"fas fa-${icon}\"></i>`) === false) {\n                const property = isRTL() ? 'padding-right' : 'padding-left';\n                $(this).prepend(`<i class=\"fas fa-${icon}\"></i>`);\n                $(this)\n                    .children('input, selector')\n                    .each(function () {\n                        $(this).attr('style', property + ': 33px!important;');\n                    });\n            }\n        });\n    }\n\n    function setupInputIcons() {\n        setupInputIcon('#give-first-name-wrap', 'user');\n        setupInputIcon('#give-email-wrap', 'envelope');\n        setupInputIcon('#give-company-wrap', 'building');\n        setupInputIcon('#date_field-wrap', 'calendar-alt');\n        setupInputIcon('#url_field-wrap', 'globe');\n        setupInputIcon('#phone_field-wrap', 'phone');\n        setupInputIcon('#give-phone-wrap', 'phone');\n        setupInputIcon('#email_field-wrap', 'envelope');\n    }\n\n    /**\n     * Setup tab order for elements in form\n     *\n     * @since 2.7.0\n     */\n    function setupTabOrder() {\n        $('select, button, input, textarea, multiselect, a').attr('tabindex', -1);\n\n        const tabOrder = steps[navigator.currentStep].tabOrder;\n        tabOrder.forEach((selector, index) => {\n            $(selector).attr('tabindex', index + 1);\n        });\n    }\n\n    /**\n     * Loop through gateway li elements and setup fontawesome icons\n     *\n     * @since 2.7.0\n     */\n    function setupGatewayIcons() {\n        $('#give-gateway-radio-list li').each(function () {\n            const value = $('input', this).val();\n            let icon;\n            switch (value) {\n                case 'manual':\n                    icon = 'fas fa-tools';\n                    break;\n                case 'offline':\n                    icon = 'fas fa-wallet';\n                    break;\n                case 'paypal':\n                    icon = 'fab fa-paypal';\n                    break;\n                case 'stripe':\n                    icon = 'far fa-credit-card';\n                    break;\n                case 'stripe_checkout':\n                    icon = 'far fa-credit-card';\n                    break;\n                case 'stripe_sepa':\n                    icon = 'fas fa-university';\n                    break;\n                case 'stripe_ach':\n                    icon = 'fas fa-university';\n                    break;\n                case 'stripe_ideal':\n                    icon = 'fas fa-university';\n                    break;\n                case 'stripe_becs':\n                    icon = 'fas fa-university';\n                    break;\n                case 'paypalpro_payflow':\n                    icon = 'far fa-credit-card';\n                    break;\n                case 'paypal-commerce':\n                    icon = 'far fa-credit-card';\n                    break;\n                case 'stripe_google_pay':\n                    icon = 'fab fa-google';\n                    break;\n                case 'stripe_apple_pay':\n                    icon = 'fab fa-apple';\n                    break;\n                default:\n                    icon = 'fas fa-hand-holding-heart';\n                    break;\n            }\n            $(this).append(`<i class=\"${icon}\"></i>`);\n        });\n    }\n\n    /**\n     * Setup prominent checkboxes (field api) (that use persistent borders on select)\n     *\n     * @since 2.14.0\n     */\n    function setupLegacyConsumerCheckboxAndRadio() {\n        const customCheckboxes = document.querySelectorAll('[data-field-type=\"checkbox\"] input');\n        const customRadios = document.querySelectorAll('[data-field-type=\"radio\"] input');\n        Array.from(customCheckboxes).forEach((el) => {\n            const uniqueInputSelector = `#${el.getAttribute('id')}`;\n            const uniqueLabelSelector = `label[for=${el.getAttribute('id')}]`;\n            setupCheckbox({\n                container: uniqueLabelSelector,\n                label: uniqueLabelSelector,\n                input: uniqueInputSelector,\n            });\n        });\n\n        Array.from(customRadios).forEach((el) => {\n            const uniqueInputSelector = `#${el.getAttribute('id')}`;\n            const uniqueLabelSelector = `label[for=${el.getAttribute('id')}]`;\n            setupRadio({\n                label: uniqueLabelSelector,\n                input: uniqueInputSelector,\n            });\n        });\n    }\n\n    /**\n     * Setup prominent checkboxes (that use persistent borders on select)\n     *\n     * @since 2.7.0\n     * @since 2.15.0 update click handler callback\n     * @param {object} args Argument object containing: container, label, input selectors\n     */\n    function setupCheckbox({container, label, input}) {\n        // If checkbox is opted in by default, add border on load\n        if ($(input).prop('checked') === true) {\n            $(container).addClass('active');\n        }\n\n        // Persist checkbox input border when selected\n        $(document).on('click', label, function (evt) {\n            if ('INPUT' === evt.target.nodeName) {\n                return;\n            }\n\n            $(container).toggleClass('active');\n        });\n    }\n\n    /**\n     * Handle updating label classes for FFM radios and checkboxes\n     *\n     * @since 2.7.0\n     * @since 2.15.0 update click handler callback\n     * @param {object} evt Reference to FFM input element click event\n     */\n    function setupRadio({label, input}) {\n        // If checkbox is opted in by default, add border on load\n        if ($(input).prop('checked') === true) {\n            $(label).addClass('active');\n        }\n\n        // Persist checkbox input border when selected\n        $(document).on('click', label, function (evt) {\n            if ('INPUT' === evt.target.nodeName) {\n                return;\n            }\n\n            $(evt.target.parentElement).find('label').not(evt.target).removeClass('active');\n            $(evt.target).toggleClass('active');\n        });\n    }\n\n    function setupHeightChangeCallback(callback) {\n        let lastHeight = 0;\n        function checkHeightChange() {\n            const selector = $(steps[navigator.currentStep].selector);\n            const changed = lastHeight !== $(selector).outerHeight();\n            if (changed) {\n                callback($(selector).outerHeight());\n                lastHeight = $(selector).outerHeight();\n            }\n            window.requestAnimationFrame(checkHeightChange);\n        }\n        window.requestAnimationFrame(checkHeightChange);\n    }\n\n    /**\n     * Get initial step to show donor.\n     *\n     * @since 2.7.0\n     * @returns {number} Step to start on\n     */\n    function getInitialStep() {\n        return Give.fn.getParameterByName('showDonationProcessingError') ||\n            Give.fn.getParameterByName('showFailedDonationError')\n            ? 2\n            : 0;\n    }\n\n    function clearLoginNotices() {\n        $('#give_error_must_log_in').remove();\n    }\n\n    /**\n     * Setup select inputs\n     *\n     * @since 2.7.0\n     */\n    function setupSelectInputs() {\n        if ($('select option[selected=\"selected\"][value=\"\"]').length > 0) {\n            $('select option[selected=\"selected\"][value=\"\"]').each(function () {\n                if ($(this).parent().siblings('label').length) {\n                    $(this).text($(this).parent().siblings('label').text().replace('*', '').trim());\n                    $(this).attr('disabled', true);\n                }\n            });\n        }\n    }\n\n    /**\n     * Check if document is RTL\n     *\n     * @since 2.8.0\n     * @return {boolean} Whether or not document is RTL\n     */\n    function isRTL() {\n        return $('html').attr('dir') === 'rtl';\n    }\n\n    /**\n     * Scroll to parent window to iframe top\n     *\n     * @since 2.9.0\n     */\n    function scrollToIframeTop() {\n        if ('parentIFrame' in window) {\n            window.parentIFrame.sendMessage({action: 'giveScrollIframeInToView'});\n        }\n    }\n})(jQuery);\n\n/**\n * Support to FFM restore custom field value logic.\n *\n * FFM restore value of custom fields correctly but field state does not reflect correctly\n * in donation form because we are using custom styling for Radio and Checkbox.\n *\n * Below code will add class to Checkbox and Radio label if checked.\n *\n * @since 2.15.0\n */\ndocument.addEventListener('readystatechange', function (evt) {\n    if (evt.target.readyState !== 'complete') {\n        return;\n    }\n\n    const customCheckboxes = document.querySelectorAll('[data-field-type=\"checkbox\"] input');\n    const customRadios = document.querySelectorAll('[data-field-type=\"radio\"] input');\n\n    const addActiveClass = (el) => {\n        if (el.checked) {\n            el.parentElement.classList.add('active');\n        } else {\n            el.parentElement.classList.remove('active');\n        }\n    };\n\n    customCheckboxes.forEach(addActiveClass);\n    customRadios.forEach(addActiveClass);\n});\n"],"names":["$","templateL10n","window","sequoiaTemplateL10n","templateOptions","sequoiaTemplateOptions","$container","$advanceButton","$backButton","$navigatorTitle","$paymentGatewayContainer","gatewayAnimating","parentWp","parent","wp","data","on","blockId","frameElement","closest","getAttribute","dispatch","selectBlock","navigator","formNavigator","currentStep","introduction","enabled","animating","firstFocus","goToStep","step","nextStepHeight","steps","title","selector","height","currentStepHeight","css","setTimeout","removeClass","addClass","length","remove","hide","show","scrollToIframeTop","text","map","obj","index","hideSelector","filter","Boolean","join","directionClasses","outDirection","inDirection","setupTabOrder","trigger","init","forEach","setup","undefined","e","preventDefault","forward","back","parseInt","target","attr","setupHeightChangeCallback","hasClass","after","getInitialStep","prevStep","nextStep","id","label","donate_label","showErrors","tabOrder","payment_amount","header_label","next_label","buttonCount","Give","form","fn","isValidDonationAmount","each","hasTooltip","value","$form","symbol","getInfo","position","html","compare","wrap","document","createElement","classList","add","style","width","setAttribute","substr","payment_information","checkout_label","clearLoginNotices","give_global_vars","purchase_loading","moveErrorNotice","setupCheckbox","container","input","get","checkValidity","setupGatewayIcons","setupFFMInputs","setupInputIcons","observer","MutationObserver","mutations","mutation","addedNodes","i","node","find","children","notice","placeholder","prepend","includes","siblings","trim","setupRegistrationFormInputFields","prop","toLowerCase","observe","body","childList","subtree","attributes","characterData","moveFieldsUnderPaymentGateway","setupLegacyConsumerCheckboxAndRadio","setupSelectInputs","slideDown","slideUp","persistedNotices","refreshPersonalInformationSection","setupOptionalInputLabels","Array","from","querySelectorAll","inputs","required","optionalLabel","_typeof","appendTo","handleInput","evt","is","toggleClass","off","handleFFMInput","append","donateFieldsetElements","gatewayClass","replace","ev","response","formID","action","form_id","val","post","getGlobalVar","postResponse","fields","replaceWith","parseJSON","display","done","give_fl_trigger","setupInputIcon","icon","property","isRTL","customCheckboxes","customRadios","el","uniqueInputSelector","uniqueLabelSelector","setupRadio","nodeName","parentElement","not","callback","lastHeight","checkHeightChange","changed","outerHeight","requestAnimationFrame","getParameterByName","parentIFrame","sendMessage","jQuery","addEventListener","readyState","addActiveClass","checked"],"sourceRoot":""}