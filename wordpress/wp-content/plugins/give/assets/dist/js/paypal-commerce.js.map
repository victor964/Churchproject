{"version":3,"file":"/js/paypal-commerce.js","mappings":";;;;;;;;;AAAA,gHAA+C;;;;;;;;;;;;;;;;;ACA/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA,aAAa,UAAU;AACvB;AACA,aAAa,mBAAmB;AAChC;AACA,aAAa,mBAAmB;AAChC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,SAAS;AAC/C;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE;AACA;;AAEA;AACA;AACA;AACA,6DAA6D;;AAE7D;AACA;AACA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gEAAgE;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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ACA,0DAA0D;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,mBAAmB;AACpD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,QAAQ;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,CAAE;AAClD;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UC3uBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;;;AACA;AACA;AACA;AACA;AACA;AAEA9K,QAAQ,CAAC8E,gBAAT9E,CAA2B,kBAA3BA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","sources":["webpack://give/./node_modules/@babel/runtime/regenerator/index.js","webpack://give/./node_modules/@paypal/paypal-js/dist/paypal.esm.js","webpack://give/./assets/src/js/frontend/paypal-commerce/AdvancedCardFields.js","webpack://give/./assets/src/js/frontend/paypal-commerce/CustomCardFields.js","webpack://give/./assets/src/js/frontend/paypal-commerce/DonationForm.js","webpack://give/./assets/src/js/frontend/paypal-commerce/PaymentMethod.js","webpack://give/./assets/src/js/frontend/paypal-commerce/SmartButtons.js","webpack://give/./node_modules/regenerator-runtime/runtime.js","webpack://give/webpack/bootstrap","webpack://give/webpack/runtime/compat get default export","webpack://give/webpack/runtime/define property getters","webpack://give/webpack/runtime/hasOwnProperty shorthand","webpack://give/webpack/runtime/make namespace object","webpack://give/./assets/src/js/frontend/paypal-commerce/index.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","/*!\n * paypal-js v1.0.4 (2020-11-14T18:27:29.664Z)\n * Copyright 2020-present, PayPal, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nfunction findScript(url, dataAttributes) {\n  var currentScript = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n  if (!currentScript) return null;\n  var nextScript = createScriptElement(url, dataAttributes); // check if the new script has the same number of data attributes\n\n  if (objectSize(currentScript.dataset) !== objectSize(nextScript.dataset)) {\n    return null;\n  }\n\n  var isExactMatch = true; // check if the data attribute values are the same\n\n  forEachObjectKey(currentScript.dataset, function (key) {\n    if (currentScript.dataset[key] !== nextScript.dataset[key]) {\n      isExactMatch = false;\n    }\n  });\n  return isExactMatch ? currentScript : null;\n}\nfunction insertScriptElement(_ref) {\n  var url = _ref.url,\n      dataAttributes = _ref.dataAttributes,\n      onSuccess = _ref.onSuccess,\n      onError = _ref.onError;\n  var newScript = createScriptElement(url, dataAttributes);\n  newScript.onerror = onError;\n  newScript.onload = onSuccess;\n  document.head.insertBefore(newScript, document.head.firstElementChild);\n}\nfunction processOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var processedOptions = {\n    queryParams: {},\n    dataAttributes: {}\n  };\n  forEachObjectKey(options, function (key) {\n    if (key.substring(0, 5) === 'data-') {\n      processedOptions.dataAttributes[key] = options[key];\n    } else {\n      processedOptions.queryParams[key] = options[key];\n    }\n  });\n  var queryParams = processedOptions.queryParams,\n      dataAttributes = processedOptions.dataAttributes;\n  return {\n    queryString: objectToQueryString(queryParams),\n    dataAttributes: dataAttributes\n  };\n}\nfunction objectToQueryString(params) {\n  var queryString = '';\n  forEachObjectKey(params, function (key) {\n    if (queryString.length !== 0) queryString += '&';\n    queryString += key + '=' + params[key];\n  });\n  return queryString;\n}\n\nfunction createScriptElement(url) {\n  var dataAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var newScript = document.createElement('script');\n  newScript.src = url;\n  forEachObjectKey(dataAttributes, function (key) {\n    newScript.setAttribute(key, dataAttributes[key]);\n  });\n  return newScript;\n} // uses es3 to avoid requiring polyfills for Array.prototype.forEach and Object.keys\n\n\nfunction forEachObjectKey(obj, callback) {\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      callback(key);\n    }\n  }\n}\n\nfunction objectSize(obj) {\n  var size = 0;\n  forEachObjectKey(obj, function () {\n    return size++;\n  });\n  return size;\n}\n\nvar SDK_BASE_URL = 'https://www.paypal.com/sdk/js';\nvar loadingPromise;\nvar isLoading = false;\nfunction loadScript(options) {\n  // resolve with the existing promise when the script is loading\n  if (isLoading) return loadingPromise;\n  return loadingPromise = new Promise(function (resolve, reject) {\n    // resolve with null when running in Node\n    if (typeof window === 'undefined') return resolve(null);\n\n    var _processOptions = processOptions(options),\n        queryString = _processOptions.queryString,\n        dataAttributes = _processOptions.dataAttributes;\n\n    var url = \"\".concat(SDK_BASE_URL, \"?\").concat(queryString); // resolve with the existing global paypal object when a script with the same src already exists\n\n    if (findScript(url, dataAttributes) && window.paypal) return resolve(window.paypal);\n    isLoading = true;\n    insertScriptElement({\n      url: url,\n      dataAttributes: dataAttributes,\n      onSuccess: function onSuccess() {\n        isLoading = false;\n        if (window.paypal) return resolve(window.paypal);\n        return reject(new Error('The window.paypal global variable is not available.'));\n      },\n      onError: function onError() {\n        isLoading = false;\n        return reject(new Error(\"The script \\\"\".concat(url, \"\\\" didn't load correctly.\")));\n      }\n    });\n  });\n} // replaced with the package.json version at build time\n\nvar version = '1.0.4';\n\nexport { loadScript, version };\n","/* globals paypal, Give, givePayPalCommerce */\nimport DonationForm from './DonationForm';\nimport PaymentMethod from './PaymentMethod';\nimport CustomCardFields from './CustomCardFields';\n\nclass AdvancedCardFields extends PaymentMethod {\n\t/**\n\t * @since 2.9.0\n\t *\n\t * @param {CustomCardFields} customCardFields CustomCardFields class object.\n\t */\n\tconstructor( customCardFields ) {\n\t\tsuper( customCardFields.form );\n\t\tthis.customCardFields = customCardFields;\n\n\t\tthis.setFocusStyle();\n\t}\n\n\t/**\n\t * Setup properties.\n\t *\n\t * @since 2.9.0\n\t */\n\tsetupProperties() {\n\t\tthis.cardFields = {};\n\t\tthis.hostedCardFieldsContainers = {};\n\t\tthis.hostedFieldContainerStyleProperties = [ 'height' ];\n\t\tthis.hostedInputFieldStyleProperties = [\n\t\t\t'color',\n\t\t\t'direction',\n\t\t\t'font-size',\n\t\t\t'letter-spacing',\n\t\t\t'line-height',\n\t\t];\n\n\t\tthis.hostedFocusedInputFieldStyleProperties = [ 'color', 'border-left-color' ];\n\n\t\tthis.hostedInputFieldPlaceholderStyleProperties = [ 'color' ];\n\n\t\tthis.styles = {\n\t\t\tcontainer: {},\n\t\t\tinput: {},\n\t\t\t'input:focus': {},\n\t\t\t'input:placeholder': {},\n\t\t};\n\t}\n\n\t/**\n\t * Return whether or not render credit card fields.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {boolean} Return boolean value whether we can render card fields or not.\n\t */\n\tstatic canShow() {\n\t\treturn paypal.HostedFields.isEligible() === true && !! window.givePayPalCommerce.supportsCustomPayments;\n\t}\n\n\t/**\n\t * Render payment method.\n\t *\n\t * @since 2.9.0\n\t */\n\tasync renderPaymentMethodOption() {\n\t\tthis.setupContainerForHostedCardFields();\n\t\tthis.applyStyleToContainer();\n\n\t\tconst submitEventName = `submit.${ this.form.getAttribute( 'id' ) }`;\n\t\tconst createOrder = this.createOrderHandler.bind( this );\n\t\tconst styles = await this.getComputedInputFieldForHostedField();\n\t\tconst fields = this.getPayPalHostedCardFields();\n\t\tconst hostedCardFields = await paypal.HostedFields.render( { createOrder, styles, fields } ).catch( ( error ) => {\n\t\t\tthis.displayErrorMessage( error );\n\t\t} );\n\t\tconst onSubmitHandlerForDonationForm = this.onSubmitHandlerForDonationForm.bind( this );\n\n\t\tthis.addEventToHostedFields( hostedCardFields );\n\t\tthis.jQueryForm.off( submitEventName ).on( submitEventName, { hostedCardFields }, onSubmitHandlerForDonationForm );\n\t}\n\n\t/**\n\t * Set container for histed card fields.\n\t *\n\t * @since 2.9.0\n\t */\n\tsetupContainerForHostedCardFields() {\n\t\tconst cardFields = this.customCardFields.cardFields;\n\t\tlet fieldType = '';\n\n\t\tfor ( const cardFieldsKey in cardFields ) {\n\t\t\tconst container = document.createElement( 'div' );\n\n\t\t\tfieldType = cardFields[ cardFieldsKey ].el.getAttribute( 'name' );\n\t\t\tconst fieldId = `give-${ cardFields[ cardFieldsKey ].el.getAttribute( 'id' ) }`;\n\t\t\tlet field;\n\n\t\t\tif ( field = this.form.querySelector( `#${ fieldId }` ) ) { // eslint-disable-line\n\t\t\t\t// If field container already exist in form then remove paypal field from inside and return same div.\n\t\t\t\tfield.innerHTML = '';\n\t\t\t\tthis.hostedCardFieldsContainers[ this.getFieldTypeByFieldName( fieldType ) ] = field;\n\t\t\t} else {\n\t\t\t\tcontainer.setAttribute( 'id', fieldId );\n\t\t\t\tcontainer.setAttribute( 'class', 'give-paypal-commerce-cc-field give-input-field-wrapper' );\n\t\t\t\tthis.hostedCardFieldsContainers[ this.getFieldTypeByFieldName( fieldType ) ] = cardFields[ cardFieldsKey ].el.parentElement.appendChild( container );\n\t\t\t}\n\t\t}\n\n\t\tthis.toggleFields();\n\t}\n\n\t/**\n\t * Get fields.\n\t *\n\t * @since 2.9.0\n\t * @return {object} Return object of card input field container details.\n\t */\n\tgetPayPalHostedCardFields() {\n\t\treturn {\n\t\t\tnumber: {\n\t\t\t\tselector: `#${ this.hostedCardFieldsContainers.number.getAttribute( 'id' ) }`,\n\t\t\t\tplaceholder: givePayPalCommerce.cardFieldPlaceholders.cardNumber,\n\t\t\t},\n\t\t\tcvv: {\n\t\t\t\tselector: `#${ this.hostedCardFieldsContainers.cvv.getAttribute( 'id' ) }`,\n\t\t\t\tplaceholder: givePayPalCommerce.cardFieldPlaceholders.cardCvc,\n\t\t\t},\n\t\t\texpirationDate: {\n\t\t\t\tselector: `#${ this.hostedCardFieldsContainers.expirationDate.getAttribute( 'id' ) }`,\n\t\t\t\tplaceholder: givePayPalCommerce.cardFieldPlaceholders.expirationDate,\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Approve PayPal payment after successfully payment.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {string} orderId Order id.\n\t *\n\t * @return {Promise<any>} Return request response.\n\t */\n\tasync approvePayment( orderId ) {\n\t\t// eslint-disable-next-line\n\t\tconst response = await fetch( `${ this.ajaxurl }?action=give_paypal_commerce_approve_order&order=` + orderId, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: DonationForm.getFormDataWithoutGiveActionField( this.form ),\n\t\t} );\n\n\t\treturn await response.json();\n\t}\n\n\t/**\n\t * Get computed style for hosted card fields.\n\t *\n\t * List of style properties support by PayPal for advanced card fields: https://developer.paypal.com/docs/business/checkout/reference/style-guide/#style-the-card-payments-fields\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {object} Return object of style properties.\n\t */\n\tgetComputedInputFieldForHostedField() {\n\t\tconst input = {\n\t\t\t...this.styles.input,\n\t\t\t...givePayPalCommerce.hostedCardFieldStyles.input,\n\t\t};\n\n\t\treturn {\n\t\t\tinput,\n\t\t\t':focus': {\n\t\t\t\tcolor: this.styles[ 'input:focus' ].color,\n\t\t\t\t...givePayPalCommerce.hostedCardFieldStyles[ ':focus' ],\n\t\t\t},\n\t\t\t':placeholder': {\n\t\t\t\tcolor: this.styles[ 'input:placeholder' ].color,\n\t\t\t\t...givePayPalCommerce.hostedCardFieldStyles[ ':placeholder' ],\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Handle donation form submit event.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} event jQuery event object.\n\t *\n\t * @return {boolean} Return boolean false value to stop form submission.\n\t */\n\tasync onSubmitHandlerForDonationForm( event ) {\n\t\tif ( ! DonationForm.isPayPalCommerceSelected( this.jQueryForm ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If donor opted in for recurring donation then submit donation form because PayPal advanced card fields does not support subscription\n\t\t// So, we'll create subscription on server with PayPal Subscription API.\n\t\tif ( DonationForm.isRecurringDonation( this.form ) ) {\n\t\t\tGive.form.fn.showProcessingState( window.givePayPalCommerce.textForOverlayScreen );\n\t\t\tthis.submitDonationForm();\n\t\t\treturn;\n\t\t}\n\n\t\tconst hostedFieldOnSubmitErrorHandler = this.hostedFieldOnSubmitErrorHandler.bind( this );\n\n\t\tevent.preventDefault();\n\t\tGive.form.fn.removeErrors( this.jQueryForm );\n\n\t\tconst { hostedCardFields } = event.data;\n\t\tconst getExtraCardDetails = this.getExtraCardDetails.bind( this );\n\n\t\tconst payload = await hostedCardFields.submit(\n\t\t\t{\n\t\t\t// Trigger 3D Secure authentication\n\t\t\t\tcontingencies: [ '3D_SECURE' ],\n\t\t\t\t...getExtraCardDetails,\n\t\t\t}\n\t\t).catch( hostedFieldOnSubmitErrorHandler );\n\n\t\tif ( ! payload ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( this.canThreeDsAuthorizeCard( payload ) && ! this.IsCardThreeDsAuthorized( payload ) ) {\n\t\t\t// Handle no 3D Secure contingency passed scenario\n\t\t\tGive.form.fn.addErrorsAndResetDonationButton(\n\t\t\t\tthis.jQueryForm,\n\t\t\t\tGive.form.fn.getErrorHTML( [ {\n\t\t\t\t\tmessage: givePayPalCommerce.threeDsCardAuthenticationFailedNotice,\n\t\t\t\t} ] )\n\t\t\t);\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// Approve payment on if we did not get any error.\n\t\tawait this.onApproveHandler( payload );\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Handle PayPal payment on approve event.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} payload PayPal response object after payment completion.\n\t */\n\tasync onApproveHandler( payload ) {\n\t\tGive.form.fn.showProcessingState( window.givePayPalCommerce.textForOverlayScreen );\n\n\t\tconst result = await this.approvePayment( payload.orderId );\n\n\t\tif ( ! result.success ) {\n\t\t\tGive.form.fn.hideProcessingState();\n\n\t\t\tif ( null === result.data.error ) {\n\t\t\t\tGive.form.fn.addErrorsAndResetDonationButton(\n\t\t\t\t\tthis.jQueryForm,\n\t\t\t\t\tGive.form.fn.getErrorHTML( [ { message: givePayPalCommerce.defaultDonationCreationError } ] )\n\t\t\t\t);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tGive.form.fn.addErrorsAndResetDonationButton(\n\t\t\t\tthis.jQueryForm,\n\t\t\t\tGive.form.fn.getErrorHTML( [ { message: result.data.error.details[ 0 ].description } ] )\n\t\t\t);\n\t\t}\n\n\t\tawait DonationForm.addFieldToForm( this.form, result.data.order.id, 'payPalOrderId' );\n\n\t\tthis.submitDonationForm();\n\t}\n\n\t/**\n\t * Get extra card detail form like card name etc.\n\t *\n\t * In future we can add billing field: https://developer.paypal.com/docs/business/checkout/advanced-card-payments/\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {{cardholderName: *}} Card details object.\n\t */\n\tgetExtraCardDetails() {\n\t\treturn {\n\t\t\tcardholderName: this.form.getElementById( '#card_name' ).value,\n\t\t};\n\t}\n\n\t/**\n\t * Add event to hosted card fields.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} hostedCardFields Hosted card field object\n\t */\n\taddEventToHostedFields( hostedCardFields ) {\n\t\tconst self = this;\n\n\t\thostedCardFields.on( 'focus', function( event ) {\n\t\t\tself.hostedCardFieldsContainers[ event.emittedBy ].classList.add( 'has-focus' );\n\t\t} );\n\n\t\thostedCardFields.on( 'blur', function( event ) {\n\t\t\tself.hostedCardFieldsContainers[ event.emittedBy ].classList.remove( 'has-focus' );\n\t\t} );\n\t}\n\n\t/**\n\t * Apply style when hosted card field container rendered.\n\t *\n\t * @since 2.9.0\n\t */\n\tapplyStyleToContainer() {\n\t\tthis.computedStyles();\n\t\tthis.setHostedFieldContainerHeight();\n\t\twindow.addEventListener( 'load', this.setHostedFieldContainerHeight.bind( this ) );\n\t}\n\n\t/**\n\t * Computed styles for hosted card field container and iframe input field.\n\t *\n\t * @since 2.9.0\n\t */\n\tcomputedStyles() {\n\t\tconst cardField = this.form.querySelector( 'input[name=\"card_name\"]' );\n\t\tconst computedStyle = window.getComputedStyle( cardField, null );\n\n\t\tif ( ! Array.from( this.styles.container ).length ) {\n\t\t\tthis.hostedFieldContainerStyleProperties.forEach( property => {\n\t\t\t\tthis.styles.container = {\n\t\t\t\t\t[ property ]: computedStyle.getPropertyValue( property ),\n\t\t\t\t\t...\tthis.styles.container,\n\t\t\t\t};\n\t\t\t} );\n\n\t\t\tthis.hostedInputFieldStyleProperties.forEach( property => {\n\t\t\t\tthis.styles.input = {\n\t\t\t\t\t[ property ]: computedStyle.getPropertyValue( property ),\n\t\t\t\t\t...\tthis.styles.input,\n\t\t\t\t};\n\t\t\t} );\n\n\t\t\tthis.hostedInputFieldPlaceholderStyleProperties.forEach( property => {\n\t\t\t\tthis.styles[ 'input:placeholder' ] = {\n\t\t\t\t\t[ property ]: computedStyle.getPropertyValue( property ),\n\t\t\t\t\t...\tthis.styles[ 'input:placeholder' ],\n\t\t\t\t};\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Set hosted field's container height.\n\t *\n\t * @since 2.9.0\n\t */\n\tsetHostedFieldContainerHeight() {\n\t\tthis.styles.container.height = `${ this.form.querySelector( 'input[name=\"card_name\"]' ).offsetHeight }px`;\n\n\t\tif ( [ 'auto', '0px' ].includes( this.styles.container.height ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Apply styles\n\t\tfor ( const fieldKey in this.hostedCardFieldsContainers ) {\n\t\t\tthis.hostedCardFieldsContainers[ fieldKey ]\n\t\t\t\t.style\n\t\t\t\t.setProperty( 'height', this.styles.container.height );\n\t\t}\n\t}\n\n\t/**\n\t * Set style properties for hosted card field and its container for focus state\n\t *\n\t * @since 2.9.0\n\t */\n\tsetFocusStyle() {\n\t\tconst sources = this.form.querySelectorAll( 'input[type=\"text\"]' );\n\t\tsources.forEach( source => {\n\t\t\t// Get style properties for focused input field.\n\t\t\tsource.addEventListener( 'focus', event => {\n\t\t\t\tif ( Array.from( this.styles[ 'input:focus' ] ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst computedStyle = window.getComputedStyle( event.target, null );\n\n\t\t\t\tthis.hostedFocusedInputFieldStyleProperties.forEach( property => {\n\t\t\t\t\tthis.styles[ 'input:focus' ] = {\n\t\t\t\t\t\t[ property ]: computedStyle.getPropertyValue( property ),\n\t\t\t\t\t\t...\tthis.styles[ 'input:focus' ],\n\t\t\t\t\t};\n\t\t\t\t} );\n\t\t\t}, { once: true } );\n\t\t} );\n\t}\n\n\t/**\n\t * Return whether or not 3ds authorize card Can authorize card.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} payload Hosted field response\n\t * @return {boolean} true if card can be authorize with 3ds or vice versa\n\t */\n\tcanThreeDsAuthorizeCard( payload ) {\n\t\treturn [ 'NO', 'POSSIBLE' ].includes( payload.liabilityShift );\n\t}\n\n\t/**\n\t * Return whether or not card 3ds authorized to process payment.\n\t *\n\t * @since 2.9.0\n\t * @param {object} payload Hosted field response\n\t * @return {boolean} true if card is 3ds authorized or vice versa\n\t */\n\tIsCardThreeDsAuthorized( payload ) {\n\t\treturn payload.liabilityShifted && 'POSSIBLE' === payload.liabilityShift;\n\t}\n\n\t/**\n\t * Handle hosted fields on submit errors.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} error Collection of hosted field on submit error\n\t */\n\thostedFieldOnSubmitErrorHandler( error ) {\n\t\tconst errorStringByGroup = {};\n\t\tconst errors = [];\n\n\t\tif ( ! Object.values( error ).length ) {\n\t\t\tGive.form.fn.resetDonationButton( this.jQueryForm );\n\t\t\tthrow window.givePayPalCommerce.genericDonorErrorMessage;\n\t\t}\n\n\t\t// Group credit card error notices.\n\t\terror.details.forEach( detail => {\n\t\t\t// If details is not about card field then insert notice into errors object.\n\t\t\tif ( ! detail.hasOwnProperty( 'field' ) ) {\n\t\t\t\terrors.push( {\n\t\t\t\t\tmessage: detail.description,\n\t\t\t\t} );\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! errorStringByGroup.hasOwnProperty( `${ detail.field }` ) ) {\n\t\t\t\t// setup error label.\n\t\t\t\tlet label = '';\n\n\t\t\t\tif ( -1 !== detail.field.indexOf( 'expiry' ) ) {\n\t\t\t\t\tlabel = givePayPalCommerce.paypalCardInfoErrorPrefixes.expirationDateField;\n\t\t\t\t} else if ( -1 !== detail.field.indexOf( 'number' ) ) {\n\t\t\t\t\tlabel = givePayPalCommerce.paypalCardInfoErrorPrefixes.cardNumberField;\n\t\t\t\t} else if ( -1 !== detail.field.indexOf( 'security_code' ) ) {\n\t\t\t\t\tlabel = givePayPalCommerce.paypalCardInfoErrorPrefixes.cardCvcField;\n\t\t\t\t} else {\n\t\t\t\t\t// Handle server errors.\n\t\t\t\t\tif ( detail.hasOwnProperty( 'description' ) ) {\n\t\t\t\t\t\terrors.push( {\n\t\t\t\t\t\t\tmessage: detail.description,\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\terrors.push( {\n\t\t\t\t\t\tmessage: `${ givePayPalCommerce.genericDonorErrorMessage } ${ givePayPalCommerce.errorCodeLabel }: ${ detail.issue }`,\n\t\t\t\t\t} );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( label ) {\n\t\t\t\t\terrorStringByGroup[ `${ detail.field }` ] = [ `<strong>${ label }</strong>` ];\n\t\t\t\t} else {\n\t\t\t\t\terrorStringByGroup[ `${ detail.field }` ] = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\terrorStringByGroup[ `${ detail.field }` ].push( `${ detail.description }.` );\n\t\t} );\n\n\t\tfor ( const field in errorStringByGroup ) {\n\t\t\terrors.push( {\n\t\t\t\tmessage: errorStringByGroup[ field ].join( ' ' ),\n\t\t\t} );\n\t\t}\n\n\t\tGive.form.fn.addErrorsAndResetDonationButton(\n\t\t\tthis.jQueryForm,\n\t\t\tGive.form.fn.getErrorHTML( errors )\n\t\t);\n\t}\n\n\t/**\n\t * Submit donation form.\n\t *\n\t * @since 2.9.0\n\t */\n\tsubmitDonationForm() {\n\t\tthis.jQueryForm.off( 'submit' );\n\t\tthis.jQueryForm.submit();\n\t}\n\n\t/**\n\t * Toggle fields.\n\t *\n\t * @since 2.9.0\n\t */\n\ttoggleFields() {\n\t\tconst display = DonationForm.isRecurringDonation( this.form ) ? 'none' : 'block';\n\t\tconst canHideParentContainer = 'none' === display && ! CustomCardFields.canShow( this.form );\n\n\t\tthis.toggleCardNameField( canHideParentContainer );\n\n\t\tfor ( const key in this.hostedCardFieldsContainers ) {\n\t\t\tthis.hostedCardFieldsContainers[ key ].style.display = display;\n\n\t\t\t// Hide parent container only if custom card fields is not available to process subscriptions.\n\t\t\tthis.hostedCardFieldsContainers[ key ].parentElement.style.display = canHideParentContainer ? 'none' : 'block';\n\t\t}\n\n\t\t// Hide separator only if custom card is not available for subscription.\n\t\tthis.customCardFields.separator.style.display = canHideParentContainer ? 'none' : 'flex';\n\t}\n\n\t/**\n\t * Handle card name field display logic.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {boolean} hide Flag to decide shor/hide card name field.\n\t */\n\ttoggleCardNameField( hide ) {\n\t\tconst cardField = this.form.querySelector( 'input[name=\"card_name\"]' );\n\n\t\tcardField.parentElement.style.display = hide ? 'none' : 'block';\n\t\tcardField.disabled = hide;\n\t}\n\n\t/**\n\t * Get field type by field name.\n\t *\n\t * 2since 2.9.0\n\t *\n\t * @param {string} fieldName field name. Support only \"card_number\", \"card_cvc\", and \"card_expiry\"\n\t *\n\t * @return {string} field type.\n\t */\n\tgetFieldTypeByFieldName( fieldName ) {\n\t\tif ( 'card_number' === fieldName ) {\n\t\t\treturn 'number';\n\t\t}\n\n\t\tif ( 'card_cvc' === fieldName ) {\n\t\t\treturn 'cvv';\n\t\t}\n\n\t\tif ( 'card_expiry' === fieldName ) {\n\t\t\treturn 'expirationDate';\n\t\t}\n\t}\n}\n\nexport default AdvancedCardFields;\n","/* globals givePayPalCommerce */\nimport PaymentMethod from './PaymentMethod';\nimport DonationForm from './DonationForm';\nimport AdvancedCardFields from './AdvancedCardFields';\n\nclass CustomCardFields extends PaymentMethod {\n\t/**\n\t * Setup properties.\n\t *\n\t * @since 2.9.0\n\t */\n\tsetupProperties() {\n\t\tthis.ccFieldsContainer = this.form.querySelector( '[id^=\"give_cc_fields-\"]' );\n\t\tthis.cardFields = this.getCardFields();\n\t\tthis.recurringChoiceHiddenField = this.form.querySelector( 'input[name=\"_give_is_donation_recurring\"]' );\n\n\t\tif ( ! ( this.separator = this.ccFieldsContainer.querySelector( '.separator-with-text' ) ) ) {\n\t\t\tthis.separator = this.cardFields.number.el ?\n\t\t\t\tthis.cardFields.number.el.parentElement.insertAdjacentElement( 'beforebegin', this.separatorHtml() ) :\n\t\t\t\tnull;\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trenderPaymentMethodOption() {\n\t\t// Show custom card field only if donor opted for recurring donation.\n\t\t// And PayPal account is from supported country.\n\t\t// We can not process recurring donation with advanced card fields, so let hide and use card field to process recurring donation with PayPal subscription api.\n\t\tthis.toggleFields();\n\t}\n\n\t/**\n\t * Get list of credit card fields.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {object} object of card field selectors.\n\t */\n\tgetCardFields() {\n\t\treturn {\n\t\t\tnumber: {\n\t\t\t\tel: this.form.querySelector( 'input[name=\"card_number\"]' ),\n\t\t\t},\n\t\t\tcvv: {\n\t\t\t\tel: this.form.querySelector( 'input[name=\"card_cvc\"]' ),\n\t\t\t},\n\t\t\texpirationDate: {\n\t\t\t\tel: this.form.querySelector( 'input[name=\"card_expiry\"]' ),\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Toggle fields.\n\t *\n\t * @since 2.9.0\n\t */\n\ttoggleFields() {\n\t\tconst display = CustomCardFields.canShow( this.form ) ? 'block' : 'none';\n\n\t\tfor ( const type in this.cardFields ) {\n\t\t\tthis.cardFields[ type ].el.style.display = display;\n\t\t\tthis.cardFields[ type ].el.disabled = 'none' === display;\n\t\t}\n\t}\n\n\t/**\n\t * Return whether or not custom card field available to process subscriptions.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} form Form javascript selector\n\t *\n\t * @return {boolean} Return whether or not display custom card fields.\n\t */\n\tstatic canShow( form ) {\n\t\treturn AdvancedCardFields.canShow() &&\n\t\t\tDonationForm.isRecurringDonation( form ) &&\n\t\t\t[ 'US', 'AU' ].includes( window.givePayPalCommerce.accountCountry );\n\t}\n\n\t/**\n\t * Remove card fields.\n\t *\n\t * @since 2.9.0\n\t */\n\tremoveFields() {\n\t\tfor ( const type in this.cardFields ) {\n\t\t\tthis.cardFields[ type ].el && this.cardFields[ type ].el.parentElement.remove(); // eslint-disable-line\n\t\t}\n\n\t\tconst cardNameField = this.form.querySelector( 'input[name=\"card_name\"]' );\n\n\t\tcardNameField && cardNameField.parentElement.remove(); // eslint-disable-line\n\t\tthis.separator && this.separator.remove(); // eslint-disable-line\n\t}\n\n\t/**\n\t * Return separator html.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {object} separator Node.\n\t */\n\tseparatorHtml() {\n\t\tconst div = document.createElement( 'div' );\n\n\t\tdiv.setAttribute( 'class', 'separator-with-text' );\n\t\tdiv.innerHTML = `<div class=\"dashed-line\"></div><div class=\"label\">${ givePayPalCommerce.separatorLabel }</div><div class=\"dashed-line\"></div>`;\n\n\t\treturn div;\n\t}\n}\n\nexport default CustomCardFields;\n","/* globals Give, Promise  */\nimport AdvancedCardFields from './AdvancedCardFields';\nimport CustomCardFields from './CustomCardFields';\n\nclass DonationForm {\n\t/**\n\t * Get form Data.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} $form Form selector.\n\t *\n\t * @return {FormData} FormData object of form entries.\n\t */\n\tstatic getFormDataWithoutGiveActionField( $form ) {\n\t\tconst formData = new FormData( $form ); // eslint-disable-line\n\n\t\tformData.delete( 'give_action' );\n\n\t\treturn formData;\n\t}\n\n\t/**\n\t * Add PayPal order id as hidden type input field to donation form.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} $form Form selector.\n\t * @param {string} orderId PayPal order id.\n\t * @param {string} fieldName Field name.\n\t *\n\t * @return {Promise} Promise of appending hidden input field to donation form.\n\t */\n\tstatic addFieldToForm( $form, orderId, fieldName ) {\n\t\tconst input = document.createElement( 'input' );\n\n\t\tinput.type = 'hidden';\n\t\tinput.name = fieldName;\n\t\tinput.value = orderId;\n\n\t\treturn new Promise( ( resolve, reject ) => { // eslint-disable-line\n\t\t\tresolve( $form.appendChild( input ) );\n\t\t} );\n\t}\n\n\t/**\n\t * Check if donor selected PayPal Commerce payment gateway or not.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} $form Form jQuery object.\n\t *\n\t * @return {boolean} Return whether or not donor selected PayPal Commerce payment gateway.\n\t */\n\tstatic isPayPalCommerceSelected( $form ) {\n\t\treturn 'paypal-commerce' === Give.form.fn.getGateway( $form );\n\t}\n\n\t/**\n\t * Add error notices to donation form.\n\t * Note: this function will add error at beginning of credit card fields section.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} $form Jquery Form object\n\t * @param {string} errors Error list HTML.\n\t */\n\tstatic addErrors( $form, errors ) {\n\t\t$form.find( '#give-paypal-commerce-smart-buttons-wrap' ).before( errors );\n\t}\n\n\t/**\n\t * Return whether or not current donation is recurring.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} form Form Selector.\n\t *\n\t * @return {boolean}  Return whether or not donor opted in for subscription.\n\t */\n\tstatic isRecurringDonation( form ) {\n\t\t// Recurring choice field will be not available if donation form set to \"Admin Defined\" Recurring Donations.\n\t\t// In that case we can still find type of donation by checking \"_give_is_donation_recurring\" field value.\n\t\tconst recurringChoiceHiddenField = form.querySelector( 'input[name=\"_give_is_donation_recurring\"]' );\n\n\t\treturn recurringChoiceHiddenField && '1' === recurringChoiceHiddenField.value;\n\t}\n\n\t/**\n\t * Call function when change field attribute.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} element Javascript selector\n\t * @param {object} handler Function\n\t */\n\tstatic trackRecurringHiddenFieldChange( element, handler ) {\n\t\tconst MutationObserver = new window.MutationObserver( function( mutations ) {\n\t\t\t// Exit if value does not change.\n\t\t\tif ( mutations[ 0 ].oldValue === mutations[ 0 ].target.value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Exit if paypal-commerce is not selected.\n\t\t\tif ( ! DonationForm.isPayPalCommerceSelected( jQuery( mutations[ 0 ].target ).closest( '.give-form' ) ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thandler.call();\n\t\t} );\n\n\t\tMutationObserver.observe( element, {\n\t\t\tattributeFilter: [ 'value' ],\n\t\t\tattributeOldValue: true,\n\t\t} );\n\t}\n\n\t/**\n\t * Call function when change field attribute.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} element Javascript selector\n\t * @param {object} handler Function\n\t */\n\tstatic trackDonationCurrencyChange( element, handler ) {\n\t\tconst MutationObserver = new window.MutationObserver( function( mutations ) {\n\t\t\t// Exit if data attribute does not change does not change.\n\t\t\tif ( mutations[ 0 ].oldValue === mutations[ 0 ].target.getAttribute( 'data-currency_code' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Exit if paypal-commerce is not selected.\n\t\t\tif ( ! DonationForm.isPayPalCommerceSelected( jQuery( mutations[ 0 ].target ) ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thandler.call();\n\t\t} );\n\n\t\tMutationObserver.observe( element, {\n\t\t\tattributeFilter: [ 'data-currency_code' ],\n\t\t\tattributeOldValue: true,\n\t\t} );\n\t}\n\n\t/**\n\t * Hide donate now button if only PayPal smart buttons payment method available.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} form form javascript selector.\n\t */\n\tstatic toggleDonateNowButton( form ) {\n\t\tlet display = '';\n\n\t\t// Hide the buttons if there are no custom credit card fields\n\t\tif ( ! AdvancedCardFields.canShow() || ( DonationForm.isRecurringDonation( form ) && ! CustomCardFields.canShow( form ) ) ) {\n\t\t\tdisplay = 'none';\n\t\t}\n\n\t\tform.querySelector( 'input[name=\"give-purchase\"]' ).style.display = display;\n\t}\n}\n\nexport default DonationForm;\n","/* globals jQuery, Give */\nimport DonationForm from './DonationForm';\n\nclass PaymentMethod {\n\t/**\n\t * Constructor.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} form selector.\n\t */\n\tconstructor( form ) {\n\t\tthis.form = form;\n\t\tthis.jQueryForm = jQuery( form );\n\t\tthis.ajaxurl = Give.fn.getGlobalVar( 'ajaxurl' );\n\n\t\tthis.setupProperties();\n\t}\n\n\t/**\n\t * Setup properties.\n\t *\n\t * @since 2.9.0\n\t */\n\tsetupProperties() {}\n\n\t/**\n\t * Render PayPal smart buttons.\n\t *\n\t * @since 2.9.0\n\t */\n\tboot() {\n\t\tthis.renderPaymentMethodOption();\n\t}\n\n\t/**\n\t * Render payment method.\n\t *\n\t * @since 2.9.0\n\t */\n\trenderPaymentMethodOption() {}\n\n\t/**\n\t * Show error on donation form.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} error PayPal error object\n\t */\n\tshowError( error ) {\n\t\tif ( error.hasOwnProperty( 'details' ) ) {\n\t\t\tDonationForm.addErrors( this.jQueryForm, Give.form.fn.getErrorHTML( [ { message: error.details[ 0 ].description } ] ) );\n\t\t\treturn;\n\t\t}\n\n\t\tDonationForm.addErrors( this.jQueryForm, error );\n\t}\n\n\t/**\n\t * Checks whether GiveWP is in test mode\n\t *\n\t * @since 2.9.0\n\t *\n\t * @returns {boolean} whether or not GiveWP is in test mode\n\t */\n\tisInTestMode() {\n\t\treturn Give.fn.getGlobalVar( 'is_test_mode' ) === '1';\n\t}\n\n\t/**\n\t * Display an error message to the user\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {string} error Message to display\n\t * @param {boolean} showToDonor Whether the message is safe to show donors. default false\n\t */\n\tdisplayErrorMessage( error, showToDonor = false ) {\n\t\tlet errorToDisplay = Give.form.fn.getErrorHTML( [ { message: window.givePayPalCommerce.genericDonorErrorMessage } ] );\n\n\t\tif ( showToDonor || this.isInTestMode() ) {\n\t\t\terrorToDisplay = error;\n\t\t}\n\n\t\tthis.showError( errorToDisplay );\n\t}\n\n\t/**\n\t * Return whether or not process donation form same donation form.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {string} formId Donation form id attribute value.\n\t * @return {boolean|boolean} Return true if processing same form otherwise false.\n\t */\n\tisProcessingEventForForm( formId ) {\n\t\treturn formId === this.form.getAttribute( 'id' ) && DonationForm.isPayPalCommerceSelected( this.jQueryForm );\n\t}\n\n\t/**\n\t * Create order event handler for smart buttons.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} data PayPal button data.\n\t * @param {object} actions PayPal button actions.\n\t *\n\t * @return {Promise<unknown>} Return PayPal order id.\n\t */\n\tasync createOrderHandler(data, actions) { // eslint-disable-line\n\t\tGive.form.fn.removeErrors( this.jQueryForm );\n\n\t\t// eslint-disable-next-line\n\t\tconst response = await fetch(`${this.ajaxurl}?action=give_paypal_commerce_create_order`, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: DonationForm.getFormDataWithoutGiveActionField( this.form ),\n\t\t} );\n\t\tconst responseJson = await response.json();\n\n\t\tif ( ! responseJson.success ) {\n\t\t\tthrow responseJson.data.error;\n\t\t}\n\n\t\treturn responseJson.data.id;\n\t}\n}\n\nexport default PaymentMethod;\n","/* globals paypal, Give, FormData */\nimport DonationForm from './DonationForm';\nimport PaymentMethod from './PaymentMethod';\nimport CustomCardFields from './CustomCardFields';\nimport AdvancedCardFields from './AdvancedCardFields';\n\n/**\n * PayPal Smart Buttons.\n */\nclass SmartButtons extends PaymentMethod {\n\t/**\n\t * Setup properties.\n\t *\n\t * @since 2.9.0\n\t */\n\tsetupProperties() {\n\t\tthis.ccFieldsContainer = this.form.querySelector( '[id^=\"give_cc_fields-\"]' );\n\t\tthis.recurringChoiceHiddenField = this.form.querySelector( 'input[name=\"_give_is_donation_recurring\"]' );\n\t\tthis.smartButton = null;\n\t}\n\n\t/**\n\t * Get smart button container.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {object} Smart button container selector.\n\t */\n\tgetButtonContainer() {\n\t\tthis.ccFieldsContainer = this.form.querySelector( '[id^=\"give_cc_fields-\"]' ); // Refresh cc field container selector.\n\t\tconst oldSmartButtonWrap = this.ccFieldsContainer.querySelector( '#give-paypal-commerce-smart-buttons-wrap' );\n\n\t\tif ( oldSmartButtonWrap ) {\n\t\t\treturn oldSmartButtonWrap;\n\t\t}\n\n\t\tconst smartButtonWrap = document.createElement( 'div' );\n\t\tconst separator = this.ccFieldsContainer.querySelector( '.separator-with-text' );\n\t\tsmartButtonWrap.setAttribute( 'id', 'give-paypal-commerce-smart-buttons-wrap' );\n\t\tconst cardNumberWarp = this.ccFieldsContainer.querySelector( '[id^=give-card-number-wrap-]' );\n\n\t\treturn this.ccFieldsContainer.insertBefore( smartButtonWrap, separator ? separator : cardNumberWarp );\n\t}\n\n\t/**\n\t * Render smart buttons.\n\t *\n\t * @since 2.9.0\n\t * @return {object} Return Promise\n\t */\n\trenderPaymentMethodOption() {\n\t\tthis.smartButtonContainer = this.getButtonContainer();\n\n\t\tif ( this.smartButton ) {\n\t\t\tthis.smartButton.close();\n\t\t}\n\n\t\tconst options = {\n\t\t\tonInit: this.onInitHandler.bind( this ),\n\t\t\tonClick: this.onClickHandler.bind( this ),\n\t\t\tcreateOrder: this.createOrderHandler.bind( this ),\n\t\t\tonApprove: this.orderApproveHandler.bind( this ),\n\t\t\tstyle: {\n\t\t\t\tlayout: 'vertical',\n\t\t\t\tsize: 'responsive',\n\t\t\t\tshape: 'rect',\n\t\t\t\tlabel: 'paypal',\n\t\t\t\tcolor: 'gold',\n\t\t\t\ttagline: false,\n\t\t\t},\n\t\t\tonError: ( error ) =>{\n\t\t\t\tthis.displayErrorMessage( error );\n\t\t\t},\n\t\t};\n\n\t\tif ( DonationForm.isRecurringDonation( this.form ) ) {\n\t\t\toptions.createSubscription = this.creatSubscriptionHandler.bind( this );\n\t\t\toptions.onApprove = this.subscriptionApproveHandler.bind( this );\n\n\t\t\tdelete options.createOrder;\n\t\t}\n\n\t\tDonationForm.toggleDonateNowButton( this.form );\n\n\t\tthis.smartButton = paypal.Buttons( options );\n\n\t\treturn this.smartButton.render( this.smartButtonContainer );\n\t}\n\n\t/**\n\t * On init event handler for smart buttons.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} data PayPal button data.\n\t * @param {object} actions PayPal button actions.\n\t */\n\tonInitHandler( data, actions ) { // eslint-disable-line\n\t\t// Keeping this for future reference.\n\t}\n\n\t/**\n\t * On click event handler for smart buttons.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} data PayPal button data.\n\t * @param {object} actions PayPal button actions.\n\t *\n\t * @return {Promise<unknown>} Return whether or not open PayPal checkout window.\n\t */\n\tasync onClickHandler(data, actions) { // eslint-disable-line\n\t\tconst formData = new FormData( this.form );\n\n\t\tif ( AdvancedCardFields.canShow() ) {\n\t\t\tformData.delete( 'card_name' );\n\t\t\tformData.delete( 'card_cvc' );\n\t\t\tformData.delete( 'card_number' );\n\t\t\tformData.delete( 'card_expiry' );\n\t\t}\n\n\t\tGive.form.fn.removeErrors( this.jQueryForm );\n\t\tconst result = await Give.form.fn.isDonorFilledValidData( this.form, formData );\n\n\t\tif ( 'success' === result ) {\n\t\t\treturn actions.resolve();\n\t\t}\n\n\t\tGive.form.fn.addErrors( this.jQueryForm, result );\n\t\treturn actions.reject();\n\t}\n\n\t/**\n\t * Create subscription event handler for smart buttons.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} data PayPal button data.\n\t * @param {object} actions PayPal button actions.\n\t *\n\t * @return {Promise<unknown>} Return PayPal order id.\n\t */\n\tasync creatSubscriptionHandler( data, actions ) {\n\t\tGive.form.fn.removeErrors( this.jQueryForm );\n\n\t\t// eslint-disable-next-line\n\t\tconst response = await fetch( `${ this.ajaxurl }?action=give_paypal_commerce_create_plan_id`, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: DonationForm.getFormDataWithoutGiveActionField( this.form ),\n\t\t} );\n\n\t\tconst responseJson = await response.json();\n\n\t\tif ( ! responseJson.success ) {\n\t\t\tthrow responseJson.data.error;\n\t\t}\n\n\t\treturn actions.subscription.create( { plan_id: responseJson.data.id } );\n\t}\n\n\t/**\n\t * Subscription approve event handler for smart buttons.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} data PayPal button data.\n\t * @param {object} actions PayPal button actions.\n\t *\n\t * @return {*} Return whether or not PayPal payment captured.\n\t */\n\tasync subscriptionApproveHandler( data, actions ) { // eslint-disable-line\n\t\tGive.form.fn.showProcessingState( window.givePayPalCommerce.textForOverlayScreen );\n\t\tawait DonationForm.addFieldToForm( this.form, data.subscriptionID, 'payPalSubscriptionId' );\n\n\t\tthis.submitDonationForm();\n\t}\n\n\t/**\n\t * Order approve event handler for smart buttons.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} data PayPal button data.\n\t * @param {object} actions PayPal button actions.\n\t *\n\t * @return {*} Return whether or not PayPal payment captured.\n\t */\n\tasync orderApproveHandler( data, actions ) {\n\t\tGive.form.fn.showProcessingState( window.givePayPalCommerce.textForOverlayScreen );\n\t\tGive.form.fn.disable( this.jQueryForm, true );\n\t\tGive.form.fn.removeErrors( this.jQueryForm );\n\n\t\t// eslint-disable-next-line\n\t\tconst response = await fetch( `${ this.ajaxurl }?action=give_paypal_commerce_approve_order&order=` + data.orderID, {\n\t\t\tmethod: 'post',\n\t\t\tbody: DonationForm.getFormDataWithoutGiveActionField( this.form ),\n\t\t} );\n\t\tconst responseJson = await response.json();\n\n\t\t// Three cases to handle:\n\t\t//   (1) Recoverable INSTRUMENT_DECLINED -> call actions.restart()\n\t\t//   (2) Other non-recoverable errors -> Show a failure message\n\t\t//   (3) Successful transaction -> Show a success / thank you message\n\n\t\tlet errorDetail = {};\n\t\tif ( ! responseJson.success ) {\n\t\t\tGive.form.fn.disable( this.jQueryForm, false );\n\t\t\tGive.form.fn.hideProcessingState();\n\n\t\t\tthis.displayErrorMessage( responseJson.data.error, true );\n\n\t\t\terrorDetail = responseJson.data.error.details[ 0 ];\n\t\t\tif ( errorDetail && errorDetail.issue === 'INSTRUMENT_DECLINED' ) {\n\t\t\t\t// Recoverable state, see: \"Handle Funding Failures\"\n\t\t\t\t// https://developer.paypal.com/docs/checkout/integration-features/funding-failure/\n\t\t\t\treturn actions.restart();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst orderData = responseJson.data.order;\n\t\tawait DonationForm.addFieldToForm( this.form, orderData.id, 'payPalOrderId' );\n\n\t\tthis.submitDonationForm();\n\t}\n\n\t/**\n\t * Submit donation form.\n\t *\n\t * @since 2.9.0\n\t */\n\tsubmitDonationForm() {\n\t\t// Do not submit  empty or filled Name credit card field with form.\n\t\t// If we do that we will get `empty_card_name` error or other.\n\t\t// We are removing this field before form submission because this donation processed with smart button.\n\t\tthis.jQueryForm.off( 'submit' );\n\t\tthis.removeCreditCardFields();\n\t\tthis.form.submit();\n\t}\n\n\t/**\n\t * Remove Card fields.\n\t *\n\t * @since 2.9.0\n\t */\n\tremoveCreditCardFields() {\n\t\t// Remove custom card fields.\n\t\tif ( AdvancedCardFields.canShow() ) {\n\t\t\tthis.jQueryForm.find( 'input[name=\"card_name\"]' ).parent().remove();\n\t\t\tthis.ccFieldsContainer.querySelector( '.separator-with-text' ).remove(); // Remove separator.\n\n\t\t\tconst $customCardFields = new CustomCardFields( this.form );\n\n\t\t\tfor ( const key in $customCardFields.cardFields ) {\n\t\t\t\t$customCardFields.cardFields[ key ].el.parentElement.remove();\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default SmartButtons;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* globals Give, jQuery, givePayPalCommerce */\nimport DonationForm from './DonationForm';\nimport SmartButtons from './SmartButtons';\nimport AdvancedCardFields from './AdvancedCardFields';\nimport CustomCardFields from './CustomCardFields';\nimport { loadScript } from '@paypal/paypal-js';\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tlet $formWraps = document.querySelectorAll( '.give-form-wrap' );\n\tconst $tmpFormWraps = [];\n\n\t// Filter container who has donation form.\n\t$formWraps.forEach( $formWrap => {\n\t\tif ( Give.form.fn.hasDonationForm( $formWrap ) ) {\n\t\t\t$tmpFormWraps.push( $formWrap );\n\t\t}\n\t} );\n\n\tif ( ! $tmpFormWraps.length ) {\n\t\treturn;\n\t}\n\n\t$formWraps = $tmpFormWraps;\n\n\t// Setup initial PayPal script on basis of first form on webpage.\n\tloadPayPalScript( $formWraps[ 0 ].querySelector( '.give-form' ) )\n\t\t.then( () => {\n\t\t\tsetupPaymentMethods();\n\t\t} );\n\n\t$formWraps.forEach( $formWrap => {\n\t\tconst $form = $formWrap.querySelector( '.give-form' );\n\t\tsetRecurringFieldTrackerToReloadPaypalSDK( $form );\n\t\tsetFormCurrencyTrackerToReloadPaypalSDK( $form );\n\t\tsetupGatewayLoadEventToRenderPaymentMethods( $form );\n\t} );\n\n\t// On form submit prevent submission for PayPal commerce.\n\t// Form submission will be take care internally by smart buttons or advanced card fields.\n\tjQuery( 'form.give-form' ).on( 'submit', e => {\n\t\tif ( ! DonationForm.isPayPalCommerceSelected( jQuery( this ) ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\te.preventDefault();\n\n\t\treturn false;\n\t} );\n\n\t/**\n\t * Setup recurring field tracker to reload paypal sdk.\n\t *\n\t * @since 2.9.0\n\t * @param {object} $form Form selector\n\t */\n\tfunction setRecurringFieldTrackerToReloadPaypalSDK( $form ) {\n\t\tconst recurringField = $form.querySelector( 'input[name=\"_give_is_donation_recurring\"]' );\n\n\t\tif ( recurringField ) {\n\t\t\tDonationForm.trackRecurringHiddenFieldChange( recurringField, () => {\n\t\t\t\tloadPayPalScript( $form ).then( () => {\n\t\t\t\t\tsetupPaymentMethods();\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Setup gateway load event to render payment methods.\n\t *\n\t * @since 2.9.0\n\t * @param {object} $form Form selector\n\t */\n\tfunction setupGatewayLoadEventToRenderPaymentMethods( $form ) {\n\t\tdocument.addEventListener( 'give_gateway_loaded', () => {\n\t\t\tif ( ! DonationForm.isPayPalCommerceSelected( jQuery( $form ) ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tloadPayPalScript( $form ).then( () => {\n\t\t\t\tsetupPaymentMethod( $form );\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Setup form currency tracker to reload paypal sdk.\n\t *\n\t * @since 2.9.0\n\t * @param {object} $form Form selector\n\t */\n\tfunction setFormCurrencyTrackerToReloadPaypalSDK( $form ) {\n\t\tDonationForm.trackDonationCurrencyChange( $form, () => {\n\t\t\tloadPayPalScript( $form ).then( () => {\n\t\t\t\tsetupPaymentMethods();\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Setup PayPal payment methods\n\t *\n\t * @since 2.9.0\n\t */\n\tfunction setupPaymentMethods() {\n\t\t$formWraps.forEach( $formWrap => {\n\t\t\tconst $form = $formWrap.querySelector( '.give-form' );\n\n\t\t\tif ( ! DonationForm.isPayPalCommerceSelected( jQuery( $form ) ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetupPaymentMethod( $form );\n\t\t} );\n\t}\n\n\t/**\n\t * Setup payment  method.\n\t *\n\t * @since 2.9.0\n\t *\n\t * @param {object} $form Form selector\n\t */\n\tfunction setupPaymentMethod( $form ) {\n\t\tconst smartButtons = new SmartButtons( $form );\n\t\tconst customCardFields = new CustomCardFields( $form );\n\n\t\tsmartButtons.boot();\n\n\t\t// Boot CustomCardFields class before AdvancedCardFields because of internal dependencies.\n\t\tif ( AdvancedCardFields.canShow() ) {\n\t\t\tconst advancedCardFields = new AdvancedCardFields( customCardFields );\n\n\t\t\tcustomCardFields.boot();\n\t\t\tadvancedCardFields.boot();\n\n\t\t\treturn;\n\t\t}\n\n\t\tcustomCardFields.removeFields();\n\t}\n\n\t/**\n\t * Load PayPal script.\n\t *\n\t * @param {object} form Form selector\n\t *\n\t * @since 2.9.0\n\t *\n\t * @return {Promise}  PayPal sdk load promise.\n\t */\n\tfunction loadPayPalScript( form ) {\n\t\tconst options = {};\n\t\tconst isRecurring = DonationForm.isRecurringDonation( form );\n\n\t\toptions.intent = isRecurring ? 'subscription' : 'capture';\n\t\toptions.vault = !! isRecurring;\n\t\toptions.currency = Give.form.fn.getInfo( 'currency_code', jQuery( form ) );\n\n\t\treturn loadScript( { ...givePayPalCommerce.payPalSdkQueryParameters, ...options } );\n\t}\n} );\n"],"names":["DonationForm","PaymentMethod","CustomCardFields","AdvancedCardFields","customCardFields","_classCallCheck","_this","form","setFocusStyle","cardFields","hostedCardFieldsContainers","hostedFieldContainerStyleProperties","hostedInputFieldStyleProperties","hostedFocusedInputFieldStyleProperties","hostedInputFieldPlaceholderStyleProperties","styles","container","input","setupContainerForHostedCardFields","applyStyleToContainer","submitEventName","getAttribute","createOrder","createOrderHandler","bind","_context","getComputedInputFieldForHostedField","fields","getPayPalHostedCardFields","paypal","HostedFields","render","error","_this2","displayErrorMessage","hostedCardFields","onSubmitHandlerForDonationForm","addEventToHostedFields","jQueryForm","off","on","fieldType","cardFieldsKey","document","createElement","el","fieldId","field","querySelector","innerHTML","getFieldTypeByFieldName","setAttribute","parentElement","appendChild","toggleFields","number","selector","placeholder","givePayPalCommerce","cardFieldPlaceholders","cardNumber","cvv","cardCvc","expirationDate","orderId","_context2","fetch","ajaxurl","method","body","getFormDataWithoutGiveActionField","response","json","hostedCardFieldStyles","color","event","isPayPalCommerceSelected","_context3","isRecurringDonation","Give","fn","showProcessingState","window","textForOverlayScreen","submitDonationForm","hostedFieldOnSubmitErrorHandler","preventDefault","removeErrors","data","getExtraCardDetails","submit","contingencies","payload","canThreeDsAuthorizeCard","IsCardThreeDsAuthorized","addErrorsAndResetDonationButton","getErrorHTML","message","threeDsCardAuthenticationFailedNotice","onApproveHandler","_context4","approvePayment","result","success","hideProcessingState","defaultDonationCreationError","details","description","addFieldToForm","order","id","cardholderName","getElementById","value","self","emittedBy","classList","add","remove","computedStyles","setHostedFieldContainerHeight","addEventListener","cardField","computedStyle","getComputedStyle","Array","from","length","forEach","_this3","property","getPropertyValue","height","offsetHeight","includes","fieldKey","style","setProperty","sources","querySelectorAll","source","_this4","target","once","liabilityShift","liabilityShifted","errorStringByGroup","errors","Object","values","resetDonationButton","genericDonorErrorMessage","detail","hasOwnProperty","push","label","indexOf","paypalCardInfoErrorPrefixes","expirationDateField","cardNumberField","cardCvcField","errorCodeLabel","issue","join","display","canHideParentContainer","canShow","toggleCardNameField","key","separator","hide","disabled","fieldName","isEligible","supportsCustomPayments","ccFieldsContainer","getCardFields","recurringChoiceHiddenField","insertAdjacentElement","separatorHtml","type","cardNameField","div","separatorLabel","accountCountry","$form","formData","FormData","name","Promise","resolve","reject","getGateway","find","before","element","handler","MutationObserver","mutations","oldValue","jQuery","closest","call","observe","attributeFilter","attributeOldValue","getGlobalVar","setupProperties","renderPaymentMethodOption","addErrors","showToDonor","errorToDisplay","isInTestMode","showError","formId","actions","responseJson","SmartButtons","smartButton","oldSmartButtonWrap","smartButtonWrap","cardNumberWarp","insertBefore","smartButtonContainer","getButtonContainer","close","options","onInit","onInitHandler","onClick","onClickHandler","onApprove","orderApproveHandler","layout","size","shape","tagline","onError","createSubscription","creatSubscriptionHandler","subscriptionApproveHandler","toggleDonateNowButton","Buttons","isDonorFilledValidData","subscription","create","plan_id","subscriptionID","disable","orderID","errorDetail","restart","orderData","removeCreditCardFields","parent","$customCardFields","loadScript","$formWraps","$tmpFormWraps","hasDonationForm","$formWrap","loadPayPalScript","then","setupPaymentMethods","setRecurringFieldTrackerToReloadPaypalSDK","setFormCurrencyTrackerToReloadPaypalSDK","setupGatewayLoadEventToRenderPaymentMethods","e","recurringField","trackRecurringHiddenFieldChange","setupPaymentMethod","trackDonationCurrencyChange","smartButtons","boot","advancedCardFields","removeFields","isRecurring","intent","vault","currency","getInfo","payPalSdkQueryParameters"],"sourceRoot":""}