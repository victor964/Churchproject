{"version":3,"file":"/js/admin.js","mappings":";;;;;;;;;AAAA,gHAA+C;;;;;;;;;;;ACA/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,8BAA8B,OAAO;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qGAAqG,EAAE;AACvG;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;;AAEA;AACA;AACA,KAAK,IAA8B;AACnC,MAAM,KAA6B;AACnC;AACA;AACA,EAAE,kBAAkB;AACpB,GAAG,KAAK,EAsBN;;AAEF;AACA,CAAC;;;;;;;;;;;AC5ZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACAA,MAAM,CAAEC,QAAF,CAAND,CAAmBE,KAAnBF,CAA0B,UAAUG,CAAV,EAAc;AACvC;AACD;AACA;AACA;AACA;AACC,WAASC,gCAAT,GAA4C;AAC3C,QAAMC,KAAK,GAAGF,CAAC,CAAE,iCAAF,CAAf;AAAA,QACCG,UAAU,GAAGH,CAAC,CAAEE,KAAF,CAADF,CAAWI,IAAXJ,CAAiB,kDAAjBA,CADd;AAAA,QAECK,MAAM,GAAGF,UAAU,CAACG,IAAXH,EAFV;AAAA,QAGCI,aAAa,GAAGJ,UAAU,CAACC,IAAXD,CAAiB,oBAAjBA,CAHjB;AAAA,QAICK,UAAU,GAAGL,UAAU,CAACM,QAAXN,CAAqB,YAArBA,CAJd;AAAA,QAKCO,QAAQ,GAAG,EALZ;AAOAV,KAAC,CAAE,6BAAF,CAADA,CAAmCW,QAAnCX,CAA6C,aAA7CA;AA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;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,eAAe;AAC5B,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,IAA0C;AAChD,IAAI,mCAAO;AACX;AACA,KAAK;AAAA,kGAAC;AACN,IAAI,KAAK,EAIN;AACH,CAAC;;;;;;;;;;;ACjZD;AACA;AACA,6BAA6B,mBAAmB,oCAAoC;AACpF,uCAAuC,0BAA0B,2DAA2D,kBAAkB,4BAA4B,mCAAmC,8BAA8B,oCAAoC,eAAe;AAC9R,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,UAAU;AACV;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;;;;;ACl0CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAK4B;AAClC,CAAC;AACD,8BAA8B;AAC9B;;AAEA;AACA,8DAA8D,8BAAmB;;AAEjF;;AAEA;AACA,8BAAmB;AACnB,0BAA0B;AAC1B,CAAC;;AAED;AACA,mBAAmB,8BAAmB;AACtC,wCAAwC,8BAAmB;AAC3D;AACA,aAAa,8BAAmB;AAChC,kCAAkC,8BAAmB;AACrD;AACA,iBAAiB,8BAAmB;AACpC,kCAAkC,8BAAmB;AACrD,CAAC;AACD,wBAAwB,2BAA2B,2EAA2E,kCAAkC,wBAAwB,OAAO,kCAAkC,mIAAmI;;AAEpW,kDAAkD,0CAA0C;;AAE5F,4CAA4C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD;;AAE/P,8DAA8D,sEAAsE,8DAA8D;;;AAGlM;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA,0DAA0D;;AAE1D,6CAA6C;;AAE7C;AACA;AACA,wCAAwC;;AAExC;AACA,iEAAiE;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;AAEA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA,CAAC;AACD,iCAAiC,2BAA2B,2EAA2E,2CAA2C,wBAAwB,OAAO,2CAA2C,mIAAmI;;AAE/X,2DAA2D,0CAA0C;;AAErG,qDAAqD,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD;;AAExQ,uEAAuE,+EAA+E,uEAAuE;;AAE7N,2CAA2C,+DAA+D,6EAA6E,yEAAyE,eAAe,uDAAuD,GAAG;;AAEzU,iCAAiC,4EAA4E,iBAAiB,aAAa;;AAE3I,iCAAiC,6DAA6D,yCAAyC,8CAA8C,iCAAiC,mDAAmD,2DAA2D,OAAO,yCAAyC;;AAEpX,kDAAkD,mFAAmF,eAAe;;AAEpJ,wCAAwC,uBAAuB,yFAAyF;;AAExJ,uCAAuC,wEAAwE,0CAA0C,8CAA8C,MAAM,uEAAuE,IAAI,eAAe,YAAY;;AAEnT,8BAA8B,gGAAgG,mDAAmD;;;;;AAKjL;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA,aAAa,4CAA4C;AACzD,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4CAA4C;AAC3D;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,eAAe,OAAO;AACtB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,eAAe,SAAS;AACxB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;;AAEA,GAAG;AACH;;AAEA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;;AAEA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,OAAO;;AAEP;AACA,kDAAkD,gCAAmB;;AAErE,cAAc,gCAAmB;;AAEjC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;;;AAGA,OAAO;;AAEP;AACA,kDAAkD,gCAAmB;;AAErE,SAAS,gCAAmB;AAC5B,eAAe,gCAAmB;;AAElC;AACA;AACA;AACA;AACA,WAAW,4CAA4C;AACvD,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;;AAGA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,yCAAyC;AACzC;AACA;;AAEA,YAAY,SAAS;AACrB;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA,OAAO;;AAEP,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,mBAAmB,gCAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,gCAAmB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gCAAmB;AAC9B;AACA,0BAA0B,4BAA4B;AACtD,0BAA0B;AAC1B,YAAY,gCAAmB,aAAa,WAAW;AACvD;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW,gCAAmB;AAC9B;AACA,gBAAgB,gCAAmB,wBAAwB,gCAAmB;AAC9E,oDAAoD,wCAAwC;AAC5F;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW,gCAAmB,2BAA2B;AACzD,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,iBAAiB,gCAAmB;AACpC,UAAU;AACV;AACA,CAAC;;;;;;;;;;ACz7BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB,yBAAyB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,mBAAmB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;ACxMD;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,WAAW,+BAA+B,SAAS,SAAS,SAAS,SAAS,gBAAgB,oBAAoB,YAAY,WAAW,sBAAsB,sBAAsB,sBAAsB,YAAY,WAAW,sBAAsB,sBAAsB,sBAAsB,WAAW,yCAAyC,KAAK,gDAAgD,uBAAuB,8BAA8B,yCAAyC,+BAA+B,+BAA+B,+BAA+B,mBAAmB,UAAU,mBAAmB,sCAAsC,sBAAsB,mCAAmC,MAAM,GAAG,8BAA8B,iCAAiC,mBAAmB,oDAAoD,yCAAyC,yBAAyB,4BAA4B,uBAAuB,uBAAuB,IAAI,eAAe,IAAI,eAAe,IAAI,wFAAwF,wBAAwB,IAAI,eAAe,IAAI,eAAe,IAAI,uIAAuI,sMAAsM,sPAAsP,sBAAsB,EAAE,cAAc,EAAE,cAAc,EAAE,mFAAmF,uJAAuJ,mCAAmC,+CAA+C,KAAK,gCAAgC,iCAAiC,kBAAkB,k2BAAk2B;;AAEpjG;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,SAAS;AACrB;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,oBAAoB,yDAAyD;AAC7E;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,QAAQ;;AAEpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,8DAA8D;AAC9D;AACA,8BAA8B;;AAE9B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kCAAkC,yBAAyB;AAC3D;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,QAAQ;AACpB;AACA,aAAa,QAAQ;;AAErB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA,iEAAiE;AACjE;AACA;AACA,YAAY,QAAQ;AACpB;AACA,YAAY,QAAQ;AACpB,YAAY,kBAAkB;AAC9B;AACA,YAAY,SAAS;AACrB;AACA,YAAY,SAAS;AACrB,aAAa,QAAQ;;AAErB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,YAAY,QAAQ;AACpB;AACA,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB,YAAY,QAAQ;AACpB,YAAY,kBAAkB;AAC9B;AACA,YAAY,SAAS;AACrB;AACA,YAAY,SAAS;AACrB,YAAY,SAAS,yCAAyC;AAC9D;AACA,YAAY,SAAS,uCAAuC;AAC5D;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA,YAAY,SAAS;AACrB,YAAY,SAAS;AACrB,YAAY,SAAS;AACrB,YAAY,kBAAkB;AAC9B;AACA,YAAY,SAAS;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,6BAA6B,yBAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,2FAA2F;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,uBAAuB,qCAAqC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,sCAAsC;AACtC,0CAA0C;AAC1C,mCAAmC;AACnC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,wBAAwB;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,sCAAsC;AACtC,sCAAsC;AACtC;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,eAAe;;AAEvC;AACA;AACA;AACA;;AAEA,+CAA+C;AAC/C;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,eAAe;;AAEvC;AACA;AACA;AACA;;AAEA,+CAA+C;AAC/C;;AAEA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,0BAA0B;AAClD;AACA,wBAAwB,0BAA0B;AAClD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,cAAc;AAC1C,yCAAyC;;AAEzC;AACA,wCAAwC;AACxC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA,8DAA8D,WAAW;AACzE;;AAEA;AACA;AACA,wBAAwB;AACxB,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;;AAEA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wBAAwB;;AAExB,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,wBAAwB,kBAAkB;;AAE1C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,sBAAsB;AACtB;;AAEA;AACA;;AAEA;;AAEA;AACA,wBAAwB,mBAAmB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb,wBAAwB,mBAAmB;AAC3C;AACA,iCAAiC;;AAEjC;AACA;;AAEA;AACA,wBAAwB,mBAAmB;AAC3C;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,uCAAuC;AACzE,kCAAkC,uCAAuC;;AAEzE;AACA;AACA,sCAAsC,+EAA+E;AACrH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;;AAEA;AACA;;AAEA,gCAAgC,iBAAiB;AACjD;;AAEA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;;AAEA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,QAAQ;AAChD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,mBAAmB;AAC3C;;AAEA;AACA;;AAEA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4BAA4B,mBAAmB;AAC/C;AACA;;AAEA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA,yDAAyD;;AAEzD;AACA,+DAA+D;;AAE/D;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mCAAmC;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C;AACA,0CAA0C;AAC1C;AACA;AACA,0CAA0C;AAC1C;AACA,0CAA0C;AAC1C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,kBAAkB;;AAE9C;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,2CAA2C;AAC3C;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0DAA0D;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,4BAA4B;AAChE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB;AAC1D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4BAA4B,qBAAqB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,4BAA4B,uBAAuB;AACnD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,8BAA8B;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,gCAAgC,uBAAuB;;AAEvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,mBAAmB;AACpD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gCAAgC,mBAAmB;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gFAAgF,+DAA+D;AAC/I;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,4BAA4B,mBAAmB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;;AAEA,4BAA4B,oBAAoB;;AAEhD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wHAAwH,mCAAmC,SAAS,qCAAqC;AACzM;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA,wEAAwE;AACxE;AACA,sEAAsE;AACtE;AACA,oEAAoE;AACpE,2GAA2G,WAAW;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAA4B,8BAA8B,qCAAqC;AACpJ;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,QAAQ;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;;AAE5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,gCAAgC,mBAAmB;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF;;AAEA;AACA;AACA;AACA,sDAAsD,eAAe;AACrE;;AAEA;AACA;AACA,kDAAkD,iCAAiC;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,6BAA6B;;AAEpE;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,uBAAuB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,qCAAqC;;AAEvE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kCAAkC,mBAAmB;AACrD;;AAEA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA,wDAAwD,OAAO;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;AC/lGD;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA,kBAAkB,gBAAgB;;AAElC;;AAEA;AACA;AACA,8CAA8C;AAC9C,kDAAkD;AAClD,yCAAyC;AACzC,8CAA8C;AAC9C,4CAA4C;AAC5C,mCAAmC;AACnC,qCAAqC;AACrC,0CAA0C;AAC1C,8CAA8C;AAC9C,4CAA4C;AAC5C;AACA;AACA,mDAAmD;AACnD,4CAA4C;AAC5C,mDAAmD;AACnD,yCAAyC;AACzC,uDAAuD;AACvD,uDAAuD;AACvD,oCAAoC;AACpC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,QAAQ;;AAER;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ;AACR;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA,CAAC;;;;;;;;;;;AC/aD,qGAA0C;;;;;;;;;;;ACA1C,UAAU,mBAAO,CAAC,yDAAa;AAC/B,kBAAkB,mBAAO,CAAC,wDAAa;AACvC,2BAA2B,GAAG;;AAE9B;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1DA,6FAAgC;;;;;;;;;;;ACAhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4BAA4B;AAC5B,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL,4BAA4B;AAC5B;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,oEAAoE;AACpE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2DAA2D,eAAe;AAC1E,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,+BAA+B;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,6BAA6B,aAAa;AAClD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA,8BAA8B,iCAAiC;AAC/D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,KAA6B;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C;AAC3C;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;ACtxCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,8BAA8B;AAC9B,4BAA4B;AAC5B;AACA;AACA,OAAO;AACP,kCAAkC;AAClC,kCAAkC;AAClC,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,8CAA8C;AAC9D;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,YAAY;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,mDAAmD;AACzE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAM,IAA0C;AAChD,IAAI,iCAAO,EAAE,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AACvB,IAAI,KAAK,EAGN;AACH;AACA,CAAC;;;;;;;;;;;ACh6CD,mBAAmB,mBAAO,CAAC,0EAAiB;;AAE5C,oBAAoB;AACpB,qBAAqB;AACrB,gKAA6E;;;;;;;;;;;ACJ7E;AACA;AACA,qCAAqC;AACrC,CAAC;AACD,IAAI,IAA0C;AAC9C;AACA,CAAC,iCAAO,CAAC,2CAAQ,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AAC5B,GAAG,KAAK,EAMN;AACF,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,kBAAkB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;;;AAIA,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,IAAI;AACJ;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,uBAAuB;AACvB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,8DAA8D;;AAE9D;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ,IAAI;AACJ;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA,2CAA2C,cAAc,kBAAkB,oBAAoB,aAAa;AAC5G;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;;;;AAKH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,8BAA8B;AAC9B;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,8EAA8E;;AAE9E;;AAEA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B,IAAI;AACJ;AACA;AACA;;AAEA,GAAG;AACH;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAM;;AAEN;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;;AAEA;AACA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAQ,OAAO;;AAEf,OAAO,aAAa;;AAEpB,MAAM,OAAO;;;AAGb;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;;AAEA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;AAID;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB,OAAO;AACP,4BAA4B;AAC5B;AACA,KAAK;AACL;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;;;;AAID;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA,yBAAyB;;AAEzB;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;;AAEN;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,cAAc,qDAAqD;AACnE;AACA;AACA,cAAc,qDAAqD;AACnE;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,mDAAmD,mBAAmB;AACtE,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA,oBAAoB;;;;;;;;;;;ACn0DpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AC/Da;;AAEb,cAAc,GAAG,2FAAmC;AACpD,cAAc,GAAG,+FAAuC;;;;;;;;;;;ACHxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,MAAM;AACN,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,UAAU;AACV;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,cAAc;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,mBAAmB;AACpD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,QAAQ;AACvD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,CAAE;AAClD;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3uBA;;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;CAGA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAIA;;AACA;AACA;AACA;AACA;AACA;AACA;CAGA;;CAGA;;CAGA;;AACA;AAEA;AAEA6jC,mEAAAA,GAAgBC,+CAAhBD;AACA,IAAQ38B,IAAR,GAA2C28B,kEAA3C;AAAA,IAAczpC,EAAd,GAA2CypC,gEAA3C;AAAA,IAAkBvS,KAAlB,GAA2CuS,mEAA3C;AAAA,IAAyBl6B,KAAzB,GAA2Ck6B,mEAA3C;AAAA,IAAgCpM,MAAhC,GAA2CoM,oEAA3C;AACA5jC,MAAM,CAAC9F,IAAP8F,GAAc;AAAEiH,MAAI,EAAJA,IAAF;AAAQ9M,IAAE,EAAFA,EAAR;AAAYk3B,OAAK,EAALA,KAAZ;AAAmB3nB,OAAK,EAALA,KAAnB;AAA0B8tB,QAAM,EAANA,MAA1B;AAAkC/E,wBAAsB,EAAtBA,iFAAsBA;AAAxD,CAAdzyB,C","sources":["webpack://give/./node_modules/@babel/runtime/regenerator/index.js","webpack://give/./node_modules/accounting/accounting.js","webpack://give/./assets/src/js/admin/admin-export.js","webpack://give/./assets/src/js/admin/admin-forms.js","webpack://give/./assets/src/js/admin/admin-importer.js","webpack://give/./assets/src/js/admin/admin-migrations.js","webpack://give/./assets/src/js/admin/admin-scripts.js","webpack://give/./assets/src/js/admin/admin-settings.js","webpack://give/./assets/src/js/admin/button.js","webpack://give/./assets/src/js/admin/form-template/edit-form.js","webpack://give/./assets/src/js/admin/paypal-commerce/index.js","webpack://give/./assets/src/js/admin/shortcode-button.js","webpack://give/./assets/src/js/admin/stripe-admin.js","webpack://give/./assets/src/js/admin/utils/setupChosen.js","webpack://give/./assets/src/js/plugins/dynamicListener.js","webpack://give/./assets/src/js/plugins/form-template/utils.js","webpack://give/./assets/src/js/plugins/give-ajaxify-fields.js","webpack://give/./assets/src/js/plugins/give-api/api.js","webpack://give/./assets/src/js/plugins/give-api/donor.js","webpack://give/./assets/src/js/plugins/give-api/form.js","webpack://give/./assets/src/js/plugins/give-api/notice.js","webpack://give/./assets/src/js/plugins/give-api/share.js","webpack://give/./assets/src/js/plugins/give-api/util.js","webpack://give/./assets/src/js/plugins/give-hint.css.js","webpack://give/./assets/src/js/plugins/modal.js","webpack://give/./assets/src/js/plugins/notice.js","webpack://give/./assets/src/js/plugins/repeatable-fields.js","webpack://give/./assets/src/js/plugins/selector-cache.js","webpack://give/./src/DonorDashboards/resources/js/admin/index.js","webpack://give/./src/PaymentGateways/resources/js/stripe-account-manager/customize-stripe-account-validation.js","webpack://give/./src/PaymentGateways/resources/js/stripe-account-manager/disconnect-stripe-account-action.js","webpack://give/./src/PaymentGateways/resources/js/stripe-account-manager/set-default-account-action.js","webpack://give/./node_modules/blueimp-md5/js/md5.js","webpack://give/./node_modules/chosen-js/chosen.jquery.js","webpack://give/./node_modules/clipboard/dist/clipboard.js","webpack://give/./node_modules/flot-orderbars/js/jquery.flot.orderBars.js","webpack://give/./node_modules/flot/jquery.flot.js","webpack://give/./node_modules/flot/jquery.flot.time.js","webpack://give/./node_modules/gravatar/index.js","webpack://give/./node_modules/gravatar/lib/gravatar.js","webpack://give/./node_modules/iframe-resizer/index.js","webpack://give/./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js","webpack://give/./node_modules/iframe-resizer/js/iframeResizer.js","webpack://give/./node_modules/iframe-resizer/js/index.js","webpack://give/./node_modules/magnific-popup/dist/jquery.magnific-popup.js","webpack://give/./node_modules/querystring/decode.js","webpack://give/./node_modules/querystring/encode.js","webpack://give/./node_modules/querystring/index.js","webpack://give/./node_modules/regenerator-runtime/runtime.js","webpack://give/external window \"jQuery\"","webpack://give/external window [\"wp\",\"i18n\"]","webpack://give/webpack/bootstrap","webpack://give/webpack/runtime/compat get default export","webpack://give/webpack/runtime/define property getters","webpack://give/webpack/runtime/hasOwnProperty shorthand","webpack://give/webpack/runtime/make namespace object","webpack://give/./assets/src/js/admin/admin.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","/*!\n * accounting.js v0.4.1\n * Copyright 2014 Open Exchange Rates\n *\n * Freely distributable under the MIT license.\n * Portions of accounting.js are inspired or borrowed from underscore.js\n *\n * Full details and documentation:\n * http://openexchangerates.github.io/accounting.js/\n */\n\n(function(root, undefined) {\n\n\t/* --- Setup --- */\n\n\t// Create the local library object, to be exported or referenced globally later\n\tvar lib = {};\n\n\t// Current version\n\tlib.version = '0.4.1';\n\n\n\t/* --- Exposed settings --- */\n\n\t// The library's settings configuration object. Contains default parameters for\n\t// currency and number formatting\n\tlib.settings = {\n\t\tcurrency: {\n\t\t\tsymbol : \"$\",\t\t// default currency symbol is '$'\n\t\t\tformat : \"%s%v\",\t// controls output: %s = symbol, %v = value (can be object, see docs)\n\t\t\tdecimal : \".\",\t\t// decimal point separator\n\t\t\tthousand : \",\",\t\t// thousands separator\n\t\t\tprecision : 2,\t\t// decimal places\n\t\t\tgrouping : 3\t\t// digit grouping (not implemented yet)\n\t\t},\n\t\tnumber: {\n\t\t\tprecision : 0,\t\t// default precision on numbers is 0\n\t\t\tgrouping : 3,\t\t// digit grouping (not implemented yet)\n\t\t\tthousand : \",\",\n\t\t\tdecimal : \".\"\n\t\t}\n\t};\n\n\n\t/* --- Internal Helper Methods --- */\n\n\t// Store reference to possibly-available ECMAScript 5 methods for later\n\tvar nativeMap = Array.prototype.map,\n\t\tnativeIsArray = Array.isArray,\n\t\ttoString = Object.prototype.toString;\n\n\t/**\n\t * Tests whether supplied parameter is a string\n\t * from underscore.js\n\t */\n\tfunction isString(obj) {\n\t\treturn !!(obj === '' || (obj && obj.charCodeAt && obj.substr));\n\t}\n\n\t/**\n\t * Tests whether supplied parameter is a string\n\t * from underscore.js, delegates to ECMA5's native Array.isArray\n\t */\n\tfunction isArray(obj) {\n\t\treturn nativeIsArray ? nativeIsArray(obj) : toString.call(obj) === '[object Array]';\n\t}\n\n\t/**\n\t * Tests whether supplied parameter is a true object\n\t */\n\tfunction isObject(obj) {\n\t\treturn obj && toString.call(obj) === '[object Object]';\n\t}\n\n\t/**\n\t * Extends an object with a defaults object, similar to underscore's _.defaults\n\t *\n\t * Used for abstracting parameter handling from API methods\n\t */\n\tfunction defaults(object, defs) {\n\t\tvar key;\n\t\tobject = object || {};\n\t\tdefs = defs || {};\n\t\t// Iterate over object non-prototype properties:\n\t\tfor (key in defs) {\n\t\t\tif (defs.hasOwnProperty(key)) {\n\t\t\t\t// Replace values with defaults only if undefined (allow empty/zero values):\n\t\t\t\tif (object[key] == null) object[key] = defs[key];\n\t\t\t}\n\t\t}\n\t\treturn object;\n\t}\n\n\t/**\n\t * Implementation of `Array.map()` for iteration loops\n\t *\n\t * Returns a new Array as a result of calling `iterator` on each array value.\n\t * Defers to native Array.map if available\n\t */\n\tfunction map(obj, iterator, context) {\n\t\tvar results = [], i, j;\n\n\t\tif (!obj) return results;\n\n\t\t// Use native .map method if it exists:\n\t\tif (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n\n\t\t// Fallback for native .map:\n\t\tfor (i = 0, j = obj.length; i < j; i++ ) {\n\t\t\tresults[i] = iterator.call(context, obj[i], i, obj);\n\t\t}\n\t\treturn results;\n\t}\n\n\t/**\n\t * Check and normalise the value of precision (must be positive integer)\n\t */\n\tfunction checkPrecision(val, base) {\n\t\tval = Math.round(Math.abs(val));\n\t\treturn isNaN(val)? base : val;\n\t}\n\n\n\t/**\n\t * Parses a format string or object and returns format obj for use in rendering\n\t *\n\t * `format` is either a string with the default (positive) format, or object\n\t * containing `pos` (required), `neg` and `zero` values (or a function returning\n\t * either a string or object)\n\t *\n\t * Either string or format.pos must contain \"%v\" (value) to be valid\n\t */\n\tfunction checkCurrencyFormat(format) {\n\t\tvar defaults = lib.settings.currency.format;\n\n\t\t// Allow function as format parameter (should return string or object):\n\t\tif ( typeof format === \"function\" ) format = format();\n\n\t\t// Format can be a string, in which case `value` (\"%v\") must be present:\n\t\tif ( isString( format ) && format.match(\"%v\") ) {\n\n\t\t\t// Create and return positive, negative and zero formats:\n\t\t\treturn {\n\t\t\t\tpos : format,\n\t\t\t\tneg : format.replace(\"-\", \"\").replace(\"%v\", \"-%v\"),\n\t\t\t\tzero : format\n\t\t\t};\n\n\t\t// If no format, or object is missing valid positive value, use defaults:\n\t\t} else if ( !format || !format.pos || !format.pos.match(\"%v\") ) {\n\n\t\t\t// If defaults is a string, casts it to an object for faster checking next time:\n\t\t\treturn ( !isString( defaults ) ) ? defaults : lib.settings.currency.format = {\n\t\t\t\tpos : defaults,\n\t\t\t\tneg : defaults.replace(\"%v\", \"-%v\"),\n\t\t\t\tzero : defaults\n\t\t\t};\n\n\t\t}\n\t\t// Otherwise, assume format was fine:\n\t\treturn format;\n\t}\n\n\n\t/* --- API Methods --- */\n\n\t/**\n\t * Takes a string/array of strings, removes all formatting/cruft and returns the raw float value\n\t * Alias: `accounting.parse(string)`\n\t *\n\t * Decimal must be included in the regular expression to match floats (defaults to\n\t * accounting.settings.number.decimal), so if the number uses a non-standard decimal \n\t * separator, provide it as the second argument.\n\t *\n\t * Also matches bracketed negatives (eg. \"$ (1.99)\" => -1.99)\n\t *\n\t * Doesn't throw any errors (`NaN`s become 0) but this may change in future\n\t */\n\tvar unformat = lib.unformat = lib.parse = function(value, decimal) {\n\t\t// Recursively unformat arrays:\n\t\tif (isArray(value)) {\n\t\t\treturn map(value, function(val) {\n\t\t\t\treturn unformat(val, decimal);\n\t\t\t});\n\t\t}\n\n\t\t// Fails silently (need decent errors):\n\t\tvalue = value || 0;\n\n\t\t// Return the value as-is if it's already a number:\n\t\tif (typeof value === \"number\") return value;\n\n\t\t// Default decimal point comes from settings, but could be set to eg. \",\" in opts:\n\t\tdecimal = decimal || lib.settings.number.decimal;\n\n\t\t // Build regex to strip out everything except digits, decimal point and minus sign:\n\t\tvar regex = new RegExp(\"[^0-9-\" + decimal + \"]\", [\"g\"]),\n\t\t\tunformatted = parseFloat(\n\t\t\t\t(\"\" + value)\n\t\t\t\t.replace(/\\((.*)\\)/, \"-$1\") // replace bracketed values with negatives\n\t\t\t\t.replace(regex, '')         // strip out any cruft\n\t\t\t\t.replace(decimal, '.')      // make sure decimal point is standard\n\t\t\t);\n\n\t\t// This will fail silently which may cause trouble, let's wait and see:\n\t\treturn !isNaN(unformatted) ? unformatted : 0;\n\t};\n\n\n\t/**\n\t * Implementation of toFixed() that treats floats more like decimals\n\t *\n\t * Fixes binary rounding issues (eg. (0.615).toFixed(2) === \"0.61\") that present\n\t * problems for accounting- and finance-related software.\n\t */\n\tvar toFixed = lib.toFixed = function(value, precision) {\n\t\tprecision = checkPrecision(precision, lib.settings.number.precision);\n\t\tvar power = Math.pow(10, precision);\n\n\t\t// Multiply up by precision, round accurately, then divide and use native toFixed():\n\t\treturn (Math.round(lib.unformat(value) * power) / power).toFixed(precision);\n\t};\n\n\n\t/**\n\t * Format a number, with comma-separated thousands and custom precision/decimal places\n\t * Alias: `accounting.format()`\n\t *\n\t * Localise by overriding the precision and thousand / decimal separators\n\t * 2nd parameter `precision` can be an object matching `settings.number`\n\t */\n\tvar formatNumber = lib.formatNumber = lib.format = function(number, precision, thousand, decimal) {\n\t\t// Resursively format arrays:\n\t\tif (isArray(number)) {\n\t\t\treturn map(number, function(val) {\n\t\t\t\treturn formatNumber(val, precision, thousand, decimal);\n\t\t\t});\n\t\t}\n\n\t\t// Clean up number:\n\t\tnumber = unformat(number);\n\n\t\t// Build options object from second param (if object) or all params, extending defaults:\n\t\tvar opts = defaults(\n\t\t\t\t(isObject(precision) ? precision : {\n\t\t\t\t\tprecision : precision,\n\t\t\t\t\tthousand : thousand,\n\t\t\t\t\tdecimal : decimal\n\t\t\t\t}),\n\t\t\t\tlib.settings.number\n\t\t\t),\n\n\t\t\t// Clean up precision\n\t\t\tusePrecision = checkPrecision(opts.precision),\n\n\t\t\t// Do some calc:\n\t\t\tnegative = number < 0 ? \"-\" : \"\",\n\t\t\tbase = parseInt(toFixed(Math.abs(number || 0), usePrecision), 10) + \"\",\n\t\t\tmod = base.length > 3 ? base.length % 3 : 0;\n\n\t\t// Format the number:\n\t\treturn negative + (mod ? base.substr(0, mod) + opts.thousand : \"\") + base.substr(mod).replace(/(\\d{3})(?=\\d)/g, \"$1\" + opts.thousand) + (usePrecision ? opts.decimal + toFixed(Math.abs(number), usePrecision).split('.')[1] : \"\");\n\t};\n\n\n\t/**\n\t * Format a number into currency\n\t *\n\t * Usage: accounting.formatMoney(number, symbol, precision, thousandsSep, decimalSep, format)\n\t * defaults: (0, \"$\", 2, \",\", \".\", \"%s%v\")\n\t *\n\t * Localise by overriding the symbol, precision, thousand / decimal separators and format\n\t * Second param can be an object matching `settings.currency` which is the easiest way.\n\t *\n\t * To do: tidy up the parameters\n\t */\n\tvar formatMoney = lib.formatMoney = function(number, symbol, precision, thousand, decimal, format) {\n\t\t// Resursively format arrays:\n\t\tif (isArray(number)) {\n\t\t\treturn map(number, function(val){\n\t\t\t\treturn formatMoney(val, symbol, precision, thousand, decimal, format);\n\t\t\t});\n\t\t}\n\n\t\t// Clean up number:\n\t\tnumber = unformat(number);\n\n\t\t// Build options object from second param (if object) or all params, extending defaults:\n\t\tvar opts = defaults(\n\t\t\t\t(isObject(symbol) ? symbol : {\n\t\t\t\t\tsymbol : symbol,\n\t\t\t\t\tprecision : precision,\n\t\t\t\t\tthousand : thousand,\n\t\t\t\t\tdecimal : decimal,\n\t\t\t\t\tformat : format\n\t\t\t\t}),\n\t\t\t\tlib.settings.currency\n\t\t\t),\n\n\t\t\t// Check format (returns object with pos, neg and zero):\n\t\t\tformats = checkCurrencyFormat(opts.format),\n\n\t\t\t// Choose which format to use for this value:\n\t\t\tuseFormat = number > 0 ? formats.pos : number < 0 ? formats.neg : formats.zero;\n\n\t\t// Return with currency symbol added:\n\t\treturn useFormat.replace('%s', opts.symbol).replace('%v', formatNumber(Math.abs(number), checkPrecision(opts.precision), opts.thousand, opts.decimal));\n\t};\n\n\n\t/**\n\t * Format a list of numbers into an accounting column, padding with whitespace\n\t * to line up currency symbols, thousand separators and decimals places\n\t *\n\t * List should be an array of numbers\n\t * Second parameter can be an object containing keys that match the params\n\t *\n\t * Returns array of accouting-formatted number strings of same length\n\t *\n\t * NB: `white-space:pre` CSS rule is required on the list container to prevent\n\t * browsers from collapsing the whitespace in the output strings.\n\t */\n\tlib.formatColumn = function(list, symbol, precision, thousand, decimal, format) {\n\t\tif (!list) return [];\n\n\t\t// Build options object from second param (if object) or all params, extending defaults:\n\t\tvar opts = defaults(\n\t\t\t\t(isObject(symbol) ? symbol : {\n\t\t\t\t\tsymbol : symbol,\n\t\t\t\t\tprecision : precision,\n\t\t\t\t\tthousand : thousand,\n\t\t\t\t\tdecimal : decimal,\n\t\t\t\t\tformat : format\n\t\t\t\t}),\n\t\t\t\tlib.settings.currency\n\t\t\t),\n\n\t\t\t// Check format (returns object with pos, neg and zero), only need pos for now:\n\t\t\tformats = checkCurrencyFormat(opts.format),\n\n\t\t\t// Whether to pad at start of string or after currency symbol:\n\t\t\tpadAfterSymbol = formats.pos.indexOf(\"%s\") < formats.pos.indexOf(\"%v\") ? true : false,\n\n\t\t\t// Store value for the length of the longest string in the column:\n\t\t\tmaxLength = 0,\n\n\t\t\t// Format the list according to options, store the length of the longest string:\n\t\t\tformatted = map(list, function(val, i) {\n\t\t\t\tif (isArray(val)) {\n\t\t\t\t\t// Recursively format columns if list is a multi-dimensional array:\n\t\t\t\t\treturn lib.formatColumn(val, opts);\n\t\t\t\t} else {\n\t\t\t\t\t// Clean up the value\n\t\t\t\t\tval = unformat(val);\n\n\t\t\t\t\t// Choose which format to use for this value (pos, neg or zero):\n\t\t\t\t\tvar useFormat = val > 0 ? formats.pos : val < 0 ? formats.neg : formats.zero,\n\n\t\t\t\t\t\t// Format this value, push into formatted list and save the length:\n\t\t\t\t\t\tfVal = useFormat.replace('%s', opts.symbol).replace('%v', formatNumber(Math.abs(val), checkPrecision(opts.precision), opts.thousand, opts.decimal));\n\n\t\t\t\t\tif (fVal.length > maxLength) maxLength = fVal.length;\n\t\t\t\t\treturn fVal;\n\t\t\t\t}\n\t\t\t});\n\n\t\t// Pad each number in the list and send back the column of numbers:\n\t\treturn map(formatted, function(val, i) {\n\t\t\t// Only if this is a string (not a nested array, which would have already been padded):\n\t\t\tif (isString(val) && val.length < maxLength) {\n\t\t\t\t// Depending on symbol position, pad after symbol or at index 0:\n\t\t\t\treturn padAfterSymbol ? val.replace(opts.symbol, opts.symbol+(new Array(maxLength - val.length + 1).join(\" \"))) : (new Array(maxLength - val.length + 1).join(\" \")) + val;\n\t\t\t}\n\t\t\treturn val;\n\t\t});\n\t};\n\n\n\t/* --- Module Definition --- */\n\n\t// Export accounting for CommonJS. If being loaded as an AMD module, define it as such.\n\t// Otherwise, just add `accounting` to the global object\n\tif (typeof exports !== 'undefined') {\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\texports = module.exports = lib;\n\t\t}\n\t\texports.accounting = lib;\n\t} else if (typeof define === 'function' && define.amd) {\n\t\t// Return the library as an AMD module:\n\t\tdefine([], function() {\n\t\t\treturn lib;\n\t\t});\n\t} else {\n\t\t// Use accounting.noConflict to restore `accounting` back to its original value.\n\t\t// Returns a reference to the library's `accounting` object;\n\t\t// e.g. `var numbers = accounting.noConflict();`\n\t\tlib.noConflict = (function(oldAccounting) {\n\t\t\treturn function() {\n\t\t\t\t// Reset the value of the root's `accounting` variable:\n\t\t\t\troot.accounting = oldAccounting;\n\t\t\t\t// Delete the noConflict method:\n\t\t\t\tlib.noConflict = undefined;\n\t\t\t\t// Return reference to the library to re-assign it:\n\t\t\t\treturn lib;\n\t\t\t};\n\t\t})(root.accounting);\n\n\t\t// Declare `fx` on the root (global/window) object:\n\t\troot['accounting'] = lib;\n\t}\n\n\t// Root will be `window` in browser or `global` on the server:\n}(this));\n","/*!\n * Give Admin Export JS\n *\n * @description: The Give Admin Settings scripts. Only enqueued on the give-settings and give-tools page; used for exporting CSV\n * @package:     Give\n * @since:       2.1\n * @subpackage:  Assets/JS\n * @copyright:   Copyright (c) 2016, GiveWP\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n */\n/* globals Give, jQuery */\njQuery( document ).ready( function( $ ) {\n\t/**\n\t * Update Export Donation Form\n\t *\n\t * @since 2.1\n\t */\n\tfunction give_export_update_donation_form() {\n\t\tconst $form = $( 'form#give-export_donations-form' ),\n\t\t\t$container = $( $form ).find( 'tr.give-export-donation-form .give-select-chosen' ),\n\t\t\tselect = $container.prev(),\n\t\t\t$search_field = $container.find( 'input[type=\"text\"]' ),\n\t\t\tvariations = $container.hasClass( 'variations' ),\n\t\t\tresponse = '';\n\n\t\t$( '.give-export-donations-hide' ).addClass( 'give-hidden' );\n\t\t$( 'li.give-export-donation-checkbox-remove' ).remove();\n\n\t\t$.ajax( {\n\t\t\ttype: 'POST',\n\t\t\turl: ajaxurl,\n\t\t\tdata: {\n\t\t\t\taction: 'give_form_search',\n\t\t\t\ts: '',\n\t\t\t\tfields: $( $form ).serialize(),\n\t\t\t},\n\t\t\tbeforeSend: function() {\n\t\t\t\tselect.closest( 'ul.chosen-results' ).empty();\n\t\t\t},\n\t\t\tsuccess: function( data ) {\n\t\t\t\t// Remove all options but those that are selected.\n\t\t\t\t$( 'option', select ).remove();\n\t\t\t\tconst form_ids = [];\n\n\t\t\t\tif ( data.length ) {\n\t\t\t\t\t$form.find( '.give-export-donation-button' ).prop( 'disabled', false );\n\t\t\t\t\t$.each( data, function( key, item ) {\n\t\t\t\t\t\tselect.prepend( '<option value=\"' + item.id + '\">' + item.name + '</option>' );\n\t\t\t\t\t\tform_ids.push( item.id );\n\t\t\t\t\t} );\n\n\t\t\t\t\tselect.prepend( '<option value=\"0\" selected>' + select.data( 'placeholder' ) + '</option>' );\n\t\t\t\t} else {\n\t\t\t\t\t// Trigger no result message event.\n\t\t\t\t\tselect.prepend( '<option value=\"0\">' + select.data( 'no-form' ) + '</option>' );\n\n\t\t\t\t\t$form.find( '.give-export-donation-button' ).prop( 'disabled', true );\n\t\t\t\t}\n\n\t\t\t\t$form.find( '.form_ids' ).val( form_ids.join() );\n\n\t\t\t\t// Trigger update event.\n\t\t\t\t$container.prev( 'select.give-select-chosen' ).trigger( 'chosen:updated' );\n\n\t\t\t \toutput_give_donations_fields( response );\n\t\t\t},\n\t\t} );\n\t}\n\n\t/**\n\t * Update export Donation Form when cat or tag are change\n\t *\n\t * @since 2.1\n\t */\n\t$( '.give-export_donations #give-export_donations-form .give_forms_categories , .give-export_donations #give-export_donations-form .give_forms_tags' ).change( function() {\n\t\tgive_export_update_donation_form();\n\t} );\n\n\t/**\n\t * Ajax call to get donation fields.\n\t */\n\t$( '.give-export_donations #give-export_donations-form #give_payment_form_select' ).change( function() {\n\t\t$( '.give-export-donations-hide' ).addClass( 'give-hidden' );\n\n\t\t$( 'li.give-export-donation-checkbox-remove' ).remove();\n\n\t\tjQuery( document ).trigger( 'give_export_donations_form_change' );\n\n\t\tlet give_form_id;\n\n\t\t// Check for form ID.\n\t\tif ( ! (\n\t\t\tgive_form_id = $( this ).val()\n\t\t) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Ajax.\n\t\t$.ajax( {\n\t\t\ttype: 'POST',\n\t\t\turl: ajaxurl,\n\t\t\tdata: {\n\t\t\t\tform_id: give_form_id,\n\t\t\t\taction: 'give_export_donations_get_custom_fields',\n\t\t\t},\n\t\t\tsuccess: function( response ) {\n\t\t\t\tif ( response ) {\n\t\t\t\t\toutput_give_donations_fields( response );\n\t\t\t\t} else {\n\t\t\t\t\talert( Give.fn.getGlobalVar( 'error_message' ) );\n\t\t\t\t}\n\n\t\t\t\tjQuery( document ).trigger( 'give_export_donations_form_response', response );\n\t\t\t},\n\t\t} );\n\t} );\n\n\t/**\n\t * Outputs the custom field checkboxes.\n\t *\n\t * @param response\n\t */\n\tfunction output_give_donations_fields( response ) {\n\t\t/**\n\t\t * Standard Fields\n\t\t */\n\t\tconst standard_fields = 'undefined' !== typeof response.standard_fields && null !== response.standard_fields ? response.standard_fields : '';\n\t\tconst standard_field_list = $( '.give-export-donations-standard-fields ul' );\n\t\tif ( standard_fields.length > 0 ) {\n\t\t\tstandard_field_list.closest( 'tr' ).removeClass( 'give-hidden' );\n\t\t\t// Loop through STANDARD fields & output\n\t\t\t$( standard_fields ).each( function( index, value ) {\n\t\t\t\tstandard_field_list.append( '<li class=\"give-export-donation-checkbox-remove\"><label for=\"give-give-donations-standard-field-' + value + '\"><input type=\"checkbox\" name=\"give_give_donations_export_option[' + value + ']\" id=\"give-give-donations-standard-field-' + value + '\">' + value + '</label> </li>' );\n\t\t\t} );\n\t\t}\n\n\t\t/**\n\t\t * Hidden Fields\n\t\t */\n\t\tconst hidden_fields = 'undefined' !== typeof response.hidden_fields && null !== response.hidden_fields ? response.hidden_fields : '';\n\t\tconst hidden_field_list = $( '.give-export-donations-hidden-fields ul' );\n\n\t\tif ( hidden_fields ) {\n\t\t\thidden_field_list.closest( 'tr' ).removeClass( 'give-hidden' );\n\n\t\t\t// Loop through HIDDEN fields & output.\n\t\t\t$( hidden_fields ).each( function( index, value ) {\n\t\t\t\thidden_field_list.append( '<li class=\"give-export-donation-checkbox-remove\"><label for=\"give-give-donations-hidden-field-' + value + '\"><input type=\"checkbox\" name=\"give_give_donations_export_option[' + value + ']\" id=\"give-give-donations-hidden-field-' + value + '\">' + value + '</label> </li>' );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Checks/Unchecks checkboxes on exporter page.\n\t */\n\tconst checkboxes = $( '.give-export-option-fields input[type=\"checkbox\"]' );\n\n\t$( '.give-toggle-checkbox-selection' ).click( function() {\n\t\t$( this ).data( 'clicked', ! $( this ).data( 'clicked' ) );\n\t\tcheckboxes.prop( 'checked', ! $( this ).data( 'clicked' ) );\n\t\tswapAndUpdateAttribute( this );\n\t} );\n\n\t/**\n\t * Swaps and updates attributes on the button which is used\n\t * to check/uncheck checkboxes.\n\t */\n\tfunction swapAndUpdateAttribute( reference ) {\n\t\tlet deselectAll = $( reference ).val(),\n\t\t    selectAll = $( reference ).attr( 'data-value' );\n\n\t\t[ deselectAll, selectAll ] = [ selectAll, deselectAll ];\n\n\t\t$( reference ).attr( 'value', deselectAll );\n\t\t$( reference ).attr( 'data-value', selectAll );\n\t}\n} );\n","/* globals jQuery, Give*/\n/*!\n * Give Admin Forms JS\n *\n * @description: The Give Admin Forms scripts. Only enqueued on the give_forms CPT; used to validate fields, show/hide, and other functions\n * @package:     Give\n * @subpackage:  Assets/JS\n * @copyright:   Copyright (c) 2016, GiveWP\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n */\n\n( function( $ ) {\n\t/**\n\t * Default Radio Button\n\t *\n\t * @description: Allow only one radio button to be checked at a time\n\t * @since: 1.0\n\t */\n\tconst handle_default_radio = function() {\n\t\t$( 'body' ).on( 'change', '.give-give_default_radio_inline', function() {\n\t\t\t// Unset pre selected default level.\n\t\t\t$( '.give-give_default_radio_inline' ).prop( 'checked', false );\n\n\t\t\t// Set level as default.\n\t\t\t$( this ).prop( 'checked', true );\n\t\t} );\n\n\t\t// Note: some cases is covered in admin-scripts.js.\n\t\t// For ref: handle_metabox_repeater_field_row_count, handle_metabox_repeater_field_row_remove\n\t};\n\n\t/**\n\t * Toggle Conditional Form Fields\n\t *\n\t *  @since: 1.0\n\t */\n\tconst toggle_conditional_form_fields = function() {\n\t\t//Price Option\n\t\tconst price_option = $( '._give_price_option_field input:radio' );\n\n\t\tprice_option.on( 'change', function() {\n\t\t\tconst price_option_val = $( '._give_price_option_field input:radio:checked' ).val();\n\t\t\tif ( price_option_val === 'set' ) {\n\t\t\t\t//set price shows\n\t\t\t\t$( '._give_set_price_field' ).show();\n\t\t\t\t$( '#_give_donation_levels_field' ).hide(); // Hide multi-val stuffs.\n\t\t\t\t$( '._give_display_style_field' ).hide(); // Hide display style setting.\n\t\t\t} else {\n\t\t\t\t//multi-value shows\n\t\t\t\t$( '._give_set_price_field' ).hide();\n\t\t\t\t$( '#_give_donation_levels_field' ).show(); // Show set stuffs.\n\t\t\t\t$( '._give_display_style_field' ).show(); // Show display style setting.\n\t\t\t}\n\t\t} ).change();\n\n\t\t//Content Option\n\t\tconst display_content = $( '._give_display_content_field input:radio' );\n\t\tdisplay_content.on( 'change', function() {\n\t\t\t// Get checked radio button value.\n\t\t\tconst display_content_val = $( '._give_display_content_field input:radio:checked' ).val();\n\n\t\t\tif ( display_content_val === 'enabled' ) {\n\t\t\t\t$( '._give_content_placement_field' ).show();\n\t\t\t\t$( '._give_form_content_field' ).show();\n\t\t\t} else {\n\t\t\t\t$( '._give_content_placement_field' ).hide();\n\t\t\t\t$( '._give_form_content_field' ).hide();\n\t\t\t}\n\t\t} ).change();\n\n\t\t//Terms Option\n\t\tconst terms_option = $( '._give_terms_option_field input:radio' );\n\t\tterms_option.on( 'change', function() {\n\t\t\t// Get checked radio button value.\n\t\t\tconst terms_option_val = $( '._give_terms_option_field input:radio:checked' ).val();\n\n\t\t\tif ( terms_option_val === 'enabled' ) {\n\t\t\t\t$( '._give_agree_label_field' ).show();\n\t\t\t\t$( '._give_agree_text_field' ).show();\n\t\t\t} else {\n\t\t\t\t$( '._give_agree_label_field' ).hide();\n\t\t\t\t$( '._give_agree_text_field' ).hide();\n\t\t\t}\n\t\t} ).change();\n\n\t\t//Payment Display\n\t\tconst payment_display_option = $( '._give_payment_display_field input:radio' );\n\t\tpayment_display_option.on( 'change', function() {\n\t\t\tconst payment_display_option_val = $( '._give_payment_display_field input:radio:checked' ).val();\n\n\t\t\tif ( payment_display_option_val === 'onpage' ) {\n\t\t\t\t$( '._give_reveal_label_field' ).hide();\n\t\t\t} else {\n\t\t\t\t$( '._give_reveal_label_field' ).show();\n\t\t\t}\n\t\t} ).change();\n\n\t\t//Custom Amount\n\t\tconst custom_amount_option = $( '._give_custom_amount_field input:radio' );\n\t\tcustom_amount_option.on( 'change', function() {\n\t\t\tconst custom_amount_option_val = $( '._give_custom_amount_field input:radio:checked' ).val();\n\t\t\tif ( custom_amount_option_val === 'disabled' ) {\n\t\t\t\t$( '._give_custom_amount_range_field ' ).hide();\n\t\t\t\t$( '._give_custom_amount_text_field' ).hide();\n\t\t\t} else {\n\t\t\t\t$( '._give_custom_amount_range_field ' ).show();\n\t\t\t\t$( '._give_custom_amount_text_field' ).show();\n\t\t\t}\n\t\t} ).change();\n\n\t\t//Goals\n\t\tconst goal_option = $( '._give_goal_option_field' );\n\t\tconst goal_format = $( '._give_goal_format_field input:radio' );\n\t\t//Close Form when Goal Achieved\n\t\tconst close_form_when_goal_achieved_option = $( '._give_close_form_when_goal_achieved_field input:radio' );\n\n\t\tclose_form_when_goal_achieved_option.on( 'change', function() {\n\t\t\tconst close_form_when_goal_achieved_option_val = $( '._give_close_form_when_goal_achieved_field input:radio:checked' ).val();\n\t\t\tif ( close_form_when_goal_achieved_option_val === 'disabled' ) {\n\t\t\t\t$( '._give_form_goal_achieved_message_field' ).hide();\n\t\t\t} else {\n\t\t\t\t$( '._give_form_goal_achieved_message_field' ).show();\n\t\t\t}\n\t\t} ).change();\n\n\t\tgoal_option.on( 'change', function() {\n\t\t\tconst goal_option = $( '._give_goal_option_field input:radio:checked' ).val();\n\t\t\tif ( goal_option === 'disabled' ) {\n\t\t\t\t$( '._give_set_goal_field' ).hide();\n\t\t\t\t$( '._give_goal_format_field' ).hide();\n\t\t\t\t$( '._give_goal_color_field' ).hide();\n\t\t\t\t$( '._give_close_form_when_goal_achieved_field' ).hide();\n\t\t\t\t$( '._give_form_goal_achieved_message_field' ).hide();\n\t\t\t\t$( '._give_number_of_donation_goal_field' ).hide();\n\t\t\t\t$( '._give_number_of_donor_goal_field' ).hide();\n\t\t\t} else {\n\t\t\t\t$( '._give_set_goal_field' ).show();\n\t\t\t\t$( '._give_goal_format_field' ).show();\n\t\t\t\t$( '._give_goal_color_field' ).show();\n\t\t\t\t$( '._give_close_form_when_goal_achieved_field' ).show();\n\n\t\t\t\tconst close_form_when_goal_achieved_option_val = $( '._give_close_form_when_goal_achieved_field input:radio:checked' ).val();\n\n\t\t\t\tif ( close_form_when_goal_achieved_option_val === 'enabled' ) {\n\t\t\t\t\t$( '._give_form_goal_achieved_message_field' ).show();\n\t\t\t\t}\n\n\t\t\t\t// Trigger goal format option.\n\t\t\t\tgoal_format.change();\n\t\t\t}\n\t\t} ).change();\n\n\t\tgoal_format.on( 'change', function() {\n\t\t\tconst goal_format_val = $( '._give_goal_format_field input:radio:checked' ).val();\n\t\t\tconst goal_option_val = $( '._give_goal_option_field input:radio:checked' ).val();\n\n\t\t\tif ( 'donation' === goal_format_val ) {\n\t\t\t\t$( '._give_set_goal_field, ._give_number_of_donor_goal_field,._give_number_of_donation_goal_field' ).hide();\n\t\t\t\tif ( 'disabled' !== goal_option_val ) {\n\t\t\t\t\t$( '._give_number_of_donation_goal_field' ).show();\n\t\t\t\t}\n\t\t\t} else if ( 'donors' === goal_format_val ) {\n\t\t\t\t$( '._give_set_goal_field, ._give_number_of_donation_goal_field, ._give_number_of_donor_goal_field' ).hide();\n\t\t\t\tif ( 'disabled' !== goal_option_val ) {\n\t\t\t\t\t$( '._give_number_of_donor_goal_field' ).show();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t( 'disabled' === goal_option_val ) ? $( '._give_set_goal_field' ).hide() : $( '._give_set_goal_field' ).show();\n\t\t\t\t$( '._give_number_of_donation_goal_field, ._give_number_of_donor_goal_field' ).hide();\n\t\t\t}\n\t\t} ).change();\n\n\t\t// Offline Donations.\n\t\tconst offline_customization_option = $( '._give_customize_offline_donations_field input:radio' );\n\t\toffline_customization_option.on( 'change', function() {\n\t\t\tconst offline_customization_option_val = $( '._give_customize_offline_donations_field input:radio:checked' ).val();\n\t\t\tif ( 'enabled' === offline_customization_option_val ) {\n\t\t\t\t$( '._give_offline_checkout_notes_field' ).show();\n\t\t\t\t$( '._give_offline_donation_enable_billing_fields_single_field' ).show();\n\t\t\t\t$( '._give_offline_donation_subject_field' ).show();\n\t\t\t\t$( '._give_offline_donation_email_field' ).show();\n\t\t\t} else {\n\t\t\t\t$( '._give_offline_checkout_notes_field' ).hide();\n\t\t\t\t$( '._give_offline_donation_enable_billing_fields_single_field' ).hide();\n\t\t\t\t$( '._give_offline_donation_subject_field' ).hide();\n\t\t\t\t$( '._give_offline_donation_email_field' ).hide();\n\t\t\t}\n\t\t} ).change();\n\n\t\t//Email options.\n\t\tconst email_options = $( '._give_email_options_field input:radio' );\n\t\temail_options.on( 'change', function() {\n\t\t\t// Get checked radio button value.\n\t\t\tconst email_options_val = $( '._give_email_options_field input:radio:checked' ).val();\n\n\t\t\tif ( email_options_val === 'enabled' ) {\n\t\t\t\t$( '#email_notification_options .give-field-wrap:not(._give_email_options_field)' ).show();\n\t\t\t} else {\n\t\t\t\t$( '#email_notification_options .give-field-wrap:not(._give_email_options_field)' ).hide();\n\t\t\t}\n\t\t} ).change();\n\n\t\t// Title Prefixes.\n\t\tconst defaultNameTitlePrefixChecked = $( 'input[name=\"_give_name_title_prefix\"]:checked' ).val();\n\t\tif ( 'required' === defaultNameTitlePrefixChecked || 'optional' === defaultNameTitlePrefixChecked ) {\n\t\t\t$( '.give-title-prefixes-wrap' ).show();\n\t\t}\n\n\t\t$( 'input[name=\"_give_name_title_prefix\"]' ).on( 'change', function() {\n\t\t\tconst titlePrefixChecked = $( 'input[name=\"_give_name_title_prefix\"]:checked' ).val();\n\n\t\t\tif ( 'required' === titlePrefixChecked || 'optional' === titlePrefixChecked ) {\n\t\t\t\t$( '.give-title-prefixes-wrap' ).show();\n\t\t\t} else {\n\t\t\t\t$( '.give-title-prefixes-wrap' ).hide();\n\t\t\t}\n\t\t} );\n\t};\n\n\t//Handle Repeatable Row ID\n\tconst handle_repeatable_row_ID = function() {\n\t\t//Ensure for new posts that the repeater is filled\n\t\tif ( $( '.give-level-id' ).text() === '' ) {\n\t\t\tconst row_group = $( '.cmb-repeatable-grouping' );\n\t\t\t//loop through all repeatable rows and set vals\n\t\t\trow_group.each( function( index, object ) {\n\t\t\t\tconst row_id = $( object ).data( 'iterator' ) + 1;\n\n\t\t\t\t$( object ).find( '.give-level-id' ).text( row_id );\n\t\t\t\t$( object ).find( '.give-level-id-input' ).val( row_id );\n\t\t\t} );\n\t\t}\n\n\t\t$( 'body' ).on( 'cmb2_add_row', function( event, row ) {\n\t\t\tset_row_ids( row );\n\t\t} );\n\t\t$( 'body' ).on( 'cmb2_shift_rows_complete', function( event, self ) {\n\t\t\tconst row_group = $( '.cmb-repeatable-grouping' );\n\t\t\t//loop through all repeatable rows and set vals\n\t\t\trow_group.each( function( index, object ) {\n\t\t\t\tconst row_id = $( object ).find( 'input.give-level-id-input' ).val();\n\n\t\t\t\t$( object ).find( '.give-level-id' ).text( row_id );\n\t\t\t} );\n\t\t} );\n\n\t\t/**\n\t\t * Set Row IDs\n\t\t *\n\t\t * @description: Sets values in the Multi-level donation repeatable field\n\t\t * @param row\n\t\t */\n\t\tfunction set_row_ids( row ) {\n\t\t\tconst row_count = count_repeatable_rows();\n\n\t\t\t//Add row ID value to hidden field\n\t\t\t$( row ).find( 'input.give-level-id-input' ).val( row_count );\n\t\t\t//Add row ID to displayed ID\n\t\t\t$( row ).find( '.give-level-id' ).text( row_count );\n\t\t}\n\n\t\t/**\n\t\t * Loops through Multi-level repeater rows\n\t\t *\n\t\t * @description: First counts the rows then it compares the row count with the largest iterator count.\n\t\t *\n\t\t * @returns {number}\n\t\t */\n\t\tfunction count_repeatable_rows() {\n\t\t\tlet row_counter = 0;\n\t\t\tlet row_largest_number = 0;\n\t\t\tlet row_number = 0;\n\n\t\t\t//Loop through repeatable rows to see what highest ID is currently\n\t\t\t$( '#_give_donation_levels_repeat > .cmb-repeatable-grouping' ).each( function( index, value ) {\n\t\t\t\trow_number = $( this ).find( 'input.give-level-id-input' ).val();\n\n\t\t\t\tif ( row_number > row_largest_number ) {\n\t\t\t\t\trow_largest_number = row_number;\n\t\t\t\t}\n\n\t\t\t\trow_counter++;\n\t\t\t} );\n\n\t\t\tif ( typeof row_largest_number !== 'undefined' && row_largest_number >= row_counter ) {\n\t\t\t\treturn ( parseInt( row_largest_number ) + 1 ); //ensure no duplicate rows returned\n\t\t\t}\n\t\t\treturn row_counter;\n\t\t}\n\t};\n\n\t/**\n\t * Misc Cleanup\n\t *\n\t * @description: Clean up and tweaks\n\t * @since: 1.0\n\t */\n\tfunction misc_cleanup() {\n\t\t//No Value = Placeholders: determine if value is 0.00 and remove if so in favor of placeholders\n\t\t$( '.cmb2-text-money' ).each( function( index, object ) {\n\t\t\tconst this_val = parseInt( $( object ).val() );\n\t\t\tif ( ! this_val ) {\n\t\t\t\t$( object ).removeAttr( 'value' );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Conditional fields\n\t */\n\tfunction handle_fields_visibility() {\n\t\t// Show hide conditional fields\n\t\tfunction handle_visibility(){\n\t\t\t$( '[data-field-visibility]' ).each( function() {\n\t\t\t\tconst conditions = $(this).data( 'field-visibility' );\n\n\t\t\t\tlet visible = false;\n\n\t\t\t\tObject.entries( conditions ).forEach( ( [ field, value ] ) => {\n\t\t\t\t\tconst inputs = $( '[name=\"' + field + '\"]' );\n\n\t\t\t\t\tif ( inputs ) {\n\t\t\t\t\t\tinputs.each( function() {\n\t\t\t\t\t\t\tconst input = $( this );\n\t\t\t\t\t\t\tconst fieldType = input.attr( 'type' );\n\n\t\t\t\t\t\t\tif ( fieldType && ( fieldType === 'radio' || fieldType === 'checkbox' ) ) {\n\t\t\t\t\t\t\t\tif ( input.is( ':checked' ) && input.val() == value ) {\n\t\t\t\t\t\t\t\t\tvisible = true;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( input.val() == value ) {\n\t\t\t\t\t\t\t\tvisible = true;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} )\n\n\t\t\t\t$(this).parents( '.give-field-wrap' ).toggle( visible );\n\n\t\t\t} );\n\t\t}\n\n\t\thandle_visibility();\n\n\t\t$( '.give-visibility-handler' ).on( 'change', handle_visibility );\n\t}\n\n\t//On DOM Ready\n\t$( function() {\n\t\thandle_default_radio();\n\t\ttoggle_conditional_form_fields();\n\t\thandle_repeatable_row_ID();\n\t\tmisc_cleanup();\n\t\thandle_fields_visibility();\n\t} );\n}( jQuery ) );\n","/**\n * Give Admin JS\n *\n * @package:     Give\n * @subpackage:  Assets/JS\n * @copyright:   Copyright (c) 2016, GiveWP\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n */\n\n/* globals Give, jQuery*/\n\n/**\n * Do not allow user to reload the page\n *\n * @since 1.8.14\n */\nimport { GiveWarningAlert, GiveErrorAlert, GiveConfirmModal } from '../plugins/modal';\n\nlet give_setting_edit = true;\n\ndocument.addEventListener('DOMContentLoaded', function(event) {\n\tgive_import_donation_onload();\n})\n\n/**\n * Run when user click on submit button.\n *\n * @since 1.8.17\n */\nfunction give_on_core_settings_import_start() {\n\tconst import_step = 'body.give_forms_page_give-tools .give-tools-import-tab #give-import-core-settings-form table.step-2';\n\tif ( jQuery( import_step ).length > 0 ) {\n\t\tconst $form = jQuery( 'form.tools-setting-page-import' );\n\t\tconst progress = $form.find( '.give-progress' );\n\n\t\tgive_setting_edit = true;\n\n\t\tjQuery.ajax( {\n\t\t\ttype: 'POST',\n\t\t\turl: ajaxurl,\n\t\t\tdata: {\n\t\t\t\taction: Give.fn.getGlobalVar( 'core_settings_import' ),\n\t\t\t\tfields: $form.serialize(),\n\t\t\t},\n\t\t\tdataType: 'json',\n\t\t\tsuccess: function( response ) {\n\t\t\t\tgive_setting_edit = false;\n\t\t\t\tif ( true === response.success ) {\n\t\t\t\t\tjQuery( progress ).find( 'div' ).width( response.percentage + '%' );\n\t\t\t\t} else {\n\t\t\t\t\tnew GiveErrorAlert( {\n\t\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\t\ttitle: Give.fn.getGlobalVar( 'import_failed' ),\n\t\t\t\t\t\t\tdesc: Give.fn.getGlobalVar( 'error_message' ),\n\t\t\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar( 'ok' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t} ).render();\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twindow.location = response.url;\n\t\t\t},\n\t\t\terror: function() {\n\t\t\t\tgive_setting_edit = false;\n\n\t\t\t\tnew GiveErrorAlert( {\n\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\ttitle: Give.fn.getGlobalVar( 'import_failed' ),\n\t\t\t\t\t\tdesc: Give.fn.getGlobalVar( 'error_message' ),\n\t\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar( 'ok' ),\n\t\t\t\t\t},\n\t\t\t\t} ).render();\n\t\t\t},\n\t\t} );\n\t}\n}\n\n/**\n * Check if admin is on step 1 and file is invalid\n *\n * @since 2.1\n */\nfunction give_import_core_settings_json_is_valid() {\n\tconst import_step = 'body.give_forms_page_give-tools .give-tools-import-tab #give-import-core-settings-form table.step-1 .is_json_valid';\n\tif ( jQuery( import_step ).length > 0 ) {\n\t\twindow.location = jQuery( import_step ).val();\n\t}\n}\n\n/**\n * Check if admin is on step 3 where we start imporing Donation from CSV via AJAX\n *\n * @since 2.1\n */\nfunction give_start_importing_donations() {\n\tconst import_step = 'body.give_forms_page_give-tools .give-tools-import-tab #give-import-donations-form table.step-3';\n\tif ( jQuery( import_step ).length > 0 ) {\n\t\tgive_on_donation_import_ajax();\n\t}\n}\n\n/**\n * Check if admin is on step 2 and CSV is invalid\n *\n * @since 2.1\n */\nfunction give_import_donation_csv_not_valid() {\n\tconst import_step = 'body.give_forms_page_give-tools .give-tools-import-tab #give-import-donations-form table.step-2 .csv_not_valid';\n\tif ( jQuery( import_step ).length > 0 ) {\n\t\twindow.location = jQuery( import_step ).val();\n\t}\n}\n\n/**\n * Check if admin is on step 1 and csv is valid\n *\n * @since 2.1\n */\nfunction give_import_donation_valid_csv() {\n\tconst import_step = 'body.give_forms_page_give-tools .give-tools-import-tab #give-import-donations-form table.step-1 .is_csv_valid';\n\n\tif ( jQuery( import_step ).length > 0 ) {\n\t\twindow.location = jQuery( import_step ).val();\n\t}\n}\n\n/**\n * Upload CSV ajax\n *\n * @since 1.8.13\n */\nfunction give_on_donation_import_ajax() {\n\tconst $form = jQuery( 'form.tools-setting-page-import' );\n\n\t/**\n\t * Do not allow user to reload the page\n\t *\n\t * @since 1.8.14\n\t */\n\tgive_setting_edit = true;\n\n\tconst progress = $form.find( '.give-progress' );\n\n\tconst total_ajax = jQuery( progress ).data( 'total_ajax' ),\n\t\tcurrent = jQuery( progress ).data( 'current' ),\n\t\tstart = jQuery( progress ).data( 'start' ),\n\t\tend = jQuery( progress ).data( 'end' ),\n\t\tnext = jQuery( progress ).data( 'next' ),\n\t\ttotal = jQuery( progress ).data( 'total' ),\n\t\tper_page = jQuery( progress ).data( 'per_page' );\n\n\tjQuery.ajax( {\n\t\ttype: 'POST',\n\t\turl: ajaxurl,\n\t\tdata: {\n\t\t\taction: Give.fn.getGlobalVar( 'give_donation_import' ),\n\t\t\ttotal_ajax: total_ajax,\n\t\t\tcurrent: current,\n\t\t\tstart: start,\n\t\t\tend: end,\n\t\t\tnext: next,\n\t\t\ttotal: total,\n\t\t\tper_page: per_page,\n\t\t\tfields: $form.serialize(),\n\t\t},\n\t\tdataType: 'json',\n\t\tsuccess: function( response ) {\n\t\t\tjQuery( progress ).data( 'current', response.current );\n\t\t\tjQuery( progress ).find( 'div' ).width( response.percentage + '%' );\n\n\t\t\tif ( response.next == true ) {\n\t\t\t\tjQuery( progress ).data( 'start', response.start );\n\t\t\t\tjQuery( progress ).data( 'end', response.end );\n\n\t\t\t\tif ( response.last == true ) {\n\t\t\t\t\tjQuery( progress ).data( 'next', false );\n\t\t\t\t}\n\t\t\t\tgive_on_donation_import_ajax();\n\t\t\t} else {\n\t\t\t\t/**\n\t\t\t\t * Now user is allow to reload the page.\n\t\t\t\t *\n\t\t\t\t * @since 1.8.14\n\t\t\t\t */\n\t\t\t\tgive_setting_edit = false;\n\t\t\t\twindow.location = response.url;\n\t\t\t}\n\t\t},\n\t\terror: function() {\n\t\t\t/**\n\t\t\t * Now user is allow to reload the page.\n\t\t\t *\n\t\t\t * @since 1.8.14\n\t\t\t */\n\t\t\tgive_setting_edit = false;\n\n\t\t\tnew GiveErrorAlert( {\n\t\t\t\tmodalContent: {\n\t\t\t\t\ttitle: Give.fn.getGlobalVar( 'import_failed' ),\n\t\t\t\t\tdesc: Give.fn.getGlobalVar( 'error_message' ),\n\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar( 'ok' ),\n\t\t\t\t},\n\t\t\t} ).render();\n\t\t},\n\t} );\n}\n\n/**\n * Give Import donation run on load once page is load completed.\n */\nfunction give_import_donation_onload() {\n\twindow.onload = function() {\n\t\tgive_import_donation_required_fields_check();\n\t\tgive_import_donation_on_drop_down_change();\n\t\tgive_start_importing_donations();\n\t\tgive_import_donation_valid_csv();\n\t\tgive_import_donation_csv_not_valid();\n\t\tgive_on_core_settings_import_start();\n\t\tgive_import_core_settings_json_is_valid();\n\t};\n}\n\n/**\n * Give import donation on change of drop down and update the required fields.\n */\nfunction give_import_donation_on_drop_down_change() {\n\tconst fields = document.querySelector( '.give-tools-setting-page-import table.step-2 tbody select' );\n\tif ( fields !== 'undefined' && fields !== null ) {\n\t\tjQuery( '.give-tools-setting-page-import table.step-2 tbody' ).on( 'change', 'select', function() {\n\t\t\tgive_import_donation_required_fields_check();\n\t\t} );\n\t}\n}\n\n/**\n * Give Import Donations check required fields\n */\nfunction give_import_donation_required_fields_check() {\n\tconst required_fields = document.querySelector( '.give-tools-setting-page-import table.step-2 .give-import-donation-required-fields' );\n\tif ( required_fields !== 'undefined' && required_fields !== null ) {\n\t\tlet submit = true,\n\t\t\temail = false,\n\t\t\tfirst_name = false,\n\t\t\tamount = false,\n\t\t\tform = false;\n\n\t\tdocument.querySelectorAll( '.give-import-donation-required-fields li' ).forEach( function( value ) {\n\t\t\tvalue.querySelector( '.dashicons' ).classList.remove( 'dashicons-yes' );\n\t\t\tvalue.querySelector( '.dashicons' ).classList.add( 'dashicons-no-alt' );\n\t\t} );\n\n\t\tconst select_fields = Array.from( document.querySelectorAll( 'table.step-2 tbody select' ) ).map( function( field ) {\n\t\t\treturn field.value;\n\t\t} );\n\n\t\tif ( select_fields.includes( 'email' ) ) {\n\t\t\temail = true;\n\t\t\tdocument.querySelector( '.give-import-donation-required-email .dashicons' ).classList.remove( 'dashicons-no-alt' );\n\t\t\tdocument.querySelector( '.give-import-donation-required-email .dashicons' ).classList.add( 'dashicons-yes' );\n\t\t}\n\n\t\tif ( select_fields.includes( 'first_name' ) ) {\n\t\t\tfirst_name = true;\n\t\t\tdocument.querySelector( '.give-import-donation-required-first .dashicons' ).classList.remove( 'dashicons-no-alt' );\n\t\t\tdocument.querySelector( '.give-import-donation-required-first .dashicons' ).classList.add( 'dashicons-yes' );\n\t\t}\n\n\t\tif ( select_fields.includes( 'amount' ) ) {\n\t\t\tamount = true;\n\t\t\tdocument.querySelector( '.give-import-donation-required-amount .dashicons' ).classList.remove( 'dashicons-no-alt' );\n\t\t\tdocument.querySelector( '.give-import-donation-required-amount .dashicons' ).classList.add( 'dashicons-yes' );\n\t\t}\n\n\t\tif ( select_fields.includes( 'form_id' ) || select_fields.includes( 'form_title' ) ) {\n\t\t\tform = true;\n\t\t\tdocument.querySelector( '.give-import-donation-required-form .dashicons' ).classList.remove( 'dashicons-no-alt' );\n\t\t\tdocument.querySelector( '.give-import-donation-required-form .dashicons' ).classList.add( 'dashicons-yes' );\n\t\t}\n\n\t\tif ( email && first_name && amount && form ) {\n\t\t\tsubmit = false;\n\t\t}\n\n\t\tdocument.getElementById( 'recount-stats-submit' ).disabled = submit;\n\t}\n}\n","jQuery( document ).ready( function() {\n\tif ( typeof URLSearchParams !== 'undefined' && window.history ) {\n\t\tconst currentParams = new URLSearchParams( window.location.search );\n\n\t\tif ( ! ( currentParams.has( 'give-run-migration' ) || currentParams.has( 'give-clear-update' ) ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcurrentParams.delete( 'give-run-migration' );\n\t\tcurrentParams.delete( 'give-clear-update' );\n\n\t\tconst newUrl = `${ window.location.origin }${ window.location.pathname }?${ currentParams }`;\n\n\t\twindow.history.replaceState( {}, '', newUrl );\n\t}\n} );\n\n","/**\n * Give Admin JS\n *\n * @package:     Give\n * @subpackage:  Assets/JS\n * @copyright:   Copyright (c) 2016, GiveWP\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n */\n/* globals Give, jQuery */\nimport {GiveConfirmModal, GiveErrorAlert, GiveWarningAlert} from '../plugins/modal';\nimport {GiveShortcodeButton} from './shortcode-button.js';\nimport setupChosen from './utils/setupChosen';\nimport accounting from 'accounting';\n\n// Provided access to global level.\nlet give_setting_edit = false;\nconst gravatar = require('gravatar');\n\n(function ($) {\n    /**\n     * Show/Hide ajax loader.\n     *\n     * @since 2.0\n     *\n     * @param $parent\n     * @param args\n     */\n    const giveAjaxLoader = function ($parent, args) {\n        args = jQuery.extend(\n            {\n                wrapper: true,\n                show: false,\n            },\n            args\n        );\n\n        const $loaderParent = args.wrapper ? $('.give-spinner-wrapper', $parent) : {},\n            $loader = $('.give-spinner', $parent);\n\n        // Show loader.\n        if (args.show) {\n            if ($loaderParent.length) {\n                $loaderParent.addClass('is-active');\n            }\n\n            $loader.addClass('is-active');\n            return;\n        }\n\n        // Hide loader.\n        if ($loaderParent.length) {\n            $loaderParent.removeClass('is-active');\n        }\n\n        $loader.removeClass('is-active');\n    };\n\n    /**\n     * Onclick remove give-message parameter from url\n     *\n     * @since 1.8.14\n     */\n    const give_dismiss_notice = function () {\n        $('body').on('click', 'button.notice-dismiss', function () {\n            if ('give-invalid-license' !== jQuery(this).closest('div.give-notice').data('notice-id')) {\n                give_remove_give_message(jQuery(this).closest('div.give-notice').attr('id'));\n            }\n        });\n    };\n\n    /**\n     * Remove give-message parameter from URL.\n     *\n     * @since 1.8.14\n     * @since 2.1.4 Added new param key which remove the multiple message array from URL.\n     *\n     * @param key string to remove from url in multiple notices.\n     */\n    var give_remove_give_message = function (key) {\n        var parameter = 'give-message',\n            url = document.location.href,\n            urlparts = url.split('?'),\n            key = undefined === key ? '' : key.replace('give-', '');\n\n        if (urlparts.length >= 2) {\n            const urlBase = urlparts.shift();\n            const queryString = urlparts.join('?');\n            const prefix = encodeURIComponent(parameter) + '=';\n\n            const pars = queryString.split(/[&;]/g);\n            for (let i = pars.length; i-- > 0; ) {\n                if (\n                    pars[i].lastIndexOf(prefix, 0) !== -1 ||\n                    ('' !== key && pars[i].lastIndexOf('give-messages', 0) !== -1 && pars[i].match(key + '$'))\n                ) {\n                    pars.splice(i, 1);\n                }\n            }\n            url = urlBase + '?' + pars.join('&');\n            window.history.pushState('', document.title, url); // added this line to push the new url directly to url bar .\n        }\n        return url;\n    };\n\n    /**\n     * Setup Admin Datepicker\n     * @since: 1.0\n     */\n    const enable_admin_datepicker = function () {\n        let datepicker = $('.give_datepicker'),\n            inputDefaultDate;\n\n        if (datepicker.length) {\n            let $clone = {},\n                options = {\n                    altFormat: 'yy-mm-dd',\n                    onClose: function (selectedDate, inst) {\n                        if (!selectedDate.length) {\n                            inst.input.next().val('');\n                        }\n                    },\n                };\n\n            $.each(datepicker, function (index, $input) {\n                $input = $($input);\n                inputDefaultDate =\n                    undefined !== $input.attr('data-standard-date')\n                        ? $input.attr('data-standard-date')\n                        : $input.attr('value');\n\n                if (!$input.attr('name').length) {\n                    return;\n                }\n\n                $clone = $input.clone();\n\n                // Update datepicker list with latest.\n                datepicker[index] = $clone;\n\n                $clone.attr('name', '');\n\n                $input.before($clone);\n                $input.hide();\n                $input.attr('class', '');\n                $input.attr('id', '');\n                $input.val(inputDefaultDate);\n                $input.prop('readonly', true);\n            });\n\n            if (datepicker.length > 0) {\n                $.each(datepicker, function (index, $input) {\n                    $input = $($input);\n                    options.altField = $input.next();\n\n                    $input.datepicker(options);\n                });\n            }\n        }\n    };\n\n    /**\n     * Setup Pretty Chosen Select Fields\n     */\n    const setup_chosen_give_selects = function () {\n        // Setup Chosen Selects.\n        const $give_chosen_containers = $('.give-select-chosen');\n\n        if ($give_chosen_containers.hasClass('give-chosen-settings')) {\n            // Do something to chosen used in metabox or admin settings.\n            $give_chosen_containers\n                .chosen({\n                    no_results_text: Give.fn.getGlobalVar('chosen_add_title_prefix') + ' ',\n                    width: '30%',\n                })\n                .on('chosen:no_results', function (evt, data) {\n                    $(data.chosen.container).on('keydown', function (event) {\n                        const chosenText = data.chosen.get_search_text(),\n                            $selectField = jQuery(data.chosen.form_field);\n\n                        if (\n                            13 === event.keyCode &&\n                            !$selectField.find('option[value=\"' + chosenText + '\"]').length &&\n                            'true' === $selectField.attr('data-allows-new-values')\n                        ) {\n                            $(data.chosen.form_field)\n                                .append('<option value=\"' + chosenText + '\" selected>' + chosenText + '</option>')\n                                .trigger('chosen:updated');\n                            data.chosen.result_highlight =\n                                data.chosen.search_results.find('li.active-result').lasteturn;\n                            data.chosen.result_select(evt);\n                        }\n                    });\n                });\n        } else {\n            setupChosen($give_chosen_containers);\n        }\n\n        // Fix: Chosen JS - Zero Width Issue.\n        // @see https://github.com/harvesthq/chosen/issues/472#issuecomment-344414059\n        $('.chosen-container').each(function () {\n            if (0 === $(this).width()) {\n                $(this).css('width', '100%');\n            }\n        });\n\n        // This fixes the Chosen box being 0px wide when the thickbox is opened.\n        $('#post').on('click', '.give-thickbox', function () {\n            $('.give-select-chosen', '#choose-give-form').css('width', '100%');\n        });\n    };\n\n    /**\n     * Unformat Currency\n     *\n     * @param   {string}      price Price\n     * @param   {number|bool} dp    Number of decimals\n     *\n     * @returns {string}\n     */\n    function give_unformat_currency(price, dp) {\n        price = accounting.unformat(price, Give.fn.getGlobalVar('decimal_separator')).toString();\n        dp = 'undefined' === dp ? false : dp;\n\n        // Set default value for number of decimals.\n        if (false !== dp) {\n            price = parseFloat(price).toFixed(dp);\n        } else {\n            // If price do not have decimal value then set default number of decimals.\n            price = parseFloat(price).toFixed(Give.fn.getGlobalVar('currency_decimals'));\n        }\n\n        return price;\n    }\n\n    /**\n     * List donation screen JS\n     */\n    const GiveListDonation = {\n        init: function () {\n            this.deleteSingleDonation();\n            this.resendSingleDonationReceipt();\n        },\n\n        deleteSingleDonation: function () {\n            new GiveConfirmModal({\n                triggerSelector: '.delete-single-donation',\n                modalWrapper: 'give-modal--warning',\n                modalContent: {\n                    title: Give.fn.getGlobalVar('confirm_delete_donation'),\n                    desc: Give.fn.getGlobalVar('delete_payment'),\n                },\n                successConfirm: function (args) {\n                    window.location.assign(args.el.attr('href'));\n                },\n            });\n        },\n\n        resendSingleDonationReceipt: function () {\n            new GiveConfirmModal({\n                triggerSelector: '.resend-single-donation-receipt',\n                modalContent: {\n                    title: Give.fn.getGlobalVar('confirm_resend'),\n                    desc: Give.fn.getGlobalVar('resend_receipt'),\n                },\n                successConfirm: function (args) {\n                    window.location.assign(args.el.attr('href'));\n                },\n            });\n        },\n    };\n\n    /**\n     * Edit donation screen JS\n     */\n    const Give_Edit_Donation = {\n        init: function () {\n            this.edit_address();\n            this.add_note();\n            this.remove_note();\n            this.new_donor();\n            this.resend_receipt();\n            this.variable_price_list();\n        },\n\n        edit_address: function () {\n            // Update base state field based on selected base country.\n            $('select[name=\"give-payment-address[0][country]\"]').change(function () {\n                const $this = $(this),\n                    data = {\n                        action: 'give_get_states',\n                        country: $this.val(),\n                        field_name: 'give-payment-address[0][state]',\n                    };\n\n                $.post(ajaxurl, data, function (response) {\n                    // Show the states dropdown menu.\n                    $this\n                        .closest('.column-container')\n                        .find('#give-order-address-state-wrap')\n                        .removeClass('give-hidden');\n\n                    // Add support to zip fields.\n                    $this.closest('.column-container').find('.give-column').removeClass('column-full');\n                    $this.closest('.column-container').find('.give-column').addClass('column');\n\n                    const state_wrap = $('#give-order-address-state-wrap');\n                    state_wrap.find('*').not('.order-data-address-line').remove();\n                    if (typeof response.states_found !== undefined && true === response.states_found) {\n                        state_wrap.append(response.data);\n                        state_wrap.find('select').chosen();\n                    } else {\n                        state_wrap.append(\n                            '<input type=\"text\" name=\"give-payment-address[0][state]\" value=\"' +\n                                response.default_state +\n                                '\" class=\"give-edit-toggles medium-text\"/>'\n                        );\n\n                        if (typeof response.show_field !== undefined && false === response.show_field) {\n                            // Hide the states dropdown menu.\n                            $this\n                                .closest('.column-container')\n                                .find('#give-order-address-state-wrap')\n                                .addClass('give-hidden');\n\n                            // Add support to zip fields.\n                            $this.closest('.column-container').find('.give-column').addClass('column-full');\n                            $this.closest('.column-container').find('.give-column').removeClass('column');\n                        }\n                    }\n                });\n\n                return false;\n            });\n        },\n\n        add_note: function () {\n            $('#give-add-payment-note').on('click', function (e) {\n                e.preventDefault();\n\n                // ajax function to save donation note\n                function save_note() {\n                    $.ajax({\n                        type: 'POST',\n                        data: postData,\n                        url: ajaxurl,\n                        beforeSend: function () {\n                            noteContainer.prop('disabled', true);\n                            $this.prop('disabled', true);\n                        },\n                        success: function (response) {\n                            $('#give-payment-notes-inner').append(response);\n                            $('.give-no-payment-notes').hide();\n                            $('#give-payment-note').val('');\n                        },\n                    })\n                        .fail(function (data) {\n                            if (window.console && window.console.log) {\n                                console.log(data);\n                            }\n                        })\n                        .always(function () {\n                            noteContainer.prop('disabled', false);\n                            $this.prop('disabled', false);\n                        });\n                }\n\n                const $this = $(this),\n                    noteContainer = $('#give-payment-note'),\n                    noteTypeContainer = $('#donation_note_type'),\n                    postData = {\n                        action: 'give_insert_payment_note',\n                        payment_id: $(this).data('payment-id'),\n                        note: noteContainer.val(),\n                        type: noteTypeContainer.val(),\n                    };\n\n                if (postData.note) {\n                    if ('donor' === postData.type && give_vars.email_notification.donor_note.status) {\n                        // Confirm and save note.\n                        new Give.modal.GiveConfirmModal({\n                            successConfirm: function () {\n                                save_note();\n                            },\n                            modalContent: {\n                                desc: give_vars.donor_note_confirm_msg,\n                            },\n                        }).render();\n                    } else {\n                        save_note();\n                    }\n                } else {\n                    const border_color = noteContainer.css('border-color');\n                    noteContainer.css('border-color', 'red');\n\n                    setTimeout(function () {\n                        noteContainer.css('border-color', border_color);\n                    }, 500);\n                }\n            });\n        },\n\n        remove_note: function () {\n            $('body').on('click', '.give-delete-payment-note', function (e) {\n                e.preventDefault();\n\n                const that = this;\n\n                new GiveConfirmModal({\n                    modalContent: {\n                        title: Give.fn.getGlobalVar('confirm_deletion'),\n                        desc: Give.fn.getGlobalVar('delete_payment_note'),\n                    },\n                    successConfirm: function (args) {\n                        const postData = {\n                            action: 'give_delete_payment_note',\n                            payment_id: $(that).data('payment-id'),\n                            note_id: $(that).data('note-id'),\n                        };\n\n                        $.ajax({\n                            type: 'POST',\n                            data: postData,\n                            url: ajaxurl,\n                            success: function (response) {\n                                $('#give-payment-note-' + postData.note_id).remove();\n                                if (!$('.give-payment-note').length) {\n                                    $('.give-no-payment-notes').show();\n                                }\n                                return false;\n                            },\n                        }).fail(function (data) {\n                            if (window.console && window.console.log) {\n                                console.log(data);\n                            }\n                        });\n                    },\n                }).render();\n            });\n        },\n\n        new_donor: function () {\n            $('#give-donor-details').on(\n                'click',\n                '.give-payment-new-donor, .give-payment-new-donor-cancel',\n                function (e) {\n                    e.preventDefault();\n                    $('.donor-info').toggle();\n                    $('.new-donor').toggle();\n\n                    if ($('.new-donor').is(':visible')) {\n                        $('#give-new-donor').val(1);\n                    } else {\n                        $('#give-new-donor').val(0);\n                    }\n                }\n            );\n        },\n\n        resend_receipt: function () {\n            $('body').on('click', '#give-resend-receipt', function (e) {\n                const that = this;\n\n                e.preventDefault();\n\n                new GiveConfirmModal({\n                    modalContent: {\n                        title: Give.fn.getGlobalVar('confirm_action'),\n                        desc: Give.fn.getGlobalVar('resend_receipt'),\n                    },\n                    successConfirm: function () {\n                        window.location.assign($(that).attr('href'));\n                    },\n                }).render();\n            });\n        },\n\n        variable_price_list: function () {\n            // Update variable price list when form changes.\n            $('#give_payment_form_select')\n                .chosen()\n                .change(function () {\n                    let give_form_id,\n                        variable_prices_html_container = $('.give-donation-level');\n\n                    // Check for form ID.\n                    if (!(give_form_id = $(this).val())) {\n                        return false;\n                    }\n\n                    // Bailout.\n                    if (!variable_prices_html_container.length) {\n                        return false;\n                    }\n\n                    // Ajax.\n                    $.ajax({\n                        type: 'POST',\n                        url: ajaxurl,\n                        data: {\n                            form_id: give_form_id,\n                            payment_id: $('input[name=\"give_payment_id\"]').val(),\n                            action: 'give_check_for_form_price_variations_html',\n                        },\n                        success: function (response) {\n                            response = response.trim();\n                            if (response) {\n                                // Update Variable price html.\n                                variable_prices_html_container.html(response);\n\n                                // Add chosen feature to select tag.\n                                $('select[name=\"give-variable-price\"]').chosen().change();\n                            } else {\n                                // Update Variable price html.\n                                variable_prices_html_container.html('');\n                            }\n                        },\n                    });\n                });\n\n            // Add total donation amount if level changes.\n            $('#give-donation-overview').on('change', 'select[name=\"give-variable-price\"]', function () {\n                const prices = jQuery(this).data('prices'),\n                    $total_amount = $('#give-payment-total');\n\n                if ('' !== prices && $(this).val() in prices) {\n                    $total_amount.val(prices[$(this).val()]).css('background-color', 'yellow');\n\n                    window.setTimeout(function () {\n                        $total_amount.css('background-color', 'white');\n                    }, 1000);\n                }\n            });\n        },\n    };\n\n    /**\n     * Settings screen JS\n     */\n    const Give_Settings = {\n        init: function () {\n            this.toggle_gateways();\n            this.setting_change_country();\n            this.toggle_options();\n            this.main_setting_update_notice();\n            this.verify_settings();\n            this.saveButtonTriggered();\n            this.changeAlert();\n            this.detectSettingsChange();\n            this.sequentialDonationIDPreview();\n        },\n\n        /**\n         * Disables the default gateway radio button if the\n         * gateway is disabled.\n         */\n        toggle_gateways: function () {\n            const checkbox = $('.gateways-checkbox');\n\n            checkbox.on('click', function () {\n                // Get the radio button object related to this checkbox.\n                const radio = $(this).prev('.gateways-radio');\n\n                // Get the checked value of the current checbox.\n                const checked = this.checked;\n\n                // Get all the checkbox that are checked.\n                const checked_cbs = $('.gateways-checkbox:checked');\n\n                // Get the count of all the checked checkbox.\n                const count_cbs = checked_cbs.length;\n\n                /**\n                 * If there is only one checked checkbox, then\n                 * make that gateway the default gateway.\n                 */\n                if (1 === count_cbs) {\n                    checked_cbs.prev('.gateways-radio').attr('checked', 'checked');\n\n                    if (this.checked) {\n                        radio.removeAttr('disabled');\n                    } else {\n                        radio.attr('disabled', 'disabled');\n                    }\n                } else if (this.checked) {\n                    radio.removeAttr('disabled');\n                    radio.removeAttr('checked');\n                } else {\n                    radio.attr('disabled', 'disabled');\n                }\n            });\n        },\n\n        /**\n         * Fire when user change the country from the dropdown\n         *\n         * @since 1.8.14\n         */\n        setting_change_country: function () {\n            $('select[name=\"base_country\"]').change(function () {\n                const $this = $(this);\n                const data = {\n                    action: 'give_get_states',\n                    country: $this.val(),\n                    field_name: 'base_state',\n                };\n\n                $.post(ajaxurl, data, function (response) {\n                    // Show the states dropdown menu.\n                    $this.closest('tr').next().show();\n                    $('#base_state_chosen').remove();\n                    if (typeof response.states_found !== undefined && true == response.states_found) {\n                        $(':input[name=\"base_state\"]').replaceWith(response.data).addClass('give-select-chosen');\n                        $(':input[name=\"base_state\"]').chosen();\n                    } else {\n                        if (typeof response.show_field !== undefined && false == response.show_field) {\n                            // Hide the states dropdown menu.\n                            $this.closest('tr').next().hide();\n                        }\n                        $(':input[name=\"base_state\"]').replaceWith(\n                            '<input type=\"text\" name=\"' +\n                                data.field_name +\n                                '\" value=\"' +\n                                response.default_state +\n                                '\" class=\"give-edit-toggles medium-text\"/>'\n                        );\n                    }\n                });\n                return false;\n            });\n        },\n\n        toggle_options: function () {\n            /**\n             * Email access\n             */\n            const emailAccess = $('input[name=\"email_access\"]', '.give-setting-tab-body-general');\n            emailAccess\n                .on('change', function () {\n                    const fieldValueEmail = $(\n                        'input[name=\"email_access\"]:checked',\n                        '.give-setting-tab-body-general'\n                    ).val();\n                    const fieldValueRecaptcha = $(\n                        'input[name=\"enable_recaptcha\"]:checked',\n                        '.give-setting-tab-body-general'\n                    ).val();\n                    if ('enabled' === fieldValueEmail) {\n                        $('input[name=\"enable_recaptcha\"]').parents('tr').show();\n\n                        if ('enabled' === fieldValueRecaptcha) {\n                            $('#recaptcha_key').parents('tr').show();\n                            $('#recaptcha_secret').parents('tr').show();\n                        } else {\n                            $('#recaptcha_key').parents('tr').hide();\n                            $('#recaptcha_secret').parents('tr').hide();\n                        }\n                    } else {\n                        $('#recaptcha_key').parents('tr').hide();\n                        $('#recaptcha_secret').parents('tr').hide();\n                        $('input[name=\"enable_recaptcha\"]').parents('tr').hide();\n                    }\n                })\n                .change();\n\n            /**\n             * Email reCAPTCHA\n             */\n            const recaptcha = $('input[name=\"enable_recaptcha\"]', '.give-setting-tab-body-general');\n            recaptcha\n                .on('change', function () {\n                    const fieldValueEmail = $(\n                        'input[name=\"email_access\"]:checked',\n                        '.give-setting-tab-body-general'\n                    ).val();\n                    const fieldValueRecaptcha = $(\n                        'input[name=\"enable_recaptcha\"]:checked',\n                        '.give-setting-tab-body-general'\n                    ).val();\n\n                    if ('enabled' === fieldValueEmail && 'enabled' === fieldValueRecaptcha) {\n                        $('#recaptcha_key').parents('tr').show();\n                        $('#recaptcha_secret').parents('tr').show();\n                    } else {\n                        $('#recaptcha_key').parents('tr').hide();\n                        $('#recaptcha_secret').parents('tr').hide();\n                    }\n                })\n                .change();\n\n            /**\n             * Form featured image\n             */\n            const form_featured_image = $('input[name=\"form_featured_img\"]', '.give-setting-tab-body-display');\n            form_featured_image\n                .on('change', function () {\n                    const field_value = $(\n                        'input[name=\"form_featured_img\"]:checked',\n                        '.give-setting-tab-body-display'\n                    ).val();\n                    if ('enabled' === field_value) {\n                        $('#featured_image_size').parents('tr').show();\n                    } else {\n                        $('#featured_image_size').parents('tr').hide();\n                    }\n                })\n                .change();\n\n            /**\n             * Terms and Conditions\n             */\n            const terms_and_conditions = $('input[name=\"terms\"]', '.give-setting-tab-body-display');\n            terms_and_conditions\n                .on('change', function () {\n                    const field_value = $('input[name=\"terms\"]:checked', '.give-setting-tab-body-display').val();\n                    if ('enabled' === field_value) {\n                        $('#agree_to_terms_label').parents('tr').show();\n                        $('#wp-agreement_text-wrap').parents('tr').show();\n                    } else {\n                        $('#agree_to_terms_label').parents('tr').hide();\n                        $('#wp-agreement_text-wrap').parents('tr').hide();\n                    }\n                })\n                .change();\n\n            /**\n             * Disable admin notification\n             */\n            const admin_notification = $('input[name=\"admin_notices\"]', '.give-setting-tab-body-emails');\n            admin_notification\n                .on('change', function () {\n                    const field_value = $('input[name=\"admin_notices\"]:checked', '.give-setting-tab-body-emails').val();\n                    if ('enabled' === field_value) {\n                        $('#donation_notification_subject').parents('tr').show();\n                        $('#wp-donation_notification-wrap').parents('tr').show();\n                        $('#admin_notice_emails').parents('tr').show();\n                    } else {\n                        $('#donation_notification_subject').parents('tr').hide();\n                        $('#wp-donation_notification-wrap').parents('tr').hide();\n                        $('#admin_notice_emails').parents('tr').hide();\n                    }\n                })\n                .change();\n\n            /**\n             * Toggle sequential ordering settings\n             */\n            const sequential_ordering = $('input[name=\"sequential-ordering_status\"]', '.give-setting-tab-body-general');\n            sequential_ordering\n                .on('change', function () {\n                    const field_value = $(\n                            'input[name=\"sequential-ordering_status\"]:checked',\n                            '.give-setting-tab-body-general'\n                        ).val(),\n                        $parent = $(this).closest('table');\n                    if ('enabled' === field_value) {\n                        $('input', $parent).not('input[name=\"sequential-ordering_status\"]').parents('tr').show();\n                    } else {\n                        $('input', $parent).not('input[name=\"sequential-ordering_status\"]').parents('tr').hide();\n                    }\n                })\n                .change();\n        },\n\n        main_setting_update_notice: function () {\n            const $setting_message = $('#setting-error-give-setting-updated');\n            if ($setting_message.length) {\n                // auto hide setting message in 5 seconds.\n                window.setTimeout(function () {\n                    $setting_message.slideUp();\n                }, 5000);\n            }\n        },\n\n        verify_settings: function () {\n            const success_setting = $('#success_page');\n            const failure_setting = $('#failure_page');\n\n            /**\n             * Verify success and failure page.\n             */\n            success_setting\n                .add(failure_setting)\n                .change(function () {\n                    if (success_setting.val() === failure_setting.val()) {\n                        let notice_html =\n                                '<div id=\"setting-error-give-matched-success-failure-page\" class=\"updated settings-error notice is-dismissible\"> <p><strong>' +\n                                Give.fn.getGlobalVar('matched_success_failure_page') +\n                                '</strong></p> <button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">' +\n                                Give.fn.getGlobalVar('dismiss_notice_text') +\n                                '</span></button> </div>',\n                            $notice_container = $('#setting-error-give-matched-success-failure-page');\n\n                        // Unset setting field.\n                        $(this).val('');\n\n                        // Bailout.\n                        if ($notice_container.length) {\n                            return false;\n                        }\n\n                        // Add html.\n                        $('h1', '#give-mainform').after(notice_html);\n                        $notice_container = $('#setting-error-give-matched-success-failure-page');\n\n                        // Add event to  dismiss button.\n                        $('.notice-dismiss', $notice_container).click(function () {\n                            $notice_container.remove();\n                        });\n                    }\n                })\n                .change();\n        },\n\n        saveButtonTriggered: function () {\n            $('.give-settings-setting-page').on('click', '.give-save-button', function () {\n                $(window).unbind('beforeunload');\n            });\n        },\n\n        /**\n         * Show alert when admin try to reload the page with saving the changes.\n         *\n         * @since 1.8.14\n         */\n        changeAlert: function () {\n            $(window).bind('beforeunload', function (e) {\n                const confirmationMessage = Give.fn.getGlobalVar('setting_not_save_message');\n\n                if (give_setting_edit) {\n                    (e || window.event).returnValue = confirmationMessage; //Gecko + IE.\n                    return confirmationMessage; //Webkit, Safari, Chrome.\n                }\n            });\n        },\n\n        /**\n         * Display alert in setting page of give if user try to reload the page with saving the changes.\n         *\n         * @since 1.8.14\n         */\n        detectSettingsChange: function () {\n            const settingsPage = $('.give-settings-setting-page');\n\n            // Check if it give setting page or not.\n            if (settingsPage.length > 0) {\n                // Get the default value.\n                const on_load_value = $('#give-mainform').serialize();\n\n                /**\n                 * Keyup event add to support to text box and textarea.\n                 * blur event add to support to dropdown.\n                 * Change event add to support to rest all element.\n                 */\n                settingsPage.on('change keyup blur', 'form', function (event) {\n                    // Do not listen for excluded form fields. They are there own logic to handle their state.\n                    if ($(event.target).closest('.js-fields-has-custom-saving-logic').length) {\n                        return;\n                    }\n\n                    // Get the form value after change.\n                    const on_change_value = $('#give-mainform').serialize();\n\n                    // If both the value are same then no change has being made else change has being made.\n                    give_setting_edit = on_load_value !== on_change_value ? true : false;\n                });\n            }\n        },\n\n        /**\n         * Render donation id for sequential ordering.\n         *\n         * @since 2.1.0\n         */\n        sequentialDonationIDPreview: function () {\n            const $previewField = jQuery('#sequential-ordering_preview');\n\n            // Bailout.\n            if (!$previewField.length) {\n                return;\n            }\n\n            jQuery(\n                '#sequential-ordering_number_prefix, #sequential-ordering_number, #sequential-ordering_number_padding, #sequential-ordering_number_suffix'\n            ).on('keyup change', function () {\n                const prefix = jQuery('#sequential-ordering_number_prefix').val(),\n                    startingNumber = jQuery('#sequential-ordering_number').val().trim() || '1',\n                    numberPadding = jQuery('#sequential-ordering_number_padding').val().trim(),\n                    suffix = jQuery('#sequential-ordering_number_suffix').val(),\n                    $donationID = `${prefix}${startingNumber.padStart(numberPadding, '0')}${suffix}`;\n\n                $previewField.val($donationID);\n            });\n\n            jQuery('#sequential-ordering_number_prefix').trigger('keyup');\n\n            jQuery('#sequential-ordering_number_prefix, #sequential-ordering_number_suffix').on('blur', function () {\n                $(this).val($(this).val().replace(new RegExp(' ', 'g'), '-'));\n            });\n        },\n    };\n\n    /**\n     * Reports / Exports / Tools screen JS\n     */\n    const Give_Reports = {\n        init: function () {\n            this.date_options();\n            this.donors_export();\n            this.recount_stats();\n        },\n\n        date_options: function () {\n            // Show hide extended date options.\n            $('#give-graphs-date-options').change(function () {\n                const $this = $(this);\n                if ('other' === $this.val()) {\n                    $('#give-date-range-options').show();\n                } else {\n                    $('#give-date-range-options').hide();\n                }\n            });\n        },\n\n        donors_export: function () {\n            // Show / hide Donation Form option when exporting donors.\n            $('#give_donor_export_form').change(function () {\n                const $this = $(this),\n                    form_id = $('option:selected', $this).val(),\n                    customer_export_option = $('#give_customer_export_option');\n\n                if ('0' === $this.val()) {\n                    customer_export_option.show();\n                } else {\n                    customer_export_option.hide();\n                }\n\n                const price_options_select = $('.give_price_options_select');\n\n                // On Form Select, Check if Variable Prices Exist.\n                if (parseInt(form_id) != 0) {\n                    const data = {\n                        action: 'give_check_for_form_price_variations',\n                        form_id: form_id,\n                        all_prices: true,\n                    };\n\n                    $.post(ajaxurl, data, function (response) {\n                        price_options_select.remove();\n                        $('#give_donor_export_form_chosen').after(response);\n                    });\n                } else {\n                    price_options_select.remove();\n                }\n            });\n        },\n\n        recount_stats: function () {\n            $('body').on('change', '#recount-stats-type', function () {\n                const export_form = $('#give-tools-recount-form');\n                const selected_type = $('option:selected', this).data('type');\n                const submit_button = $('#recount-stats-submit');\n                const forms = $('.tools-form-dropdown');\n                const dateSelector = $('.tools-date-dropdown-delete-donations');\n\n                // Reset the form\n                export_form.find('.notice-wrap').remove();\n                submit_button.removeClass('button-disabled').attr('disabled', false);\n                forms.hide();\n                dateSelector.hide();\n\n                $('.give-recount-stats-descriptions span').hide();\n\n                if ('reset-stats' === selected_type) {\n                    export_form.append('<div class=\"notice-wrap\"></div>');\n                    var notice_wrap = export_form.find('.notice-wrap');\n                    notice_wrap.html(\n                        '<div class=\"notice notice-warning\"><p><input type=\"checkbox\" id=\"confirm-reset\" name=\"confirm_reset_store\" value=\"1\" /> <label for=\"confirm-reset\">' +\n                            Give.fn.getGlobalVar('reset_stats_warn') +\n                            '</label></p></div>'\n                    );\n                    submit_button.addClass('button-disabled').attr('disabled', 'disabled');\n\n                    // Add check when admin try to delete all the test donors.\n                } else if ('delete-test-donors' === selected_type) {\n                    export_form.append('<div class=\"notice-wrap\"></div>');\n                    var notice_wrap = export_form.find('.notice-wrap');\n                    notice_wrap.html(\n                        '<div class=\"notice notice-warning\"><p><input type=\"checkbox\" id=\"confirm-reset\" name=\"confirm_reset_store\" value=\"1\" /> <label for=\"confirm-reset\">' +\n                            Give.fn.getGlobalVar('delete_test_donor') +\n                            '</label></p></div>'\n                    );\n                    submit_button.addClass('button-disabled').attr('disabled', 'disabled');\n                    // Add check when admin try to delete all the imported donations.\n                } else if ('delete-import-donors' === selected_type) {\n                    export_form.append('<div class=\"notice-wrap\"></div>');\n                    var notice_wrap = export_form.find('.notice-wrap');\n                    notice_wrap.html(\n                        '<div class=\"notice notice-warning\"><p><input type=\"checkbox\" id=\"confirm-reset\" name=\"confirm_reset_store\" value=\"1\" /> <label for=\"confirm-reset\">' +\n                            Give.fn.getGlobalVar('delete_import_donor') +\n                            '</label></p></div>'\n                    );\n                    submit_button.addClass('button-disabled').attr('disabled', 'disabled');\n                } else if ('delete-donations' === selected_type) {\n                    dateSelector.show();\n                    export_form.append('<div class=\"notice-wrap\"></div>');\n                    var notice_wrap = export_form.find('.notice-wrap');\n                    notice_wrap.html(\n                        '<div class=\"notice notice-warning\"><p><input type=\"checkbox\" id=\"confirm-reset\" name=\"confirm_reset_store\" value=\"1\" /> <label for=\"confirm-reset\">' +\n                            Give.fn.getGlobalVar('delete_donations_only') +\n                            '</label></p></div>'\n                    );\n                    submit_button.addClass('button-disabled').attr('disabled', 'disabled');\n                } else {\n                    forms.hide();\n                    forms.val(0);\n                }\n\n                const current_forms = $('.tools-form-dropdown-' + selected_type);\n                current_forms.show();\n                current_forms.find('.give-select-chosen').css({\n                    width: 'auto',\n                    'min-width': '250px',\n                });\n                $('#' + selected_type).show();\n            });\n\n            $('body').on('change', '#confirm-reset', function () {\n                const checked = $(this).is(':checked');\n                if (checked) {\n                    $('#recount-stats-submit').removeClass('button-disabled').removeAttr('disabled');\n                } else {\n                    $('#recount-stats-submit').addClass('button-disabled').attr('disabled', 'disabled');\n                }\n            });\n\n            $('#give-tools-recount-form').submit(function (e) {\n                const selection = $('#recount-stats-type').val();\n                const export_form = $(this);\n                const selected_type = $('option:selected', this).data('type');\n\n                if ('reset-stats' === selected_type) {\n                    const is_confirmed = $('#confirm-reset').is(':checked');\n                    if (is_confirmed) {\n                        return true;\n                    }\n                    has_errors = true;\n                }\n\n                export_form.find('.notice-wrap').remove();\n\n                export_form.append('<div class=\"notice-wrap\"></div>');\n                const notice_wrap = export_form.find('.notice-wrap');\n                var has_errors = false;\n\n                if (null === selection || 0 === selection) {\n                    // Needs to pick a method give_vars.batch_export_no_class.\n                    notice_wrap.html(\n                        '<div class=\"updated error\"><p>' + Give.fn.getGlobalVar('batch_export_no_class') + '</p></div>'\n                    );\n                    has_errors = true;\n                }\n\n                if ('recount-form' === selected_type) {\n                    const selected_form = $('select[name=\"form_id\"]').val();\n                    if (selected_form == 0) {\n                        // Needs to pick give_vars.batch_export_no_reqs.\n                        notice_wrap.html(\n                            '<div class=\"updated error\"><p>' +\n                                Give.fn.getGlobalVar('batch_export_no_reqs') +\n                                '</p></div>'\n                        );\n                        has_errors = true;\n                    }\n                }\n\n                if (has_errors) {\n                    export_form.find('.button-disabled').removeClass('button-disabled');\n                    return false;\n                }\n            });\n        },\n    };\n\n    /**\n     * Export screen JS\n     */\n    const Give_Export = {\n        init: function () {\n            this.submit();\n            this.dismiss_message();\n        },\n\n        submit: function () {\n            const self = this;\n\n            $(document.body).on('submit', '.give-export-form', function (e) {\n                e.preventDefault();\n\n                const submitButton = $(this).find('input[type=\"submit\"]');\n\n                if (!submitButton.hasClass('button-disabled')) {\n                    const data = $(this).serialize();\n\n                    submitButton.addClass('button-disabled');\n                    $('form.give-export-form select').attr('disabled', true).trigger('chosen:updated');\n\n                    let parent_notices = $(this);\n\n                    // show notices inside add-notices class\n                    if ($(this).find('.add-notices').length > 0) {\n                        parent_notices = $(this).find('.add-notices');\n                    }\n\n                    parent_notices.find('.notice-wrap').remove();\n                    parent_notices.append(\n                        '<div class=\"notice-wrap give-clearfix\"><span class=\"spinner is-active\"></span><div class=\"give-progress\"><div></div></div></div>'\n                    );\n\n                    // start the process\n                    self.process_step(1, data, self, this);\n                }\n            });\n        },\n\n        process_step: function (step, data, self, form, file) {\n            /**\n             * Do not allow user to reload the page\n             *\n             * @since 1.8.14\n             */\n            give_setting_edit = true;\n\n            let reset_form = false;\n\n            $.ajax({\n                type: 'POST',\n                url: ajaxurl,\n                data: {\n                    form: data,\n                    action: 'give_do_ajax_export',\n                    step: step,\n                    file_name: file,\n                },\n                dataType: 'json',\n                success: function (response) {\n                    if ('done' == response.step || response.error || response.success) {\n                        /**\n                         * Now allow user to reload the page\n                         *\n                         * @since 1.8.14\n                         */\n                        give_setting_edit = false;\n\n                        reset_form = true;\n\n                        // We need to get the actual in progress form, not all forms on the page\n                        const notice_wrap = $(form).parent().find('.notice-wrap');\n                        const export_form = notice_wrap.find('.give-progress');\n\n                        $(form).find('.button-disabled').removeClass('button-disabled');\n                        $(form).find('select').attr('disabled', false).trigger('chosen:updated');\n\n                        if (response.error) {\n                            const error_message = response.message;\n                            notice_wrap.html('<div class=\"updated error\"><p>' + error_message + '</p></div>');\n                        } else if (response.success) {\n                            const success_message = response.message;\n                            notice_wrap.html(\n                                '<div id=\"give-batch-success\" class=\"updated notice is-dismissible\"><p>' +\n                                    success_message +\n                                    '<span class=\"notice-dismiss\"></span></p></div>'\n                            );\n                        } else {\n                            notice_wrap.remove();\n                            window.location = response.url;\n                        }\n                    } else {\n                        $('.give-progress div').animate(\n                            {\n                                width: response.percentage + '%',\n                            },\n                            50,\n                            function () {\n                                // Animation complete.\n                            }\n                        );\n                        self.process_step(parseInt(response.step), data, self, form, response.file_name);\n                    }\n\n                    if (true === reset_form && $('#give-tools-recount-form').length > 0) {\n                        // Reset the form for preventing multiple ajax request.\n                        $('#give-tools-recount-form')[0].reset();\n                        $('#give-tools-recount-form .tools-form-dropdown').hide();\n                        $('#give-tools-recount-form .tools-date-dropdown').hide();\n                        $('#give-tools-recount-form .tools-form-dropdown-recount-form-select')\n                            .val('0')\n                            .trigger('chosen:updated');\n                    }\n                },\n            }).fail(function (response) {\n                /**\n                 * Now allow user to reload the page\n                 *\n                 * @since 1.8.14\n                 */\n                give_setting_edit = false;\n\n                if (window.console && window.console.log) {\n                    console.log(response);\n                }\n                $('.notice-wrap').append(response.responseText);\n            });\n        },\n\n        dismiss_message: function () {\n            $('body').on('click', '#give-batch-success .notice-dismiss', function () {\n                $('#give-batch-success').parent().slideUp('fast');\n            });\n        },\n    };\n\n    /**\n     * Updates screen JS\n     */\n    var Give_Updates = {\n        el: {},\n\n        init: function () {\n            this.submit();\n            this.dismiss_message();\n        },\n\n        submit: function () {\n            const $self = this,\n                step = 1,\n                resume_update_step = 0;\n\n            $self.el.main_container = Give_Selector_Cache.get('#give-db-updates');\n            $self.el.update_link = Give_Selector_Cache.get('.give-update-now', $self.el.main_container);\n            $self.el.run_upload_container = Give_Selector_Cache.get(\n                '.give-run-database-update',\n                $self.el.progress_main_container\n            );\n            $self.el.progress_main_container = Give_Selector_Cache.get('.progress-container', $self.el.main_container);\n            $self.el.heading = Give_Selector_Cache.get('.update-message', $self.el.progress_main_container);\n            $self.el.progress_container = Give_Selector_Cache.get(\n                '.progress-content',\n                $self.el.progress_main_container\n            );\n            $self.el.update_progress_counter = Give_Selector_Cache.get($('.give-update-progress-count'));\n\n            if ($self.el.main_container.data('resume-update')) {\n                $self.el.update_link.addClass('active').hide().removeClass('give-hidden');\n\n                if (!$('#give-restart-upgrades').length) {\n                    // Start update by ajax if background update does not work.\n                    if (!Give.fn.getGlobalVar('ajax').length) {\n                        window.setTimeout(Give_Updates.start_db_update, 1000);\n                    }\n\n                    window.setTimeout(Give_Updates.get_db_updates_info, 1000, $self);\n                }\n            }\n\n            // Bailout.\n            if ($self.el.update_link.hasClass('active')) {\n                return;\n            }\n\n            $self.el.update_link.on('click', '', function (e) {\n                e.preventDefault();\n\n                $self.el.run_upload_container.find('.notice').remove();\n                $self.el.run_upload_container.append(\n                    '<div class=\"notice notice-error non-dismissible give-run-update-containt\"><p> <a href=\"#\" class=\"give-run-update-button button\">' +\n                        Give.fn.getGlobalVar('db_update_confirmation_msg_button') +\n                        '</a> ' +\n                        Give.fn.getGlobalVar('db_update_confirmation_msg') +\n                        '</p></div>'\n                );\n            });\n\n            $('#give-db-updates').on('click', 'a.give-run-update-button', function (e) {\n                e.preventDefault();\n\n                if ($(this).hasClass('active')) {\n                    return false;\n                }\n\n                $(this).addClass('active').fadeOut();\n                $self.el.update_link.addClass('active').fadeOut();\n                $('#give-db-updates .give-run-update-containt').slideUp();\n\n                $self.el.progress_container.find('.notice-wrap').remove();\n                $self.el.progress_container.append(\n                    '<div class=\"notice-wrap give-clearfix\"><span class=\"spinner is-active\"></span><div class=\"give-progress\"><div></div></div></div>'\n                );\n                $self.el.progress_main_container.removeClass('give-hidden');\n\n                Give_Updates.start_db_update();\n\n                window.setTimeout(Give_Updates.get_db_updates_info, 500, $self);\n\n                return false;\n            });\n        },\n\n        start_db_update: function start_db_update() {\n            $.ajax({\n                type: 'POST',\n                url: ajaxurl,\n                data: {\n                    action: 'give_run_db_updates',\n                    run_db_update: 1,\n                    nonce: Give.fn.getGlobalVar('db_update_nonce'),\n                },\n                dataType: 'json',\n                success: function success(response) {},\n            }).always(function () {\n                // Start update by ajax if background update does not work.\n                if (!Give.fn.getGlobalVar('ajax').length) {\n                    window.setTimeout(Give_Updates.start_db_update, 1000);\n                }\n            });\n        },\n\n        get_db_updates_info: function ($self) {\n            $.ajax({\n                type: 'POST',\n                url: ajaxurl,\n                data: {\n                    action: 'give_db_updates_info',\n                },\n                dataType: 'json',\n                success: function (response) {\n                    // We need to get the actual in progress form, not all forms on the page.\n                    const notice_wrap = Give_Selector_Cache.get('.notice-wrap', $self.el.progress_container, true);\n\n                    if (-1 !== $.inArray('success', Object.keys(response))) {\n                        if (response.success) {\n                            if ($self.el.update_progress_counter.length) {\n                                $self.el.update_progress_counter.text('100%');\n                            }\n\n                            // Update steps info.\n                            if (-1 !== $.inArray('heading', Object.keys(response.data))) {\n                                $self.el.heading.html('<strong>' + response.data.heading + '</strong>');\n                            }\n\n                            $self.el.update_link.closest('p').remove();\n                            notice_wrap.html(\n                                '<div class=\"notice notice-success is-dismissible\"><p>' +\n                                    response.data.message +\n                                    '</p><button type=\"button\" class=\"notice-dismiss\"></button></div>'\n                            );\n                        } else {\n                            // Update steps info.\n                            if (-1 !== $.inArray('heading', Object.keys(response.data))) {\n                                $self.el.heading.html('<strong>' + response.data.heading + '</strong>');\n                            }\n\n                            if (response.data.message) {\n                                $self.el.update_link.closest('p').remove();\n                                notice_wrap.html(\n                                    '<div class=\"notice notice-error is-dismissible\"><p>' +\n                                        response.data.message +\n                                        '</p><button type=\"button\" class=\"notice-dismiss\"></button></div>'\n                                );\n                            } else {\n                                setTimeout(function () {\n                                    $self.el.update_link.removeClass('active').show();\n                                    $self.el.progress_main_container.addClass('give-hidden');\n                                }, 1000);\n                            }\n                        }\n                    } else if (response && -1 !== $.inArray('percentage', Object.keys(response.data))) {\n                        if ($self.el.update_progress_counter.length) {\n                            $self.el.update_progress_counter.text(response.data.total_percentage + '%');\n                        }\n\n                        // Update steps info.\n                        if (-1 !== $.inArray('heading', Object.keys(response.data))) {\n                            $self.el.heading.html('<strong>' + response.data.heading + '</strong>');\n                        }\n\n                        // Update progress.\n                        $('.give-progress div', '#give-db-updates').animate(\n                            {\n                                width: response.data.percentage + '%',\n                            },\n                            50,\n                            function () {\n                                // Animation complete.\n                            }\n                        );\n\n                        window.setTimeout(Give_Updates.get_db_updates_info, 1000, $self);\n                    } else {\n                        notice_wrap.html(\n                            '<div class=\"notice notice-error\"><p>' +\n                                Give.fn.getGlobal().updates.ajax_error +\n                                '</p></div>'\n                        );\n\n                        setTimeout(function () {\n                            $self.el.update_link.removeClass('active').show();\n                            $self.el.progress_main_container.addClass('give-hidden');\n                        }, 1000);\n                    }\n                },\n            });\n        },\n\n        process_step: function (step, update, $self) {\n            give_setting_edit = true;\n\n            $.ajax({\n                type: 'POST',\n                url: ajaxurl,\n                data: {\n                    action: 'give_do_ajax_updates',\n                    step: parseInt(step),\n                    update: parseInt(update),\n                },\n                dataType: 'json',\n                success: function (response) {\n                    give_setting_edit = false;\n\n                    // We need to get the actual in progress form, not all forms on the page.\n                    const notice_wrap = Give_Selector_Cache.get('.notice-wrap', $self.el.progress_container, true);\n\n                    if (-1 !== $.inArray('success', Object.keys(response))) {\n                        if (response.success) {\n                            // Update steps info.\n                            if (-1 !== $.inArray('heading', Object.keys(response.data))) {\n                                $self.el.heading.html('<strong>' + response.data.heading + '</strong>');\n                            }\n\n                            $self.el.update_link.closest('p').remove();\n                            notice_wrap.html(\n                                '<div class=\"notice notice-success is-dismissible\"><p>' +\n                                    response.data.message +\n                                    '</p><button type=\"button\" class=\"notice-dismiss\"></button></div>'\n                            );\n                        } else {\n                            // Update steps info.\n                            if (-1 !== $.inArray('heading', Object.keys(response.data))) {\n                                $self.el.heading.html('<strong>' + response.data.heading + '</strong>');\n                            }\n\n                            notice_wrap.html(\n                                '<div class=\"notice notice-error\"><p>' + response.data.message + '</p></div>'\n                            );\n\n                            setTimeout(function () {\n                                $self.el.update_link.removeClass('active').show();\n                                $self.el.progress_main_container.addClass('give-hidden');\n                            }, 5000);\n                        }\n                    } else if (response && -1 !== $.inArray('percentage', Object.keys(response.data))) {\n                        // Update progress.\n                        $('.give-progress div', '#give-db-updates').animate(\n                            {\n                                width: response.data.percentage + '%',\n                            },\n                            50,\n                            function () {\n                                // Animation complete.\n                            }\n                        );\n\n                        // Update steps info.\n                        if (-1 !== $.inArray('heading', Object.keys(response.data))) {\n                            $self.el.heading.html(\n                                '<strong>' +\n                                    response.data.heading.replace(\n                                        '{update_count}',\n                                        $self.el.heading.data('update-count')\n                                    ) +\n                                    '</strong>'\n                            );\n                        }\n\n                        $self.process_step(parseInt(response.data.step), response.data.update, $self);\n                    } else {\n                        notice_wrap.html(\n                            '<div class=\"notice notice-error\"><p>' +\n                                Give.fn.getGlobal().updates.ajax_error +\n                                '</p></div>'\n                        );\n\n                        setTimeout(function () {\n                            $self.el.update_link.removeClass('active').show();\n                            $self.el.progress_main_container.addClass('give-hidden');\n                        }, 5000);\n                    }\n                },\n            })\n                .fail(function (response) {\n                    give_setting_edit = false;\n\n                    if (window.console && window.console.log) {\n                        console.log(response);\n                    }\n\n                    Give_Selector_Cache.get('.notice-wrap', self.el.progress_container).append(response.responseText);\n                })\n                .always(function () {});\n        },\n\n        dismiss_message: function () {\n            $('body').on('click', '#poststuff .notice-dismiss', function () {\n                $(this).parent().slideUp('fast');\n            });\n        },\n    };\n\n    /**\n     * Give Upgrader\n     */\n    const Give_Upgrades = {\n        init: function () {\n            this.restartUpgrade();\n            this.stopUpgrade();\n            this.restartUpdater();\n        },\n\n        /**\n         * Function to restart the upgrade process.\n         */\n        restartUpgrade: function () {\n            jQuery('#give-restart-upgrades').click('click', function (e) {\n                const that = this;\n\n                e.preventDefault();\n\n                jQuery('.give-doing-update-text-p').show();\n                jQuery('.give-update-paused-text-p').hide();\n\n                new GiveConfirmModal({\n                    modalContent: {\n                        title: Give.fn.getGlobalVar('confirm_action'),\n                        desc: Give.fn.getGlobalVar('restart_upgrade'),\n                    },\n                    successConfirm: function () {\n                        window.location.assign(jQuery(that).data('redirect-url'));\n                    },\n                }).render();\n            });\n        },\n\n        /**\n         * Function to pause the upgrade process.\n         */\n        stopUpgrade: function () {\n            jQuery('#give-pause-upgrades').click('click', function (e) {\n                const that = this;\n\n                e.preventDefault();\n\n                jQuery('.give-doing-update-text-p').hide();\n                jQuery('.give-update-paused-text-p').show();\n\n                new GiveConfirmModal({\n                    modalContent: {\n                        title: Give.fn.getGlobalVar('confirm_action'),\n                        desc: Give.fn.getGlobalVar('stop_upgrade'),\n                    },\n                    successConfirm: function () {\n                        window.location.assign(jQuery(that).data('redirect-url'));\n                    },\n                }).render();\n            });\n        },\n\n        /**\n         * Function to restart the update process.\n         */\n        restartUpdater: function () {\n            jQuery('.give-restart-updater-btn,.give-run-update-now').click('click', function (e) {\n                const that = this;\n\n                e.preventDefault();\n\n                new GiveConfirmModal({\n                    modalContent: {\n                        title: Give.fn.getGlobalVar('confirm_action'),\n                        desc: Give.fn.getGlobalVar('restart_update'),\n                    },\n                    successConfirm: function () {\n                        window.location.assign(jQuery(that).attr('href'));\n                    },\n                }).render();\n            });\n        },\n    };\n\n    /**\n     * Admin Status Select Field Change\n     *\n     * @description: Handle status switching\n     * @since: 1.0\n     */\n    const handle_status_change = function () {\n        $('select[name=\"give-payment-status\"]').on('change', function () {\n            const status = $(this).val();\n\n            $('.give-donation-status')\n                .removeClass(function (index, css) {\n                    return (css.match(/\\bstatus-\\S+/g) || []).join(' ');\n                })\n                .addClass('status-' + status);\n        });\n    };\n\n    /**\n     * Donor management screen JS\n     */\n    var GiveDonor = {\n        onLoadPageNumber: '',\n\n        init: function () {\n            this.loadGravatar();\n            this.unlockDonorFields();\n            this.editDonor();\n            this.add_email();\n            this.removeUser();\n            this.cancelEdit();\n            this.add_note();\n            this.delete_checked();\n            this.addressesAction();\n            this.bulkDeleteDonor();\n            GiveDonor.onLoadPageNumber = $('#current-page-selector').val();\n            $('body').on('click', '#give-donors-filter .bulkactions input[type=\"submit\"]', this.handleBulkActions);\n        },\n\n        loadGravatar: function () {\n            let giveDonorImage,\n                donorEmail,\n                hasValidGravatar = '';\n\n            $('.give-donor-name').each(function () {\n                giveDonorImage = $(this).find('.give-donor__image');\n\n                // Bailout out if already tried to load gravatar.\n                if (giveDonorImage.hasClass('gravatar-loaded')) {\n                    return;\n                }\n\n                donorEmail = giveDonorImage.attr('data-donor_email');\n                hasValidGravatar = '1' === giveDonorImage.attr('data-has-valid-gravatar');\n\n                if (hasValidGravatar) {\n                    // executes when complete page is fully loaded, including all frames, objects and images\n                    const donorImage = $('<img>');\n                    donorImage.attr('src', gravatar.url(donorEmail));\n                    donorImage.attr('width', '60');\n                    donorImage.attr('height', '60');\n\n                    $(this).find('.give-donor__image').html(donorImage);\n                }\n\n                giveDonorImage.addClass('gravatar-loaded');\n            });\n        },\n\n        unlockDonorFields: function (e) {\n            $('body').on('click', '.give-lock-block', function (e) {\n                new GiveErrorAlert({\n                    modalContent: {\n                        title: Give.fn.getGlobalVar('unlock_donor_fields_title'),\n                        desc: Give.fn.getGlobalVar('unlock_donor_fields_message'),\n                        cancelBtnTitle: Give.fn.getGlobalVar('ok'),\n                    },\n                }).render();\n                e.preventDefault();\n            });\n        },\n\n        editDonor: function () {\n            $('body').on('click', '#edit-donor', function (e) {\n                e.preventDefault();\n                $('#give-donor-card-wrapper .editable').hide();\n                $('#give-donor-card-wrapper .edit-item').fadeIn().css('display', 'block');\n            });\n        },\n\n        removeUser: function () {\n            $('body').on('click', '#disconnect-donor', function (e) {\n                e.preventDefault();\n\n                new GiveConfirmModal({\n                    modalWrapper: 'give-modal--warning',\n                    modalContent: {\n                        desc: Give.fn.getGlobalVar('disconnect_user'),\n                    },\n                    successConfirm: function () {\n                        const donorID = $('input[name=\"donor_info[id]\"]').val();\n\n                        const postData = {\n                            give_action: 'disconnect-userid',\n                            customer_id: donorID,\n                            _wpnonce: $('#edit-donor-info #_wpnonce').val(),\n                        };\n\n                        $.post(\n                            ajaxurl,\n                            postData,\n                            function (response) {\n                                window.location.href = response.redirect;\n                            },\n                            'json'\n                        );\n                    },\n                }).render();\n\n                return false;\n            });\n        },\n\n        cancelEdit: function () {\n            $('body').on('click', '#give-edit-donor-cancel', function (e) {\n                e.preventDefault();\n                $('#give-donor-card-wrapper .edit-item').hide();\n                $('#give-donor-card-wrapper .editable').show();\n                $('.give_user_search_results').html('');\n            });\n        },\n\n        add_note: function () {\n            $('body').on('click', '#add-donor-note', function (e) {\n                e.preventDefault();\n                const postData = {\n                    give_action: 'add-donor-note',\n                    customer_id: $('#donor-id').val(),\n                    donor_note: $('#donor-note').val(),\n                    add_donor_note_nonce: $('#add_donor_note_nonce').val(),\n                };\n\n                if (postData.donor_note) {\n                    $.ajax({\n                        type: 'POST',\n                        data: postData,\n                        url: ajaxurl,\n                        success: function (response) {\n                            $('#give-donor-notes').prepend(response);\n                            $('.give-no-donor-notes').hide();\n                            $('#donor-note').val('');\n                        },\n                    }).fail(function (data) {\n                        if (window.console && window.console.log) {\n                            console.log(data);\n                        }\n                    });\n                } else {\n                    const border_color = $('#donor-note').css('border-color');\n                    $('#donor-note').css('border-color', 'red');\n                    setTimeout(function () {\n                        $('#donor-note').css('border-color', border_color);\n                    }, 500);\n                }\n            });\n        },\n        delete_checked: function () {\n            $('#give-donor-delete-confirm').change(function () {\n                const records_input = $('#give-donor-delete-records');\n                const submit_button = $('#give-delete-donor');\n\n                if ($(this).prop('checked')) {\n                    records_input.attr('disabled', false);\n                    submit_button.attr('disabled', false);\n                } else {\n                    records_input.attr('disabled', true);\n                    records_input.prop('checked', false);\n                    submit_button.attr('disabled', true);\n                }\n            });\n        },\n        add_email: function () {\n            if (!$('#add-donor-email').length) {\n                return;\n            }\n\n            $(document.body).on('click', '#add-donor-email', function (e) {\n                e.preventDefault();\n                const button = $(this);\n                const wrapper = button.parent();\n\n                wrapper.parent().find('.notice-wrap').remove();\n                wrapper.find('.spinner').css('visibility', 'visible');\n                button.attr('disabled', true);\n\n                const customer_id = wrapper.find('input[name=\"donor-id\"]').val();\n                const email = wrapper.find('input[name=\"additional-email\"]').val();\n                const primary = wrapper.find('input[name=\"make-additional-primary\"]').is(':checked');\n                const nonce = wrapper.find('input[name=\"add_email_nonce\"]').val();\n\n                const postData = {\n                    give_action: 'add_donor_email',\n                    customer_id: customer_id,\n                    email: email,\n                    primary: primary,\n                    _wpnonce: nonce,\n                };\n\n                $.post(\n                    ajaxurl,\n                    postData,\n                    function (response) {\n                        if (true === response.success) {\n                            window.location.href = response.redirect;\n                        } else {\n                            button.attr('disabled', false);\n                            wrapper.after(\n                                '<div class=\"notice-wrap\"><div class=\"notice notice-error inline\"><p>' +\n                                    response.message +\n                                    '</p></div></div>'\n                            );\n                            wrapper.find('.spinner').css('visibility', 'hidden');\n                        }\n                    },\n                    'json'\n                );\n            });\n        },\n\n        addressesAction: function () {\n            const $obj = this,\n                $addressWrapper = $('#donor-address-wrapper'),\n                $allAddress = $('.all-address', $addressWrapper),\n                $noAddressMessageWrapper = $('.give-no-address-message', $addressWrapper),\n                $allAddressParent = $($allAddress).parent(),\n                $addressForm = $('.address-form', $addressWrapper),\n                $addressFormCancelBtn = $('.js-cancel', $addressForm),\n                $addressFormCountryField = $('select[name=\"country\"]', $addressForm),\n                $addNewAddressBtn = $('.add-new-address', $addressWrapper),\n                donorID = parseInt($('input[name=\"donor-id\"]').val());\n\n            $addressFormCountryField.on('change', function () {\n                $(this).trigger('chosen:updated');\n            });\n\n            // Edit current address button event.\n            $allAddress.on('click', '.js-edit', function (e) {\n                const $parent = $(this).closest('.address');\n\n                e.preventDefault();\n\n                // Remove notice.\n                $('.notice', $allAddressParent).remove();\n\n                $obj.__set_address_form_val($parent);\n                $obj.__set_address_form_action('update', $parent.data('address-id'));\n\n                $addNewAddressBtn.hide();\n                $allAddress.addClass('give-hidden');\n                $addressForm.removeClass('add-new-address-form-hidden');\n                $addressForm.data('process', 'update');\n            });\n\n            // Remove address button event.\n            $allAddress.on('click', '.js-remove', function (e) {\n                e.preventDefault();\n\n                const $parent = $(this).closest('.address');\n\n                // Remove notice.\n                $('.notice', $allAddressParent).remove();\n\n                $addressForm.data('changed', true);\n                $obj.__set_address_form_val($parent);\n                $obj.__set_address_form_action('remove', $parent.data('address-id'));\n\n                $addressForm.trigger('submit');\n            });\n\n            // Add new address button event.\n            $addNewAddressBtn.on('click', function (e) {\n                e.preventDefault();\n\n                // Remove notice.\n                $('.notice', $allAddressParent).remove();\n\n                $(this).hide();\n                $allAddress.addClass('give-hidden');\n                $addressForm.removeClass('add-new-address-form-hidden');\n                $obj.__set_address_form_action('add');\n\n                $obj.__set_address_form_action();\n            });\n\n            // Cancel add new address form button event.\n            $addressFormCancelBtn.on('click', function (e) {\n                e.preventDefault();\n\n                // Reset form.\n                $addressForm.find('input[type=\"text\"]').val('');\n\n                $addNewAddressBtn.show();\n                $allAddress.removeClass('give-hidden');\n                $addressForm.addClass('add-new-address-form-hidden');\n            });\n\n            // Save address.\n            $addressForm\n                .on('change', function () {\n                    $(this).data('changed', true);\n                })\n                .on('submit', function (e) {\n                    e.preventDefault();\n\n                    const $this = $(this);\n\n                    // Remove notice.\n                    $('.notice', $allAddressParent).remove();\n\n                    // Do not send ajax if form does not change.\n                    if (!$(this).data('changed')) {\n                        $addNewAddressBtn.show();\n                        $allAddress.removeClass('give-hidden');\n                        $addressForm.addClass('add-new-address-form-hidden');\n\n                        return false;\n                    }\n\n                    $.ajax({\n                        type: 'POST',\n                        url: ajaxurl,\n                        data: {\n                            action: 'donor_manage_addresses',\n                            donorID: donorID,\n                            form: $('form', $addressForm).serialize(),\n                        },\n                        beforeSend: function () {\n                            giveAjaxLoader($addressWrapper, {show: true});\n                        },\n                        success: function (response) {\n                            giveAjaxLoader($addressWrapper);\n\n                            if (response.success) {\n                                let parent;\n\n                                switch (response.data.action) {\n                                    case 'add':\n                                        $('.give-grid-row', $allAddress).append(response.data.address_html);\n\n                                        if (\n                                            !$noAddressMessageWrapper.hasClass('give-hidden') &&\n                                            $('div.give-grid-col-4', $allAddress).length\n                                        ) {\n                                            $noAddressMessageWrapper.addClass('give-hidden');\n                                        }\n                                        break;\n\n                                    case 'remove':\n                                        parent = $allAddress\n                                            .find('div[data-address-id*=\"' + response.data.id + '\"]')\n                                            .parent();\n\n                                        if (parent.length) {\n                                            parent.animate({'margin-left': '-999'}, 1000, function () {\n                                                parent.remove();\n\n                                                if (\n                                                    $noAddressMessageWrapper.hasClass('give-hidden') &&\n                                                    !$('div.give-grid-col-4', $allAddress).length\n                                                ) {\n                                                    $noAddressMessageWrapper.removeClass('give-hidden');\n                                                }\n                                            });\n                                        }\n\n                                        break;\n\n                                    case 'update':\n                                        parent = $allAddress\n                                            .find('div[data-address-id*=\"' + response.data.id + '\"]')\n                                            .parent();\n                                        var $prevParent = parent.prev(),\n                                            $nextParent = {},\n                                            is_address_added = false;\n\n                                        if (parseInt($('.give-grid-row>div', $allAddress).length) < 2) {\n                                            $('.give-grid-row', $allAddress).append(response.data.address_html);\n                                        } else {\n                                            if ($prevParent.length) {\n                                                $prevParent.after(response.data.address_html);\n                                                is_address_added = true;\n                                            }\n\n                                            if (!is_address_added) {\n                                                $nextParent = parent.next();\n\n                                                if ($nextParent.length) {\n                                                    $nextParent.before(response.data.address_html);\n                                                }\n                                            }\n                                        }\n\n                                        parent.remove();\n\n                                        break;\n                                }\n\n                                $allAddressParent.prepend(response.data.success_msg);\n                            } else {\n                                $allAddressParent.prepend(response.data.error_msg);\n                            }\n                        },\n                        dataType: 'json',\n                    }).always(function () {\n                        $this.data('changed', false);\n\n                        // Reset form.\n                        $addressForm.find('input[type=\"text\"]').val('');\n\n                        $addNewAddressBtn.show();\n                        $allAddress.removeClass('give-hidden');\n                        $addressForm.addClass('add-new-address-form-hidden');\n                    });\n\n                    return false;\n                });\n        },\n\n        __set_address_form_action: function (addressAction, addressID) {\n            const $addressWrapper = $('#donor-address-wrapper'),\n                $addressForm = $('.address-form', $addressWrapper),\n                $addressActionField = $('input[name=\"address-action\"]', $addressForm),\n                $addressIDField = $('input[name=\"address-id\"]', $addressForm);\n\n            addressAction = addressAction || 'add';\n            addressID = addressID || 'billing';\n\n            $addressActionField.val(addressAction);\n            $addressIDField.val(addressID);\n        },\n\n        __set_address_form_val: function ($form) {\n            const $addressWrapper = $('#donor-address-wrapper'),\n                $addressForm = $('.address-form', $addressWrapper),\n                state = $('[data-address-type=\"state\"]', $form).text().substr(2).trim(); // State will be like \", HR\".\n\n            if (\n                $('select[name=\"country\"]', $addressForm).val().trim() !==\n                $('[data-address-type=\"country\"]', $form).text().trim()\n            ) {\n                $('select[name=\"country\"]', $addressForm)\n                    .val($('[data-address-type=\"country\"]', $form).text().trim())\n                    .trigger('chosen:updated')\n                    .change();\n\n                // Update state after some time because state load by ajax for each country.\n                window.setTimeout(function () {\n                    $('[name=\"state\"]', $addressForm).val(state).trigger('chosen:updated');\n                }, 500);\n            } else {\n                $('[name=\"state\"]', $addressForm).val(state).trigger('chosen:updated');\n            }\n\n            $('input[name=\"line1\"]', $addressForm).val($('[data-address-type=\"line1\"]', $form).text().trim());\n            $('input[name=\"line2\"]', $addressForm).val($('[data-address-type=\"line2\"]', $form).text().trim());\n            $('input[name=\"city\"]', $addressForm).val($('[data-address-type=\"city\"]', $form).text().trim());\n            $('input[name=\"zip\"]', $addressForm).val($('[data-address-type=\"zip\"]', $form).text().trim());\n        },\n\n        bulkDeleteDonor: function () {\n            const $body = $('body');\n\n            // Cancel button click event for donor.\n            $body.on('click', '#give-bulk-delete-cancel', function (e) {\n                $(this).closest('tr').hide();\n                $('.give-skip-donor').trigger('click');\n                e.preventDefault();\n            });\n\n            // Select All checkbox.\n            $body.on('click', '#cb-select-all-1, #cb-select-all-2', function () {\n                const selectAll = $(this);\n\n                // Loop through donor selector checkbox.\n                $.each($('.donor-selector'), function () {\n                    const donorId = $(this).val(),\n                        donorName = $(this).data('name'),\n                        donorHtml =\n                            '<div id=\"give-donor-' +\n                            donorId +\n                            '\" data-id=\"' +\n                            donorId +\n                            '\">' +\n                            '<a class=\"give-skip-donor\" title=\"' +\n                            Give.fn.getGlobalVar('remove_from_bulk_delete') +\n                            '\">X</a>' +\n                            donorName +\n                            '</div>';\n\n                    if (selectAll.is(':checked') && !$(this).is(':checked')) {\n                        $('#give-bulk-donors').append(donorHtml);\n                    } else if (!selectAll.is(':checked')) {\n                        $('#give-bulk-donors')\n                            .find('#give-donor-' + donorId)\n                            .remove();\n                    }\n                });\n            });\n\n            // On checking checkbox, add to bulk delete donor.\n            $body.on('click', '.donor-selector', function () {\n                const donorId = $(this).val(),\n                    donorName = $(this).data('name'),\n                    donorHtml =\n                        '<div id=\"give-donor-' +\n                        donorId +\n                        '\" data-id=\"' +\n                        donorId +\n                        '\">' +\n                        '<a class=\"give-skip-donor\" title=\"' +\n                        Give.fn.getGlobalVar('remove_from_bulk_delete') +\n                        '\">X</a>' +\n                        donorName +\n                        '</div>';\n\n                if ($(this).is(':checked')) {\n                    $('#give-bulk-donors').prepend(donorHtml);\n                } else {\n                    $('#give-bulk-donors')\n                        .find('#give-donor-' + donorId)\n                        .remove();\n                }\n            });\n\n            // CheckBox click event to confirm deletion of donor.\n            $body.on('click', '#give-bulk-delete .give-donor-delete-confirm', function () {\n                if ($(this).is(':checked')) {\n                    $('#give-bulk-delete-button').removeAttr('disabled');\n                } else {\n                    $('#give-bulk-delete-button').attr('disabled', true);\n                    $('#give-bulk-delete .give-donor-delete-records').removeAttr('checked');\n                }\n            });\n\n            // CheckBox click event to delete records with donor.\n            $body.on('click', '#give-bulk-delete .give-donor-delete-records', function () {\n                if ($(this).is(':checked')) {\n                    $('#give-bulk-delete .give-donor-delete-confirm').attr('checked', 'checked');\n                    $('#give-bulk-delete-button').removeAttr('disabled');\n                }\n            });\n\n            // Skip Donor from Bulk Delete List.\n            $body.on('click', '.give-skip-donor', function () {\n                const donorId = $(this).closest('div').data('id');\n                $('#give-donor-' + donorId).remove();\n                $('#donor-' + donorId)\n                    .find('input[type=\"checkbox\"]')\n                    .removeAttr('checked');\n            });\n\n            /**\n             * Clicking Event to Delete Single Donor.\n             *\n             * @since 2.19.0 Added donor_id as a hidden input when deleting a single donor from the table.\n             */\n            $body.on('click', '.give-single-donor-delete', function (e) {\n                const donorId = $(this).data('id'),\n                    donorSelector = $('tr#donor-' + donorId).find('.donor-selector'),\n                    selectAll = $('[id^=\"cb-select-all-\"]'),\n                    bulkDeleteList = $('#give-bulk-donors'),\n                    donorName = donorSelector.data('name'),\n                    donorHtml =\n                        '<div id=\"give-donor-' +\n                        donorId +\n                        '\" data-id=\"' +\n                        donorId +\n                        '\">' +\n                        '<a class=\"give-skip-donor\" title=\"' +\n                        Give.fn.getGlobalVar('remove_from_bulk_delete') +\n                        '\">X</a>' +\n                        donorName;\n\n                // Reset Donors List.\n                bulkDeleteList.html('');\n\n                // Check whether the select all donor checkbox is already set, then unset it.\n                if (selectAll.is(':checked')) {\n                    selectAll.removeAttr('checked');\n                }\n\n                // Select the donor checkbox for which delete is clicked and others should be de-selected.\n                $('.donor-selector').removeAttr('checked');\n                donorSelector.prop('checked', true);\n\n                // Add Donor to the Bulk Delete List, if donor doesn't exists in the list.\n                if ($('#give-donor-' + donorId).length === 0) {\n                    bulkDeleteList.prepend(donorHtml);\n                    $('#give-bulk-delete').slideDown();\n                }\n\n                e.preventDefault();\n            });\n        },\n\n        handleBulkActions: function (e) {\n            const currentAction = $(this).closest('.tablenav').find('select').val(),\n                donors = [],\n                paged = $('#current-page-selector').val(),\n                changedPage = GiveDonor.onLoadPageNumber !== paged,\n                selectBulkActionNotice = Give.fn.getGlobalVar('donors_bulk_action.no_action_selected'),\n                confirmActionNotice = Give.fn.getGlobalVar('donors_bulk_action.no_donor_selected');\n\n            // Bailout.\n            if (changedPage) {\n                return true;\n            }\n\n            $.each($('.donor-selector:checked'), function () {\n                donors.push($(this).val());\n            });\n\n            // If there is no bulk action selected then show an alert message.\n            if ('-1' === currentAction) {\n                new GiveWarningAlert({\n                    modalContent: {\n                        title: selectBulkActionNotice.title,\n                        desc: selectBulkActionNotice.desc,\n                        cancelBtnTitle: Give.fn.getGlobalVar('ok'),\n                    },\n                }).render();\n                return false;\n            }\n\n            // If there is no donor selected then show an alert.\n            if (!parseInt(donors)) {\n                new GiveWarningAlert({\n                    modalContent: {\n                        title: confirmActionNotice.title,\n                        desc: confirmActionNotice.desc,\n                        cancelBtnTitle: Give.fn.getGlobalVar('ok'),\n                    },\n                }).render();\n\n                return false;\n            }\n\n            if ('delete' === currentAction) {\n                $('#give-bulk-delete').slideDown();\n            }\n\n            e.preventDefault();\n        },\n    };\n\n    /**\n     * API screen JS\n     */\n    const API_Screen = {\n        init: function () {\n            this.revoke_api_key();\n            this.regenerate_api_key();\n        },\n\n        revoke_api_key: function () {\n            $('body').on('click', '.give-revoke-api-key', function (e) {\n                e.preventDefault();\n\n                const url = $(this).attr('href');\n\n                new GiveConfirmModal({\n                    modalWrapper: 'give-modal--warning',\n                    modalContent: {\n                        desc: Give.fn.getGlobalVar('revoke_api_key'),\n                    },\n                    successConfirm: function () {\n                        window.location.assign(url);\n                    },\n                }).render();\n\n                return false;\n            });\n        },\n        regenerate_api_key: function () {\n            $('body').on('click', '.give-regenerate-api-key', function (e) {\n                const url = $(this).attr('href');\n\n                new GiveConfirmModal({\n                    modalWrapper: 'give-modal--warning',\n                    modalContent: {\n                        desc: Give.fn.getGlobalVar('regenerate_api_key'),\n                    },\n                    successConfirm: function () {\n                        window.location.assign(url);\n                    },\n                }).render();\n\n                return false;\n            });\n        },\n    };\n\n    /**\n     * Edit Donation form screen Js\n     */\n    const Edit_Form_Screen = {\n        init: function () {\n            const default_tab_id = $.query.get('give_tab').length ? $.query.get('give_tab') : 'form_template_options';\n\n            this.handle_metabox_tab_click();\n            this.setup_colorpicker_fields();\n            this.setup_media_fields();\n            this.setup_repeatable_fields();\n            this.handle_repeater_group_events();\n\n            // Multi level repeater field js.\n            this.handle_multi_levels_repeater_group_events();\n\n            // Set active tab on page load.\n            this.activate_tab($('a[href=\"#' + default_tab_id + '\"]'));\n        },\n\n        /**\n         * Attach click event handler to tabs.\n         */\n        handle_metabox_tab_click: function () {\n            const self = this;\n            const $tab_links = $('.give-metabox-tabs a');\n\n            $tab_links.on('click', function (e) {\n                e.preventDefault();\n                const $this = $(this);\n                self.activate_tab($this);\n                self.update_query($this);\n            });\n        },\n\n        /**\n         * Set the active tab.\n         */\n        activate_tab: function ($tab_link) {\n            const tab_id = $tab_link.data('tab-id'),\n                $li_parent = $tab_link.parent(),\n                $sub_field = $('ul.give-metabox-sub-tabs', $li_parent),\n                has_sub_field = $sub_field.length,\n                $tab_links = $('.give-metabox-tabs a'),\n                $all_tab_links_li = $tab_links.parents('li'),\n                $all_sub_fields = $('ul.give-metabox-sub-tabs'),\n                in_sub_fields = $tab_link.parents('ul.give-metabox-sub-tabs').length;\n\n            // Update active tab hidden field to maintain tab after save.\n            $('#give_form_active_tab').val(tab_id);\n\n            if (has_sub_field) {\n                $li_parent.toggleClass('active');\n                $sub_field.removeClass('give-hidden');\n\n                const $active_subtab_li = $('li.active', 'ul.give-metabox-sub-tabs');\n\n                // Show hide sub fields if any and exit.\n                $all_sub_fields.not($sub_field).addClass('give-hidden');\n                $all_tab_links_li.not($li_parent).removeClass('active');\n\n                $active_subtab_li.addClass('active');\n            } else if (!in_sub_fields) {\n                // Hide all tab and sub tabs.\n                $all_tab_links_li.each(function (index, item) {\n                    item = $(item);\n                    item.removeClass('active');\n\n                    if (item.hasClass('has-sub-fields')) {\n                        $('ul.give-metabox-sub-tabs', item).addClass('give-hidden');\n                    }\n                });\n            } else if (in_sub_fields) {\n                // Hide all sub tabs.\n                $('ul.give-metabox-sub-tabs').addClass('give-hidden');\n                $all_tab_links_li.removeClass('active');\n\n                // Hide all tab inside sub tabs.\n                $tab_link\n                    .parents('ul.give-metabox-sub-tabs')\n                    .removeClass('give-hidden')\n                    .children('li')\n                    .removeClass('active');\n\n                // Add active class to parent li.\n                $tab_link.parents('li.has-sub-fields').addClass('active');\n            }\n\n            // Add active class to current tab link.\n            $tab_link.parent().addClass('active');\n\n            // Hide all tab contents.\n            $('.give_options_panel').removeClass('active');\n\n            // Show tab content.\n            $($tab_link.attr('href')).addClass('active');\n        },\n\n        /**\n         * Update query string with active tab ID.\n         */\n        update_query: function ($tab_link) {\n            const tab_id = $tab_link.data('tab-id');\n            const new_query = $.query.set('give_tab', tab_id).remove('message').toString();\n\n            if (history.replaceState) {\n                history.replaceState(null, null, new_query);\n            }\n        },\n\n        /**\n         * Initialize colorpicker.\n         */\n        setup_colorpicker_fields: function () {\n            $(document).ready(function () {\n                const $colorpicker_fields = $('.give-colorpicker');\n\n                if ($colorpicker_fields.length) {\n                    $colorpicker_fields.each(function (index, item) {\n                        const $item = $(item);\n\n                        // Bailout: do not automatically initialize color picker for repeater field group template.\n                        if ($item.parents('.give-template').length) {\n                            return;\n                        }\n\n                        $item.wpColorPicker();\n                    });\n                }\n            });\n        },\n\n        setup_media_fields: function () {\n            let give_media_uploader,\n                $give_upload_button,\n                $body = $('body');\n\n            /**\n             * Set media modal.\n             */\n            $body.on('click', '.give-upload-button', function (e) {\n                e.preventDefault();\n                let $media_modal_config = {};\n\n                // Cache input field.\n                $give_upload_button = $(this);\n\n                // Set modal config.\n                switch ($(this).data('field-type')) {\n                    case 'media':\n                        $media_modal_config = {\n                            title: Give.fn.getGlobal().metabox_fields.media.button_title,\n                            button: {text: Give.fn.getGlobal().metabox_fields.media.button_title},\n                            multiple: false, // Set to true to allow multiple files to be selected.\n                            library: {type: 'image'},\n                        };\n                        break;\n\n                    default:\n                        $media_modal_config = {\n                            title: Give.fn.getGlobal().metabox_fields.file.button_title,\n                            button: {text: Give.fn.getGlobal().metabox_fields.file.button_title},\n                            multiple: false,\n                        };\n                }\n\n                const editing = jQuery(this).closest('.give-field-wrap').find('.give-input-field').attr('editing');\n                if ('undefined' !== typeof editing) {\n                    wp.media.controller.Library.prototype.defaults.contentUserSetting = false;\n                }\n\n                const $library = jQuery(this).closest('.give-field-wrap').find('.give-input-field').attr('library');\n                if ('undefined' !== typeof $library && '' !== $library) {\n                    $media_modal_config.library = {type: $library};\n                }\n\n                // Extend the wp.media object.\n                give_media_uploader = wp.media($media_modal_config);\n\n                // When a file is selected, grab the URL and set it as the text field's value.\n                give_media_uploader.on('select', function () {\n                    const attachment = give_media_uploader.state().get('selection').first().toJSON(),\n                        $input_field = $give_upload_button.prev(),\n                        fvalue = 'id' === $give_upload_button.data('fvalue') ? attachment.id : attachment.url;\n\n                    $body.trigger('give_media_inserted', [attachment, $input_field]);\n\n                    // Set input field value.\n                    $input_field.val(fvalue);\n\n                    // Update attachment id field value if fvalue is not set to id.\n                    if ('id' !== $give_upload_button.data('fvalue')) {\n                        const attachment_id_field_name = 'input[name=\"' + $input_field.attr('name') + '_id\"]',\n                            id_field = $input_field.closest('tr').next('tr').find(attachment_id_field_name);\n\n                        if (id_field.length) {\n                            $input_field.closest('tr').next('tr').find(attachment_id_field_name).val(attachment.id);\n                        }\n                    }\n                });\n\n                // Open the uploader dialog.\n                give_media_uploader.open();\n            });\n\n            /**\n             * Show image preview.\n             */\n            $body.on('give_media_inserted', function (e, attachment) {\n                const $parent = $give_upload_button.parents('.give-field-wrap'),\n                    $image_container = $('.give-image-thumb', $parent);\n\n                // Bailout.\n                if (!$image_container.length) {\n                    return false;\n                }\n\n                // Bailout and hide preview.\n                if ('image' !== attachment.type) {\n                    $image_container.addClass('give-hidden');\n                    $('img', $image_container).attr('src', '');\n                    return false;\n                }\n\n                // Set the attachment URL to our custom image input field.\n                $image_container.find('img').attr('src', attachment.url);\n\n                // Hide the add image link.\n                $image_container.removeClass('give-hidden');\n            });\n\n            /**\n             * Delete Image Link.\n             */\n            $('span.give-delete-image-thumb', '.give-image-thumb').on('click', function (event) {\n                event.preventDefault();\n\n                const $parent = $(this).parents('.give-field-wrap'),\n                    $image_container = $(this).parent(),\n                    $image_input_field = $('input[type=\"text\"]', $parent);\n\n                // Clear out the preview image.\n                $image_container.addClass('give-hidden');\n\n                // Remove image link from input field.\n                $image_input_field.val('');\n\n                // Hide the add image link.\n                $('img', $image_container).attr('src', '');\n            });\n        },\n\n        /**\n         * Setup repeater field.\n         */\n        setup_repeatable_fields: function () {\n            jQuery(function () {\n                jQuery('.give-repeatable-field-section').each(function () {\n                    const $this = $(this);\n\n                    // Note: Do not change option params, it can break repeatable fields functionality.\n                    const options = {\n                        wrapper: '.give-repeatable-fields-section-wrapper',\n                        container: '.container',\n                        row: '.give-row',\n                        add: '.give-add-repeater-field-section-row',\n                        remove: '.give-remove',\n                        move: '.give-move',\n                        template: '.give-template',\n                        confirm_before_remove_row: true,\n                        confirm_before_remove_row_text: Give.fn.getGlobalVar('confirm_before_remove_row_text'),\n                        is_sortable: true,\n                        before_add: null,\n                        after_add: handle_metabox_repeater_field_row_count,\n                        //after_add:  after_add, Note: after_add is internal function in repeatable-fields.js. Uncomment this can cause of js error.\n                        before_remove: null,\n                        after_remove: handle_metabox_repeater_field_row_remove,\n                        sortable_options: {\n                            placeholder: 'give-ui-placeholder-state-highlight',\n                            start: function (event, ui) {\n                                // Do not allow any row at position 0.\n                                if (ui.item.next().hasClass('give-template')) {\n                                    ui.item.next().after(ui.item);\n                                }\n\n                                const $rows = $('.give-row', $this).not('.give-template');\n\n                                if ($rows.length) {\n                                    $rows.each(function (index, item) {\n                                        // Set name for fields.\n                                        const $fields = $('input[type=\"radio\"].give-field', $(item));\n\n                                        // Preserve radio button values.\n                                        if ($fields.length) {\n                                            $fields.each(function () {\n                                                $(this).attr('data-give-checked', $(this).is(':checked'));\n                                            });\n                                        }\n                                    });\n                                }\n\n                                $('body').trigger('repeater_field_sorting_start', [ui.item]);\n                            },\n                            stop: function (event, ui) {\n                                // Do not allow any row at position 0.\n                                if (ui.item.next().hasClass('give-template')) {\n                                    ui.item.next().after(ui.item);\n                                }\n\n                                $('body').trigger('repeater_field_sorting_stop', [ui.item]);\n                            },\n                            update: function (event, ui) {\n                                // Do not allow any row at position 0.\n                                if (ui.item.next().hasClass('give-template')) {\n                                    ui.item.next().after(ui.item);\n                                }\n\n                                const $rows = $('.give-row', $this).not('.give-template'),\n                                    $container = $(this).closest('.give-repeatable-fields-section-wrapper');\n\n                                if ($rows.length) {\n                                    let row_count = 1;\n                                    $rows.each(function (index, item) {\n                                        // Set name for fields.\n                                        const $fields = $('.give-field, label', $(item));\n\n                                        if ($fields.length) {\n                                            $fields.each(function () {\n                                                const $parent = $(this).parents('.give-field-wrap'),\n                                                    $currentElement = $(this);\n\n                                                $.each(this.attributes, function (index, element) {\n                                                    let old_class_name_prefix = this.value\n                                                            .replace(/\\[/g, '_')\n                                                            .replace(/]/g, ''),\n                                                        old_class_name = old_class_name_prefix + '_field',\n                                                        new_class_name = '',\n                                                        new_class_name_prefix = '';\n\n                                                    // Bailout.\n                                                    if (!this.value) {\n                                                        return;\n                                                    }\n\n                                                    // Reorder index.\n                                                    this.value = this.value.replace(\n                                                        /\\[\\d+\\]/g,\n                                                        '[' + (row_count - 1) + ']'\n                                                    );\n                                                    new_class_name_prefix = this.value\n                                                        .replace(/\\[/g, '_')\n                                                        .replace(/]/g, '');\n\n                                                    // Update class name.\n                                                    if ($parent.hasClass(old_class_name)) {\n                                                        new_class_name = new_class_name_prefix + '_field';\n                                                        $parent.removeClass(old_class_name).addClass(new_class_name);\n                                                    }\n\n                                                    // Update field id.\n                                                    if (old_class_name_prefix == $currentElement.attr('id')) {\n                                                        $currentElement.attr('id', new_class_name_prefix);\n                                                    }\n                                                });\n                                            });\n                                        }\n\n                                        row_count++;\n                                    });\n\n                                    window.setTimeout(function () {\n                                        // Reset radio button values.\n                                        $('input[data-give-checked]', $container).each(function (index, radio) {\n                                            radio = $(radio);\n                                            radio.prop('checked', 'true' === radio.attr('data-give-checked'));\n                                        });\n                                    }, 100);\n\n                                    // Fire event.\n                                    $this.trigger('repeater_field_row_reordered', [ui.item]);\n                                }\n                            },\n                        },\n                        //row_count_placeholder: '{{row-count-placeholder}}' Note: do not modify this param otherwise it will break repeatable field functionality.\n                    };\n\n                    jQuery(this).repeatable_fields(options);\n                });\n            });\n        },\n\n        /**\n         * Handle repeater field events.\n         */\n        handle_repeater_group_events: function () {\n            const $repeater_fields = $('.give-repeatable-field-section'),\n                $body = $('body');\n\n            // Auto toggle repeater group\n            $body.on('click', '.give-row-head .give-handlediv', function () {\n                const $parent = $(this).closest('.give-row');\n                $parent.toggleClass('closed');\n                $('.give-row-body', $parent).toggle();\n            });\n\n            // Reset header title when new row added.\n            $repeater_fields.on(\n                'repeater_field_new_row_added repeater_field_row_deleted repeater_field_row_reordered',\n                function () {\n                    handle_repeater_group_add_number_suffix($(this));\n                }\n            );\n\n            // Disable editor when sorting start.\n            $body.on('repeater_field_sorting_start', function (e, row) {\n                const $textarea = $('.wp-editor-area', row);\n\n                if ($textarea.length) {\n                    $textarea.each(function (index, item) {\n                        window.setTimeout(function () {\n                            tinyMCE.execCommand('mceRemoveEditor', true, $(item).attr('id'));\n                        }, 300);\n                    });\n                }\n            });\n\n            // Enable editor when sorting stop.\n            $body.on('repeater_field_sorting_stop', function (e, row) {\n                const $textarea = $('.wp-editor-area', row);\n\n                if ($textarea.length) {\n                    $textarea.each(function (index, item) {\n                        window.setTimeout(function () {\n                            const textarea_id = $(item).attr('id');\n                            tinyMCE.execCommand('mceAddEditor', true, textarea_id);\n\n                            // Switch editor to tmce mode to fix some glitch which appear when you reorder rows.\n                            window.setTimeout(function () {\n                                // Hack to show tmce mode.\n                                switchEditors.go(textarea_id, 'html');\n                                $('#' + textarea_id + '-tmce').trigger('click');\n                            }, 100);\n                        }, 300);\n                    });\n                }\n            });\n\n            // Process jobs on document load for repeater fields.\n            $repeater_fields.each(function (index, item) {\n                // Reset title on document load for already exist groups.\n                const $item = $(item);\n                handle_repeater_group_add_number_suffix($item);\n\n                // Close all tabs when page load.\n                if (parseInt($item.data('close-tabs'))) {\n                    $('.give-row-head button', $item).trigger('click');\n                    $('.give-template', $item).removeClass('closed');\n                    $('.give-template .give-row-body', $item).show();\n                }\n            });\n\n            // Setup colorpicker field when row added.\n            $repeater_fields.on('repeater_field_new_row_added', function (e, container, new_row) {\n                $('.give-colorpicker', $(this)).each(function (index, item) {\n                    const $item = $(item);\n\n                    // Bailout: skip already init colorpocker fields.\n                    if ($item.parents('.wp-picker-container').length || $item.parents('.give-template').length) {\n                        return;\n                    }\n\n                    $item.wpColorPicker();\n                });\n\n                // Load WordPress editor by ajax.\n                const wysiwyg_editor_container = $('div[data-wp-editor]', new_row);\n\n                if (wysiwyg_editor_container.length) {\n                    wysiwyg_editor_container.each(function (index, item) {\n                        const $item = $(item),\n                            wysiwyg_editor = $('.wp-editor-wrap', $item),\n                            textarea = $('textarea', $item),\n                            textarea_id = 'give_wysiwyg_unique_' + Math.random().toString().replace('.', '_'),\n                            wysiwyg_editor_label = wysiwyg_editor.prev();\n\n                        textarea.attr('id', textarea_id);\n\n                        $.post(\n                            ajaxurl,\n                            {\n                                action: 'give_load_wp_editor',\n                                wp_editor: $item.data('wp-editor'),\n                                wp_editor_id: textarea_id,\n                                textarea_name: $('textarea', $item).attr('name'),\n                            },\n                            function (res) {\n                                wysiwyg_editor.remove();\n                                wysiwyg_editor_label.after(res);\n\n                                // Setup qt data for editor.\n                                tinyMCEPreInit.qtInit[textarea.attr('id')] = $.extend(\n                                    true,\n                                    tinyMCEPreInit.qtInit._give_agree_text,\n                                    {id: textarea_id}\n                                );\n\n                                // Setup mce data for editor.\n                                tinyMCEPreInit.mceInit[textarea_id] = $.extend(\n                                    true,\n                                    tinyMCEPreInit.mceInit._give_agree_text,\n                                    {\n                                        body_class:\n                                            textarea_id +\n                                            ' post-type-give_forms post-status-publish locale-' +\n                                            tinyMCEPreInit.mceInit._give_agree_text['wp_lang_attr'].toLowerCase(),\n                                        selector: '#' + textarea_id,\n                                    }\n                                );\n\n                                // Setup editor.\n                                tinymce.init(tinyMCEPreInit.mceInit[textarea_id]);\n                                quicktags(tinyMCEPreInit.qtInit[textarea_id]);\n                                QTags._buttonsInit();\n\n                                window.setTimeout(function () {\n                                    // Hack to show tmce mode.\n                                    switchEditors.go(textarea_id, 'html');\n                                    $('#' + textarea_id + '-tmce').trigger('click');\n                                }, 100);\n\n                                if (!window.wpActiveEditor) {\n                                    window.wpActiveEditor = textarea_id;\n                                }\n                            }\n                        );\n                    });\n                }\n            });\n        },\n\n        /**\n         *  Handle events for multi level repeater group.\n         */\n        handle_multi_levels_repeater_group_events: function () {\n            const $repeater_fields = $('#_give_donation_levels_field');\n\n            // Add level title as suffix to header title when admin add level title.\n            $('body').on('keyup', '.give-multilevel-text-field', function () {\n                const $parent = $(this).closest('tr'),\n                    $header_title_container = $('.give-row-head h2 span', $parent),\n                    donation_level_header_text_prefix = $header_title_container.data('header-title');\n\n                // Donation level header already set.\n                if ($(this).val() && $(this).val() === $header_title_container.html()) {\n                    return false;\n                }\n\n                if ($(this).val()) {\n                    // Change donaiton level header text.\n                    $header_title_container.html(donation_level_header_text_prefix + ': ' + $(this).val());\n                } else {\n                    // Reset donation level header heading text.\n                    $header_title_container.html(donation_level_header_text_prefix);\n                }\n            });\n\n            //  Add level title as suffix to header title on document load.\n            $('.give-multilevel-text-field').each(function (index, item) {\n                // Skip first element.\n                if (!index) {\n                    return;\n                }\n\n                // Check if item is jquery object or not.\n                const $item = $(item);\n\n                const $parent = $item.closest('tr'),\n                    $header_title_container = $('.give-row-head h2 span', $parent),\n                    donation_level_header_text_prefix = $header_title_container.data('header-title');\n\n                // Donation level header already set.\n                if ($item.val() && $item.val() === $header_title_container.html()) {\n                    return false;\n                }\n\n                if ($item.val()) {\n                    // Change donaiton level header text.\n                    $header_title_container.html(donation_level_header_text_prefix + ': ' + $item.val());\n                } else {\n                    // Reset donation level header heading text.\n                    $header_title_container.html(donation_level_header_text_prefix);\n                }\n            });\n\n            // Handle row deleted event for levels repeater field.\n            $repeater_fields.on('repeater_field_row_deleted', function () {\n                const $this = $(this);\n\n                window.setTimeout(function () {\n                    const $parent = $this,\n                        $repeatable_rows = $('.give-row', $parent).not('.give-template'),\n                        $default_radio = $('.give-give_default_radio_inline', $repeatable_rows),\n                        number_of_level = $repeatable_rows.length;\n\n                    if (number_of_level === 1) {\n                        $default_radio.prop('checked', true);\n                    }\n                }, 200);\n            });\n\n            // Handle row added event for levels repeater field.\n            $repeater_fields.on('repeater_field_new_row_added', function (e, container, new_row) {\n                let $this = $(this),\n                    max_level_id = 0;\n\n                // Auto set default level if no level set as default.\n                window.setTimeout(function () {\n                    // Set first row as default if selected default row deleted.\n                    // When a row is removed containing the default selection then revert default to first repeatable row.\n                    if ($('.give-give_default_radio_inline', $this).is(':checked') === false) {\n                        $('.give-row', $this)\n                            .not('.give-template')\n                            .first()\n                            .find('.give-give_default_radio_inline')\n                            .prop('checked', true);\n                    }\n                }, 200);\n\n                // Get max level id.\n                $('input[type=\"hidden\"].give-levels_id', $this).each(function (index, item) {\n                    const $item = $(item),\n                        current_level = parseInt($item.val());\n                    if (max_level_id < current_level) {\n                        max_level_id = current_level;\n                    }\n                });\n\n                // Auto set level id for new setting level setting group.\n                $('input[type=\"hidden\"].give-levels_id', new_row).val(++max_level_id);\n            });\n        },\n    };\n\n    /**\n     * Handle row count and field count for repeatable field.\n     */\n    var handle_metabox_repeater_field_row_count = function (container, new_row) {\n        let row_count = $(container).attr('data-rf-row-count'),\n            $container = $(container),\n            $parent = $container.parents('.give-repeatable-field-section');\n\n        row_count++;\n\n        // Set name for fields.\n        $('*', new_row).each(function () {\n            $.each(this.attributes, function (index, element) {\n                this.value = this.value.replace('{{row-count-placeholder}}', row_count - 1);\n            });\n        });\n\n        // Set row counter.\n        $(container).attr('data-rf-row-count', row_count);\n\n        // Fire event: Row added.\n        $parent.trigger('repeater_field_new_row_added', [container, new_row]);\n    };\n\n    /**\n     * Handle row remove for repeatable field.\n     */\n    var handle_metabox_repeater_field_row_remove = function (container) {\n        let $container = $(container),\n            $parent = $container.parents('.give-repeatable-field-section'),\n            row_count = $(container).prop('data-rf-row-count');\n\n        // Reduce row count.\n        $container.prop('data-rf-row-count', --row_count);\n\n        // Fire event: Row deleted.\n        $parent.trigger('repeater_field_row_deleted');\n    };\n\n    /**\n     * Add number suffix to repeater group.\n     */\n    var handle_repeater_group_add_number_suffix = function ($parent) {\n        // Bailout: check if auto group numbering is on or not.\n        if (!parseInt($parent.data('group-numbering'))) {\n            return;\n        }\n\n        const $header_title_container = $('.give-row-head h2 span', $parent),\n            header_text_prefix = $header_title_container.data('header-title');\n\n        $header_title_container.each(function (index, item) {\n            const $item = $(item);\n\n            // Bailout: do not rename header title in fields template.\n            if ($item.parents('.give-template').length) {\n                return;\n            }\n\n            $item.html(header_text_prefix + ': ' + index);\n        });\n    };\n\n    /**\n     * Payment history listing page js\n     */\n    var GivePaymentHistory = {\n        onLoadPageNumber: '',\n\n        init: function () {\n            GivePaymentHistory.onLoadPageNumber = $('#current-page-selector').val();\n            $('body').on('click', '#give-payments-filter input[type=\"submit\"]', this.handleBulkActions);\n        },\n\n        handleBulkActions: function (e) {\n            let currentAction = $(this).closest('.tablenav').find('select').val(),\n                currentActionLabel = $(this)\n                    .closest('.tablenav')\n                    .find('option[value=\"' + currentAction + '\"]')\n                    .text(),\n                $payments = $('input[name=\"payment[]\"]:checked').length,\n                isStatusTypeAction = -1 !== currentAction.indexOf('set-status-'),\n                confirmActionNotice = '',\n                status = '',\n                paged = $('#current-page-selector').val(),\n                changedPage = GivePaymentHistory.onLoadPageNumber !== paged;\n\n            // Bailout.\n            if (changedPage) {\n                return true;\n            }\n\n            // Set common action, if action type is status.\n            currentAction = isStatusTypeAction ? 'set-to-status' : currentAction;\n\n            if ('-1' === currentAction) {\n                new GiveWarningAlert({\n                    modalContent: {\n                        title: Give.fn.getGlobal().donors_bulk_action.no_action_selected.title,\n                        desc: Give.fn.getGlobal().donors_bulk_action.no_action_selected.desc,\n                        cancelBtnTitle: Give.fn.getGlobalVar('ok'),\n                    },\n                }).render();\n                return false;\n            }\n\n            if (Object.keys(Give.fn.getGlobalVar('donations_bulk_action')).length) {\n                for (status in Give.fn.getGlobalVar('donations_bulk_action')) {\n                    if (status === currentAction) {\n                        // Get status text if current action types is status.\n                        confirmActionNotice = isStatusTypeAction\n                            ? Give.fn\n                                  .getGlobal()\n                                  .donations_bulk_action[currentAction].zero.replace(\n                                      '{status}',\n                                      currentActionLabel.replace('Set To ', '')\n                                  )\n                            : Give.fn.getGlobal().donations_bulk_action[currentAction].zero;\n\n                        // Check if admin selected any donations or not.\n                        if (!parseInt($payments)) {\n                            new GiveWarningAlert({\n                                modalContent: {\n                                    title: Give.fn.getGlobal().donations_bulk_action.titles.zero,\n                                    desc: confirmActionNotice,\n                                    cancelBtnTitle: Give.fn.getGlobalVar('ok'),\n                                },\n                            }).render();\n                            return false;\n                        }\n\n                        // Get message on basis of payment count.\n                        confirmActionNotice =\n                            1 < $payments\n                                ? Give.fn.getGlobal().donations_bulk_action[currentAction].multiple\n                                : Give.fn.getGlobal().donations_bulk_action[currentAction].single;\n\n                        e.preventDefault();\n\n                        new GiveConfirmModal({\n                            modalContent: {\n                                title: Give.fn.getGlobalVar('confirm_bulk_action'),\n                                desc: confirmActionNotice\n                                    .replace('{payment_count}', $payments)\n                                    .replace('{status}', currentActionLabel.replace('Set To ', '')),\n                            },\n                            successConfirm: function (args) {\n                                $('#give-payments-filter').submit();\n                            },\n                        }).render();\n                    }\n                }\n            }\n\n            return true;\n        },\n    };\n\n    const GiveShortcodeButtonObj = {\n        init: function () {\n            // Run scripts for shortcode buttons.\n            const shorcodeButtonEls = document.querySelectorAll('.js-give-shortcode-button');\n            if (shorcodeButtonEls) {\n                for (const buttonEl of shorcodeButtonEls) {\n                    const shortcodeButton = new GiveShortcodeButton(buttonEl);\n                    shortcodeButton.init();\n                }\n            }\n        },\n    };\n\n    /**\n     * Keep multi select options order.\n     *\n     * @since 2.8.0\n     */\n    const GiveMultiSelectOptions = {\n        init: function () {\n            const selectChosen = document.querySelectorAll('.give-select-chosen[multiple]') ?? [];\n\n            Array.from(selectChosen).forEach((dropdown) => {\n                const order = dropdown.dataset.order ? dropdown.dataset.order.split('|') : [];\n\n                if (order.length > 0) {\n                    GiveMultiSelectOptions.reorderItems(dropdown, order);\n                }\n\n                // Update order on change\n                $(dropdown)\n                    .chosen()\n                    .change(function (e, currentOption) {\n                        const dropdown = e.target;\n                        const orderedOptions = [];\n\n                        if (currentOption.deselected) {\n                            $(this).trigger('chosen:updated');\n                        }\n\n                        const items = document.querySelectorAll(`#${dropdown.id}_chosen li.search-choice`) ?? [];\n\n                        items.forEach((item) => {\n                            const text = item.querySelector('span').textContent;\n                            const option = Object.values(dropdown.options).find(\n                                (option) => option.textContent === text\n                            );\n\n                            if (option) {\n                                orderedOptions.push({\n                                    text: option.textContent,\n                                    value: option.value,\n                                    selected: true,\n                                });\n                            }\n                        });\n\n                        // Fill in rest of the options\n                        Object.values(dropdown.options).map((option) => {\n                            const included = orderedOptions.filter(\n                                (orderedOption) => orderedOption.text === option.textContent\n                            ).length;\n                            if (!included) {\n                                orderedOptions.push({\n                                    text: option.textContent,\n                                    value: option.value,\n                                    selected: false,\n                                });\n                            }\n                        });\n\n                        // Rebuild the dropdown\n                        GiveMultiSelectOptions.rebuildDropDown(dropdown, orderedOptions);\n                    });\n            });\n        },\n\n        reorderItems: function (dropdown, order) {\n            const options = dropdown.options;\n            const orderedOptions = [];\n\n            order.forEach((value, i) => {\n                const items = document.querySelectorAll(`#${dropdown.id}_chosen li.search-choice`) ?? [];\n\n                items.forEach((item, j) => {\n                    if (i === j) {\n                        const option = Object.values(options).find((option) => option.value === value);\n\n                        item.querySelector('span').textContent = option.text;\n\n                        orderedOptions.push({\n                            value: option.value,\n                            text: option.text,\n                            selected: true,\n                        });\n                    }\n                });\n            });\n\n            // Fill in rest of the options\n            Object.values(options).map((option) => {\n                const included = orderedOptions.filter((orderedOption) => orderedOption.value === option.value).length;\n                if (!included) {\n                    orderedOptions.push({\n                        value: option.value,\n                        text: option.textContent,\n                        selected: option.selected,\n                    });\n                }\n            });\n\n            // Rebuild the dropdown\n            GiveMultiSelectOptions.rebuildDropDown(dropdown, orderedOptions);\n\n            $(this).trigger('chosen:updated');\n        },\n\n        rebuildDropDown: function (dropdown, options) {\n            dropdown.innerHTML = '';\n            options.map((option) => {\n                const newOption = document.createElement('option');\n                newOption.value = option.value;\n                newOption.textContent = option.text;\n                if (option.selected) {\n                    newOption.setAttribute('selected', 'true');\n                }\n                dropdown.add(newOption);\n            });\n        },\n    };\n\n    // On DOM Ready.\n    $(function () {\n        give_dismiss_notice();\n        enable_admin_datepicker();\n        handle_status_change();\n        setup_chosen_give_selects();\n        $.giveAjaxifyFields({type: 'country_state', debug: true});\n        GiveListDonation.init();\n        Give_Edit_Donation.init();\n        Give_Settings.init();\n        Give_Reports.init();\n        GiveDonor.init();\n        API_Screen.init();\n        Give_Export.init();\n        Give_Updates.init();\n        Give_Upgrades.init();\n        Edit_Form_Screen.init();\n        GivePaymentHistory.init();\n        GiveShortcodeButtonObj.init();\n        GiveMultiSelectOptions.init();\n\n        // Footer.\n        $('a.give-rating-link').click(function () {\n            jQuery(this).parent().text(jQuery(this).data('rated'));\n        });\n\n        // Ajax user search.\n        $('.give-ajax-user-search').on('keyup', function () {\n            const user_search = $(this).val();\n            let exclude = '';\n\n            if ($(this).data('exclude')) {\n                exclude = $(this).data('exclude');\n            }\n\n            $('.give-ajax').show();\n            data = {\n                action: 'give_search_users',\n                user_name: user_search,\n                exclude: exclude,\n            };\n\n            document.body.style.cursor = 'wait';\n\n            $.ajax({\n                type: 'POST',\n                data: data,\n                dataType: 'json',\n                url: ajaxurl,\n                success: function (search_response) {\n                    $('.give-ajax').hide();\n                    $('.give_user_search_results').removeClass('hidden');\n                    $('.give_user_search_results span').html('');\n                    $(search_response.results).appendTo('.give_user_search_results span');\n                    document.body.style.cursor = 'default';\n                },\n            });\n        });\n\n        $('body').on('click.giveSelectUser', '.give_user_search_results span a', function (e) {\n            e.preventDefault();\n            const login = $(this).data('login');\n            $('.give-ajax-user-search').val(login);\n            $('.give_user_search_results').addClass('hidden');\n            $('.give_user_search_results span').html('');\n        });\n\n        $('body').on('click.giveCancelUserSearch', '.give_user_search_results a.give-ajax-user-cancel', function (e) {\n            e.preventDefault();\n            $('.give-ajax-user-search').val('');\n            $('.give_user_search_results').addClass('hidden');\n            $('.give_user_search_results span').html('');\n        });\n\n        let $poststuff = $('#poststuff'),\n            thousand_separator = Give.fn.getGlobalVar('thousands_separator'),\n            decimal_separator = Give.fn.getGlobalVar('decimal_separator'),\n            thousand_separator_count = '',\n            alphabet_count = '',\n            price_string = '',\n            // Thousand separation limit in price depends upon decimal separator symbol.\n            // If thousand separator is equal to decimal separator then price does not have more then 1 thousand separator otherwise limit is zero.\n            thousand_separator_limit = decimal_separator === thousand_separator ? 1 : 0;\n\n        // Check & show message on keyup event.\n        $poststuff.on('keyup', 'input.give-money-field, input.give-price-field', function () {\n            const tootltip_setting = {\n                label: Give.fn.getGlobalVar('price_format_guide').trim(),\n            };\n\n            // Count thousand separator in price string.\n            thousand_separator_count = ($(this).val().match(new RegExp(thousand_separator, 'g')) || []).length;\n            alphabet_count = ($(this).val().match(new RegExp('[a-z]', 'g')) || []).length;\n\n            // Show qtip conditionally if thousand separator detected on price string.\n            if (\n                -1 !== $(this).val().indexOf(thousand_separator) &&\n                thousand_separator_limit < thousand_separator_count\n            ) {\n                $(this).giveHintCss('show', tootltip_setting);\n            } else if (alphabet_count) {\n                $(this).giveHintCss('show', tootltip_setting);\n            } else {\n                $(this).giveHintCss('hide', tootltip_setting);\n            }\n\n            // Reset thousand separator count.\n            thousand_separator_count = alphabet_count = '';\n        });\n\n        // Format price sting of input field on focusout.\n        $poststuff.on('focusout', 'input.give-money-field, input.give-price-field', function () {\n            price_string = give_unformat_currency($(this).val(), false);\n\n            $(this).giveHintCss('hide', {label: Give.fn.getGlobalVar('price_format_guide').trim()});\n\n            // Back out.\n            if (give_unformat_currency('0', false) === give_unformat_currency($(this).val(), false)) {\n                let default_amount = $(this).attr('placeholder');\n                default_amount = !default_amount ? '0' : default_amount;\n\n                $(this).val(default_amount);\n\n                return false;\n            }\n\n            // Replace dot decimal separator with user defined decimal separator.\n            price_string = price_string.replace('.', decimal_separator);\n\n            // Check if current number is negative or not.\n            if (-1 !== price_string.indexOf('-')) {\n                price_string = price_string.replace('-', '');\n            }\n\n            // Update format price string in input field.\n            $(this).val(price_string);\n        });\n\n        // Set default value to 1 even if user inputs empty or negative number of donations.\n        $poststuff.on('focusout', '#_give_number_of_donation_goal', function () {\n            if (1 > $(this).val()) {\n                $(this).val(1);\n            }\n        });\n\n        /**\n         * Responsive setting tab features.\n         */\n\n        // Show/Hide sub tab nav.\n        $('.give-settings-page')\n            .on('click', '#give-show-sub-nav', function (e) {\n                e.preventDefault();\n\n                const $sub_tab_nav = $(this).next();\n\n                if (!$sub_tab_nav.is(':hover')) {\n                    $sub_tab_nav.toggleClass('give-hidden');\n                }\n\n                return false;\n            })\n            .on('blur', '#give-show-sub-nav', function () {\n                const $sub_tab_nav = $(this).next();\n\n                if (!$sub_tab_nav.is(':hover')) {\n                    $sub_tab_nav.addClass('give-hidden');\n                }\n            });\n\n        /**\n         * Automatically show/hide email setting fields.\n         */\n        $('.give_email_api_notification_status_setting input').change(function () {\n            // Bailout.\n            let value = $(this).val(),\n                is_enabled = 'enabled' === value,\n                $setting_fields = {};\n\n            // Get setting fields.\n            if ($(this).closest('.give_options_panel').length) {\n                $setting_fields = $(this)\n                    .closest('.give_options_panel')\n                    .children(\n                        '.give-field-wrap:not(.give_email_api_notification_status_setting), .give-repeatable-field-section'\n                    );\n            } else if ($(this).closest('table').length) {\n                $setting_fields = $(this).closest('table').find('tr:not(.give_email_api_notification_status_setting)');\n            }\n\n            if (-1 === jQuery.inArray(value, ['enabled', 'disabled', 'global'])) {\n                return false;\n            }\n\n            // Bailout.\n            if (!$setting_fields.length) {\n                return false;\n            }\n\n            // Show hide setting fields.\n            is_enabled ? $setting_fields.show() : $setting_fields.hide();\n        });\n\n        $('.give_email_api_notification_status_setting input:checked').change();\n\n        // Render setting tab.\n        give_render_responsive_tabs();\n    });\n})(jQuery);\n\n/**\n * Responsive js.\n */\njQuery(window).resize(function () {\n    give_render_responsive_tabs();\n});\n\n/**\n * Render responsive tabs\n */\nfunction give_render_responsive_tabs() {\n    let $setting_page_form = jQuery('.give-settings-page'),\n        $main_tab_nav = jQuery('.give-nav-tab-wrapper'),\n        setting_page_form_width = $setting_page_form.width(),\n        $sub_tab_nav_wrapper = jQuery('.give-sub-nav-tab-wrapper'),\n        $sub_tab_nav = jQuery('nav', $sub_tab_nav_wrapper),\n        $setting_tab_links = jQuery('.give-nav-tab-wrapper > a:not(give-not-tab)'),\n        $show_tabs = [],\n        $hide_tabs = [],\n        tab_width = 0;\n\n    if (600 < jQuery(window).outerWidth()) {\n        tab_width = 200;\n    }\n\n    // Bailout.\n    if (!$setting_page_form.length) {\n        return false;\n    }\n\n    // Update tab wrapper css.\n    $main_tab_nav.css({\n        height: 'auto',\n        overflow: 'visible',\n    });\n\n    // Show all tab if anyone hidden to calculate correct tab width.\n    $setting_tab_links.removeClass('give-hidden');\n\n    const refactor_tabs = new Promise(function (resolve, reject) {\n        // Collect tabs to show or hide.\n        jQuery.each($setting_tab_links, function (index, $tab_link) {\n            $tab_link = jQuery($tab_link);\n            tab_width = tab_width + parseInt($tab_link.outerWidth());\n\n            if (tab_width < setting_page_form_width) {\n                $show_tabs.push($tab_link);\n            } else {\n                $hide_tabs.push($tab_link);\n            }\n        });\n\n        resolve(true);\n    });\n\n    refactor_tabs.then(function (is_refactor_tabs) {\n        // Remove current tab from sub menu and add this to main menu if exist and get last tab from main menu and add this to sub menu.\n        if ($hide_tabs.length && -1 !== window.location.search.indexOf('&tab=')) {\n            let $current_tab_nav = {},\n                query_params = get_url_params();\n\n            $hide_tabs = $hide_tabs.filter(function ($tab_link) {\n                const is_current_nav_item = -1 !== parseInt($tab_link.attr('href').indexOf('&tab=' + query_params.tab));\n\n                if (is_current_nav_item) {\n                    $current_tab_nav = $tab_link;\n                }\n\n                return !is_current_nav_item;\n            });\n\n            if ($current_tab_nav.length) {\n                $hide_tabs.unshift($show_tabs.pop());\n                $show_tabs.push($current_tab_nav);\n            }\n        }\n\n        const show_tabs = new Promise(function (resolve, reject) {\n            // Show main menu tabs.\n            if ($show_tabs.length) {\n                jQuery.each($show_tabs, function (index, $tab_link) {\n                    $tab_link = jQuery($tab_link);\n\n                    if ($tab_link.hasClass('give-hidden')) {\n                        $tab_link.removeClass('give-hidden');\n                    }\n                });\n            }\n\n            resolve(true);\n        });\n\n        show_tabs.then(function (is_show_tabs) {\n            // Hide sub menu tabs.\n            if ($hide_tabs.length) {\n                $sub_tab_nav.html('');\n\n                jQuery.each($hide_tabs, function (index, $tab_link) {\n                    $tab_link = jQuery($tab_link);\n                    if (!$tab_link.hasClass('nav-tab-active')) {\n                        $tab_link.addClass('give-hidden');\n                    }\n                    $tab_link.clone().removeClass().appendTo($sub_tab_nav);\n                });\n\n                if (!jQuery('.give-sub-nav-tab-wrapper', $main_tab_nav).length) {\n                    $main_tab_nav.append($sub_tab_nav_wrapper);\n                }\n\n                $sub_tab_nav_wrapper.show();\n            } else {\n                $sub_tab_nav_wrapper.hide();\n            }\n        });\n    });\n}\n\n/**\n * Get url query params.\n *\n * @returns {Array}\n */\nfunction get_url_params() {\n    let vars = [],\n        hash;\n    const hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n    for (let i = 0; i < hashes.length; i++) {\n        hash = hashes[i].split('=');\n        vars[hash[0]] = hash[1];\n    }\n    return vars;\n}\n","/*!\n * Give Admin Forms JS\n *\n * @description: The Give Admin Settings scripts. Only enqueued on the give-settings page; used for tabs and other show/hide functionality\n * @package:     Give\n * @since:       1.5\n * @subpackage:  Assets/JS\n * @copyright:   Copyright (c) 2016, GiveWP\n * @license:     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n */\n\n/* globals Give, jQuery, givePayPalCommerce, ajaxurl */\n\njQuery( document ).ready( function( $ ) {\n\t/**\n\t *  Sortable payment gateways.\n\t */\n\tconst $payment_gateways = jQuery( 'ul.give-payment-gatways-list' );\n\tif ( $payment_gateways.length ) {\n\t\t$payment_gateways.sortable();\n\t}\n\n\t/**\n\t * Change currency position symbol on changing the currency\n\t */\n\tconst give_settings_currency = '#give-mainform #currency';\n\tconst give_settings_position = '#give-mainform #currency_position';\n\t$( 'body' ).on( 'change', give_settings_currency, function() {\n\t\tconst $currency = $( give_settings_currency + ' option:selected' ),\n\t\t\tcurrencyCode = $currency.val(),\n\t\t\tcurrencyList = JSON.parse( $( this ).attr( 'data-formatting-setting' ) );\n\n\t\tlet beforeText = afterText = {},\n\t\t\tformattingSetting = currencyList[ currencyCode ],\n\t\t\t$thounsandSeparator = $( '#thousands_separator', '#give-mainform' ),\n\t\t\t$decimalSeparator = $( '#decimal_separator', '#give-mainform' ),\n\t\t\t$numerDecimals = $( '#number_decimals', '#give-mainform' );\n\n\t\t// Change currency position text.\n\t\tbeforeText = $( give_settings_position ).data( 'before-template' ).replace( '{currency_pos}', formattingSetting.symbol );\n\t\t$( give_settings_position + ' option[value=\"before\"]' ).text( beforeText );\n\n\t\tafterText = $( give_settings_position ).data( 'after-template' ).replace( '{currency_pos}', formattingSetting.symbol );\n\t\t$( give_settings_position + ' option[value=\"after\"]' ).text( afterText );\n\n\t\t// Change thousand separator.\n\t\t$thounsandSeparator.val( formattingSetting.setting[ 'thousands_separator' ] ).trigger( 'blur' );\n\n\t\t// Change decimal separator.\n\t\t$decimalSeparator.val( formattingSetting.setting[ 'decimal_separator' ] ).trigger( 'blur' );\n\n\t\t// Change number of decimals.\n\t\t$numerDecimals.val( formattingSetting.setting[ 'number_decimals' ] ).trigger( 'blur' );\n\t} );\n\n\t/**\n\t * Show/Hide Title Prefixes\n\t */\n\tif ( 'disabled' !== $( 'input[name=\"name_title_prefix\"]:checked' ).val() ) {\n\t\t$( '.give-title-prefixes-settings-wrap' ).show();\n\t}\n\n\t$( 'input[name=\"name_title_prefix\"]' ).on( 'change', function() {\n\t\tif ( 'disabled' !== $( this ).val() ) {\n\t\t\t$( '.give-title-prefixes-settings-wrap' ).show();\n\t\t} else {\n\t\t\t$( '.give-title-prefixes-settings-wrap' ).hide();\n\t\t}\n\t} );\n\n\t/**\n\t * Repeater setting field event.\n\t */\n\t$( 'a.give-repeat-setting-field' ).on( 'click', function( e ) {\n\t\te.preventDefault();\n\t\tlet $parent = $( this ).parents( 'td' ),\n\t\t\t$first_setting_field_group = $( 'p:first-child', $parent ),\n\t\t\t$new_setting_field_group = $first_setting_field_group.clone(),\n\t\t\tsetting_field_count = $( 'p', $parent ).not( '.give-field-description' ).length,\n\t\t\tfieldID = $( this ).data( 'id' ) + '_' + ( ++setting_field_count ),\n\t\t\t$prev_field = $( this ).prev();\n\n\t\t// Create new field only if previous is non empty.\n\t\tif ( $( 'input', $prev_field ).val() ) {\n\t\t\t// Add setting field html to dom.\n\t\t\t$( this ).before( $new_setting_field_group );\n\t\t\t$prev_field = $( this ).prev();\n\n\t\t\t// Set id and value for setting field.\n\t\t\t$( 'input', $prev_field ).attr( 'id', fieldID );\n\t\t\t$( 'input', $prev_field ).val( '' );\n\t\t}\n\n\t\treturn false;\n\t} );\n\n\t$( '.give-settings-page' ).on( 'click', 'span.give-remove-setting-field', function( e ) {\n\t\t$( this ).parents( 'p' ).remove();\n\t} );\n\n\t/**\n\t * Enabled & disable email notification event.\n\t */\n\t$( '.give-email-notification-status', 'table.giveemailnotifications' ).on( 'click', function() {\n\t\tconst $this = $( this ),\n\t\t\t$icon_container = $( 'i', $this ),\n\t\t\t$loader = $( this ).next(),\n\t\t\tset_notification_status = $( this ).hasClass( 'give-email-notification-enabled' ) ? 'disabled' : 'enabled',\n\t\t\tnotification_id = $( this ).data( 'id' ),\n\t\t\tcanEditEmailNotificationStatus = parseInt( $this.data( 'edit' ) );\n\n\t\tif( ! canEditEmailNotificationStatus ) {\n\t\t\tshowEmailNotificationStatusIsNotEditableNotice($this);\n\t\t\treturn false;\n\t\t}\n\n\t\t$.ajax( {\n\t\t\turl: ajaxurl,\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\taction: 'give_set_notification_status',\n\t\t\t\tstatus: set_notification_status,\n\t\t\t\tnotification_id: notification_id,\n\t\t\t},\n\t\t\tbeforeSend: function() {\n\t\t\t\t$this.hide();\n\t\t\t\t$loader.addClass( 'is-active' );\n\t\t\t},\n\t\t\tsuccess: function( res ) {\n\t\t\t\tif ( res.success ) {\n\t\t\t\t\t$this.removeClass( 'give-email-notification-' + $this.data( 'status' ) );\n\t\t\t\t\t$this.addClass( 'give-email-notification-' + set_notification_status );\n\t\t\t\t\t$this.data( 'status', set_notification_status );\n\n\t\t\t\t\tif ( 'enabled' === set_notification_status ) {\n\t\t\t\t\t\t$icon_container.removeClass( 'dashicons-no-alt' );\n\t\t\t\t\t\t$icon_container.addClass( 'dashicons-yes' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$icon_container.removeClass( 'dashicons-yes' );\n\t\t\t\t\t\t$icon_container.addClass( 'dashicons-no-alt' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$loader.removeClass( 'is-active' );\n\t\t\t\t\t$this.show();\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\t} );\n\n\t/**\n\t * Ajax call to clear Give's cache.\n\t */\n\t$( '#give-clear-cache' ).on( 'click', function() {\n\t\t$.ajax( {\n\t\t\turl: ajaxurl,\n\t\t\ttype: 'GET',\n\t\t\tdata: {\n\t\t\t\taction: 'give_cache_flush',\n\t\t\t},\n\t\t} )\n\t\t\t.done( function( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tnew Give.modal.GiveSuccessAlert( {\n\t\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\t\ttitle: Give.fn.getGlobalVar( 'flush_success' ),\n\t\t\t\t\t\t\tdesc: response.data.message,\n\t\t\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar( 'ok' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t} ).render();\n\t\t\t\t} else {\n\t\t\t\t\tnew Give.modal.GiveErrorAlert( {\n\t\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\t\ttitle: Give.fn.getGlobalVar( 'flush_error' ),\n\t\t\t\t\t\t\tdesc: response.data.message,\n\t\t\t\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar( 'ok' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t} ).render();\n\t\t\t\t}\n\t\t\t} );\n\t} );\n\n\tlet dTemp = Give.fn.getGlobalVar( 'decimal_separator' ), // Temporary variable to store decimal separator.\n\t\ttTemp = Give.fn.getGlobalVar( 'thousands_separator' ), // Temporary variable to store thousand separator.\n\t\tsymbolRegex = /\\(([^)]+)\\)/, // Regex to extract currency symbol.\n\t\tformatterArgs = {\n\t\t\tposition: Give.fn.getGlobalVar( 'currency_pos' ),\n\t\t\tsymbol: Give.fn.getGlobalVar( 'currency_sign' ),\n\t\t\tprecision: Give.fn.getGlobalVar( 'number_decimals' ),\n\t\t\tdecimal: Give.fn.getGlobalVar( 'decimal_separator' ),\n\t\t\tthousand: Give.fn.getGlobalVar( 'thousands_separator' ),\n\t\t}; // Object argument required to format the amount.\n\n\t/**\n\t * Logic to show Currency Preview.\n\t *\n\t * The variables above are part of the below code which should lie outside the code below.\n\t */\n\t$( '#number_decimals, #decimal_separator, #thousands_separator, #currency_position, #currency' ).on( 'input blur change', function( e ) {\n\t\tconst preview = $( '#currency_preview' ),\n\t\t\tdSeparator = $( '#decimal_separator' ),\n\t\t\ttSeparator = $( '#thousands_separator' ),\n\t\t\ttargetName = e.target.name,\n\t\t\ttargetValue = e.target.value;\n\n\t\t/**\n\t\t * Sets the precision (number of decimals) for the formatted amount.\n\t\t *\n\t\t */\n\t\tif ( 'number_decimals' === targetName && ( 'input' === e.type || 'blur' === e.type ) ) {\n\t\t\tif ( ( ! targetValue || isNaN( targetValue ) ) && 'blur' === e.type ) {\n\t\t\t\te.target.value = Give.fn.getGlobalVar( 'number_decimals' );\n\t\t\t}\n\t\t\t/**\n\t\t\t * Checks if the input is a number, will set to '0' if otherwise or\n\t\t\t * if the input is left empty.\n\t\t\t */\n\t\t\tformatterArgs.precision = isNaN( parseInt( targetValue ) ) ? Give.fn.getGlobalVar( 'number_decimals' ) : parseInt( targetValue );\n\t\t}\n\n\t\t/**\n\t\t * The next 2 sections are for the decimal separator and thousand separator.\n\t\t * if the decimal separator === thousand separator, then the values are swapped.\n\t\t */\n\t\tif ( 'decimal_separator' === targetName && ( 'input' === e.type || 'blur' === e.type ) ) {\n\t\t\tif ( ! targetValue && 'blur' === e.type ) {\n\t\t\t\te.target.value = dTemp;\n\t\t\t}\n\t\t\tformatterArgs.decimal = targetValue;\n\t\t\t/**\n\t\t\t * Logic for swapping decimal separator with thousand separator if both\n\t\t\t * are the same value.\n\t\t\t */\n\t\t\tif ( formatterArgs.hasOwnProperty( 'thousand' ) && 'input' === e.type ) {\n\t\t\t\tif ( formatterArgs.decimal === formatterArgs.thousand ) {\n\t\t\t\t\tformatterArgs.thousand = dTemp;\n\t\t\t\t\ttSeparator.val( dTemp );\n\t\t\t\t\tdTemp = targetValue;\n\t\t\t\t\ttTemp = tSeparator.val();\n\t\t\t\t}\n\t\t\t} else if ( formatterArgs.decimal === Give.fn.getGlobalVar( 'thousands_separator' ) && 'input' === e.type ) {\n\t\t\t\tformatterArgs.thousand = dTemp;\n\t\t\t\ttSeparator.val( dTemp );\n\t\t\t\tdTemp = targetValue;\n\t\t\t\ttTemp = tSeparator.val();\n\t\t\t}\n\t\t}\n\n\t\tif ( 'thousands_separator' === targetName && ( 'input' === e.type || 'blur' === e.type ) ) {\n\t\t\tif ( ! targetValue && 'blur' === e.type ) {\n\t\t\t\te.target.value = tTemp;\n\t\t\t}\n\t\t\tformatterArgs.thousand = targetValue;\n\t\t\t/**\n\t\t\t * Logic for swapping decimal separator with thousand separator if both\n\t\t\t * are the same value.\n\t\t\t */\n\t\t\tif ( formatterArgs.hasOwnProperty( 'decimal' ) && 'input' === e.type ) {\n\t\t\t\tif ( formatterArgs.decimal === formatterArgs.thousand ) {\n\t\t\t\t\tformatterArgs.decimal = tTemp;\n\t\t\t\t\tdSeparator.val( tTemp );\n\t\t\t\t\ttTemp = targetValue;\n\t\t\t\t\tdTemp = dSeparator.val();\n\t\t\t\t}\n\t\t\t} else if ( formatterArgs.thousand === Give.fn.getGlobalVar( 'decimal_separator' ) && 'input' === e.type ) {\n\t\t\t\tformatterArgs.decimal = tTemp;\n\t\t\t\tdSeparator.val( tTemp );\n\t\t\t\ttTemp = targetValue;\n\t\t\t\tdTemp = dSeparator.val();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Sets the currency position: Before | After\n\t\t */\n\t\tif ( 'currency_position' === targetName && 'change' === e.type ) {\n\t\t\tformatterArgs.position = targetValue;\n\t\t}\n\n\t\t/**\n\t\t * Sets the currency and the symbol.\n\t\t */\n\t\tif ( 'currency' === targetName && 'change' === e.type ) {\n\t\t\tformatterArgs.currency = targetValue;\n\t\t\tconst matched = symbolRegex.exec( e.target[ e.target.selectedIndex ].text );\n\t\t\tformatterArgs.symbol = matched[ 1 ];\n\t\t}\n\n\t\tpreview.val( Give.fn.formatCurrency( '123456.12345', formatterArgs, {} ) );\n\t} );\n\n\t/**\n\t * Show admin notice if email notification status is not editable.\n\t *\n\t * @since 2.14.0\n\t * @param {object} noticeEditButton\n\t * @return {boolean}\n\t */\n\tfunction showEmailNotificationStatusIsNotEditableNotice( noticeEditButton ){\n\t\t$( 'div.give-email-notification-status-notice' ).remove();\n\n\t\t// Add notice.\n\t\t$( '.wp-heading-inline' ).after( `<div class=\"updated error give-email-notification-status-notice\"><p>${noticeEditButton.data( 'notice' )}</p></div>` );\n\n\t\t// Scroll to notice.\n\t\tlet noticeContainer = $( 'div.give-email-notification-status-notice' );\n\t\tif( noticeContainer.length ){\n\t\t\t$( 'html, body' ).animate( { scrollTop: noticeContainer.position().top }, 'slow' );\n\t\t}\n\t}\n} );\n\n// Vertical tabs feature.\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tconst mainContentWrap = document.querySelector( '.give-settings-section-content' );\n\n\t// Bailout, if main content wrap not exists.\n\tif ( null === mainContentWrap ) {\n\t\treturn;\n\t}\n\n\tconst menuContentWrap = mainContentWrap.querySelector( '.give-settings-section-group-menu' );\n\n\t// Bailout, if menu content wrap not exists.\n\tif ( null === menuContentWrap ) {\n\t\treturn;\n\t}\n\n\tconst allContent = Array.prototype.slice.call( mainContentWrap.querySelectorAll( '.give-settings-section-group' ) );\n\n\tconst menuButtons = Array.from( menuContentWrap.querySelectorAll( 'ul li a' ) )\n\t\t.concat( Array.from( mainContentWrap.querySelectorAll( 'ul.give-subsubsub li a' ) ) );\n\n\t// Bailout, if menu content wrap not exists.\n\tif ( null === menuButtons ) {\n\t\treturn;\n\t}\n\n\tmenuButtons.forEach( ( element ) => {\n\t\telement.addEventListener( 'click', ( e ) => {\n\t\t\tconst hasSubGroup = e.target.hasAttribute( 'data-subgroup' );\n\t\t\tlet selectedGroup, selectedContent;\n\n\t\t\tif ( hasSubGroup ) {\n\t\t\t\tconst menuContainer = e.target.parentElement.parentElement;\n\t\t\t\tconst sectionGroup = menuContainer.parentElement;\n\t\t\t\tselectedGroup = e.target.getAttribute( 'data-subgroup' );\n\t\t\t\tselectedContent = mainContentWrap.querySelector( `#give-settings-section-subgroup-${ selectedGroup }` );\n\n\t\t\t\t// Loop through menu button and remove `current` class.\n\t\t\t\tmenuContainer.querySelectorAll( 'a' ).forEach( ( element ) => {\n\t\t\t\t\telement.classList.remove( 'current' );\n\t\t\t\t} );\n\n\t\t\t\t// Loop through content sections and add `give-hidden` class.\n\t\t\t\tsectionGroup.querySelectorAll( '.give-settings-section-subgroup ' ).forEach( contentElement => contentElement.classList.add( 'give-hidden' ) );\n\n\t\t\t\t// Add `active` class to menu buttons of selected element.\n\t\t\t\te.target.classList.add( 'current' );\n\t\t\t} else {\n\t\t\t\tselectedGroup = e.target.getAttribute( 'data-group' );\n\t\t\t\tselectedContent = mainContentWrap.querySelector( `#give-settings-section-group-${ selectedGroup }` );\n\n\t\t\t\t// Loop through menu button and remove `active` class.\n\t\t\t\tmenuButtons.forEach( ( element ) => {\n\t\t\t\t\telement.classList.remove( 'active' );\n\t\t\t\t} );\n\n\t\t\t\t// Loop through content sections and add `give-hidden` class.\n\t\t\t\tallContent.map( contentElement => contentElement.classList.add( 'give-hidden' ) );\n\n\t\t\t\t// Add `active` class to menu buttons of selected element.\n\t\t\t\te.target.classList.add( 'active' );\n\t\t\t}\n\n\t\t\t// Remove `give-hidden` class from content section of selected element.\n\t\t\tselectedContent.classList.remove( 'give-hidden' );\n\n\t\t\t// Update URL in browser address without reloading the page.\n\t\t\thistory.pushState( { urlPath: e.target.getAttribute( 'href' ) }, '', e.target.getAttribute( 'href' ) );\n\n\t\t\t// Don't redirect the page.\n\t\t\te.preventDefault();\n\t\t\treturn false;\n\t\t} );\n\t} );\n} );\n","class GiveButton {\n\tconstructor( element ) {\n\t\tthis.root = element;\n\t\tthis.buttonText = this.root.textContent.trim();\n\t\tthis.iconPosition = 'before';\n\n\t\t// Note: this property is for internal use. It can be change in future.\n\t\tthis._buttonTextWithWrapper = this.root.querySelector( '.give-button-text' ) ?\n\t\t\t`<span class=\"give-button-text\">${ this.buttonText }</span>` :\n\t\t\tthis.buttonText;\n\n\t\tconst icon = this.root.querySelector( '.dashicons' );\n\n\t\tif ( icon ) {\n\t\t\tthis.iconClassName = icon.className;\n\t\t}\n\t}\n\n\tenable() {\n\t\tthis.root.disabled = false;\n\t}\n\n\tdisable() {\n\t\tthis.root.disabled = true;\n\t}\n\n\tsetBusyState() {\n\t\tconst busyIcon = '<span class=\"dashicons dashicons-marker\"></span>';\n\t\tthis.root.innerHTML = `${ busyIcon } ${ this._buttonTextWithWrapper }`;\n\t\tthis.disable();\n\t}\n\n\tremoveBusyState() {\n\t\tthis.enable();\n\n\t\tif ( this.iconClassName ) {\n\t\t\tthis.updateIcon( this.iconClassName );\n\t\t}\n\t}\n\n\tupdateIcon( className, position = 'before' ) {\n\t\tconst icon = `<span class=\"${ className }\"></span>`;\n\n\t\tthis.root.innerHTML = 'after' === position ?\n\t\t\t`${ this._buttonTextWithWrapper } ${ icon }` :\n\t\t\t`${ icon } ${ this._buttonTextWithWrapper }`;\n\n\t\tthis.iconClassName = className;\n\t\tthis.iconPosition = position;\n\t}\n\n\tupdateButtonText( text ) {\n\t\tthis.buttonText = text;\n\n\t\tif ( this.iconClassName ) {\n\t\t\tthis.updateIcon( this.iconClassName, this.iconPosition );\n\t\t} else {\n\t\t\tthis.root.textContent = text;\n\t\t}\n\t}\n}\n\nexport default GiveButton;\n","/* globals Give, jQuery */\n/* eslint-disable */\n(function ($) {\n    /**\n     * Handle form template activation\n     * @since: 2.7.0\n     */\n    const handleFormTemplateActivation = function () {\n        $('#form_template_options').on('click', '.js-template--activate', function (ev) {\n            ev.preventDefault();\n\n            const $templatesList = $(this).parents('.templates-list'),\n                $innerContainer = $templatesList.parent(),\n                $parent = $(this).parents('.template-info'),\n                activatedTemplateId = $parent.attr('data-id');\n\n            // Deactivate existing activated template.\n            $('.template-info', $templatesList).removeClass('active');\n\n            // Show Settings.\n            $innerContainer.find(`.template-options.${activatedTemplateId}`).addClass('active');\n\n            $(this).text(Give.fn.getGlobalVar('deactivate'));\n            $(this).removeClass('js-template--activate');\n            $(this).addClass('js-template--deactivate');\n\n            $(this).parents('.template-info').addClass('active');\n            $innerContainer.addClass('has-activated-template');\n\n            $innerContainer.prev('input[name=_give_form_template]').val(activatedTemplateId).trigger('change');\n        });\n    };\n\n    /**\n     * Handle form template deactivation\n     * @since: 2.7.0\n     */\n    const handleFormTemplateDeactivation = function () {\n        $('#form_template_options').on('click', '.js-template--deactivate', function (ev) {\n            ev.preventDefault();\n\n            const $templatesList = $(this).parents('.templates-list'),\n                $innerContainer = $templatesList.parent(),\n                $parent = $(this).parents('.template-info'),\n                activatedTemplateId = $parent.attr('data-id');\n\n            // Deactivate existing activated template.\n            $('.template-info', $templatesList).removeClass('active');\n\n            // Hide Settings.\n            $innerContainer.find(`.template-options.${activatedTemplateId}`).removeClass('active');\n\n            $(this).text(Give.fn.getGlobalVar('activate'));\n            $(this).removeClass('js-template--deactivate');\n            $(this).addClass('js-template--activate');\n\n            $innerContainer.removeClass('has-activated-template');\n\n            $innerContainer.prev('input[name=_give_form_template]').val('').trigger('change');\n        });\n    };\n\n    /**\n     * Handle form template setting vlaidation\n     *\n     * @since 2.7.0\n     */\n    const saveFormSettingOnlyIfFormTemplateSelected = function () {\n        $('.post-php.post-type-give_forms #publishing-action input[type=submit]')\n            .add('.post-new-php.post-type-give_forms #publishing-action input[type=submit]')\n            .add('.post-new-php.post-type-give_forms #save-action input[type=submit]')\n            .add('.post-php.post-type-give_forms #save-action input[type=submit]')\n            .on('click', function () {\n                const activatedTemplate = $('input[name=_give_form_template]', '#form_template_options').val();\n\n                if (!activatedTemplate) {\n                    new Give.modal.GiveNoticeAlert({\n                        type: 'warning',\n                        modalContent: {\n                            title: Give.fn.getGlobalVar('form_template_required').title,\n                            desc: Give.fn.getGlobalVar('form_template_required').desc,\n                        },\n                    }).render();\n\n                    // Open form template settings.\n                    if ('form_template_options' !== Give.fn.getParameterByName('give_tab')) {\n                        $('a[href=\"#form_template_options\"]').trigger('click');\n                    }\n\n                    return false;\n                }\n\n                return true;\n            });\n    };\n\n    /**\n     * Handle conditional form template fields\n     *\n     * @since 2.7.0\n     * @since 2.19.0 Add listener for donation summary fields\n     */\n    const handleConditionalFormTemplateFields = function () {\n        updateIntroductionFields();\n        $('input[name=\"sequoia[introduction][enabled]\"]').on('change', function () {\n            updateIntroductionFields();\n        });\n\n        /**\n         * @since 2.19.0\n         */\n        updateDonationSummaryFields();\n        $('input[name=\"sequoia[payment_information][donation_summary_enabled]\"]').on('change', function () {\n            updateDonationSummaryFields();\n        });\n\n        updateSocialSharingFields();\n        $('input[name=\"sequoia[thank-you][sharing]\"]').on('change', function () {\n            updateSocialSharingFields();\n        });\n    };\n\n    /**\n     * Update introduction fields\n     * Hide or show introduction fields if enabled\n     *\n     * @since 2.7.0\n     */\n    const updateIntroductionFields = function () {\n        const introductionFields = $(\n            '[class*=\"sequoia[introduction][headline]_field\"], [class*=\"sequoia[introduction][description]_field\"], [class*=\"sequoia[introduction][image]_field\"], [class*=\"sequoia[introduction][donate_label]_field\"]'\n        );\n\n        if (\n            $('input[name=\"sequoia[introduction][enabled]\"]').length !== 0 &&\n            !$('input[name=\"sequoia[introduction][enabled]\"]').prop('checked')\n        ) {\n            $(introductionFields).hide();\n        } else {\n            $(introductionFields).show();\n        }\n    };\n\n    /**\n     * Update donation summary fields\n     * Hide or show fields if enabled\n     *\n     * @since 2.19.0\n     */\n    const updateDonationSummaryFields = function () {\n        const conditionalFields = $(\n            '[class*=\"sequoia[payment_information][donation_summary_heading]_field\"], [class*=\"sequoia[payment_information][donation_summary_location]_field\"]'\n        );\n\n        if (\n            $('input[name=\"sequoia[payment_information][donation_summary_enabled]\"]').length !== 0 &&\n            !$('input[name=\"sequoia[payment_information][donation_summary_enabled]\"]').prop('checked')\n        ) {\n            $(conditionalFields).hide();\n        } else {\n            $(conditionalFields).show();\n        }\n    };\n\n    /**\n     * Update social sharing fields\n     * Hide or show social sharing fields if enabled\n     *\n     * @since 2.7.0\n     */\n    const updateSocialSharingFields = function () {\n        const socialSharingFields = $(\n            '[class*=\"sequoia[thank-you][sharing_instruction]_field\"], [class*=\"sequoia[thank-you][twitter_message]_field\"]'\n        );\n\n        if (\n            $('input[name=\"sequoia[thank-you][sharing]\"]').length !== 0 &&\n            !$('input[name=\"sequoia[thank-you][sharing]\"]').prop('checked')\n        ) {\n            $(socialSharingFields).hide();\n        } else {\n            $(socialSharingFields).show();\n        }\n    };\n\n    $(document).ready(function () {\n        handleFormTemplateActivation();\n        handleFormTemplateDeactivation();\n        saveFormSettingOnlyIfFormTemplateSelected();\n        handleConditionalFormTemplateFields();\n    });\n})(jQuery);\n/* eslint-enable */\n","import { GiveConfirmModal } from '../../plugins/modal';\n\nwindow.addEventListener( 'DOMContentLoaded', function() {\n\tconst donationStatus = document.getElementById( 'give-payment-status' ),\n\t\t  onBoardingButton = document.getElementById( 'js-give-paypal-on-boarding-handler' ),\n\t\t  disconnectPayPalAccountButton = document.getElementById( 'js-give-paypal-disconnect-paypal-account' ),\n\t\t  connectionSettingContainer = document.querySelector( '#give-paypal-commerce-account-manager-field-wrap .connection-setting' ),\n\t\t  disConnectionSettingContainer = document.querySelector( '#give-paypal-commerce-account-manager-field-wrap .disconnection-setting' ),\n\t\t  countryField = document.getElementById( 'paypal_commerce_account_country' ),\n\t\t  paypalModalObserver = new MutationObserver( function( mutationsRecord ) {\n\t\t\t  mutationsRecord.forEach( function( record ) {\n\t\t\t  \trecord.removedNodes.forEach( function( node ) {\n\t\t\t\t\tif ( 'PPMiniWin' === node.getAttribute( 'id' ) ) {\n\t\t\t\t\t\tconst paypalErrorQuickHelp = document.getElementById( 'give-paypal-onboarding-trouble-notice' );\n\t\t\t\t\t\tpaypalErrorQuickHelp && paypalErrorQuickHelp.classList.remove( 'give-hidden' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t  } );\n\t\t  } );\n\n\tif ( donationStatus ) {\n\t\tdonationStatus.addEventListener( 'change', ( event ) => {\n\t\t\tconst paypalDonationsCheckbox = document.getElementById( 'give-paypal-commerce-opt-refund' );\n\n\t\t\tif ( null === paypalDonationsCheckbox ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpaypalDonationsCheckbox.checked = false;\n\n\t\t\t// If donation status is complete, then show refund checkbox\n\t\t\tif ( 'refunded' === event.target.value ) {\n\t\t\t\tdocument.getElementById( 'give-paypal-commerce-opt-refund-wrap' ).style.display = 'block';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById( 'give-paypal-commerce-opt-refund-wrap' ).style.display = 'none';\n\t\t\t}\n\t\t} );\n\t}\n\n\tif ( window.location.search.match( /paypal-commerce-account-connected=1/i ) ) {\n\t\tconst pciWarnings = window.givePayPalCommerce.translations.pciComplianceInstructions\n\t\t\t.map( instruction => `<li>${ instruction }</li>` )\n\t\t\t.join( '' );\n\n\t\tconst liveWarning = window.givePayPalCommerce.translations.liveWarning ?\n\t\t\t`<p class=\"give-modal__description__warning\">${ window.givePayPalCommerce.translations.liveWarning }</p>` :\n\t\t\t'';\n\n\t\t// eslint-disable-next-line no-undef\n\t\tnew Give.modal.GiveSuccessAlert( {\n\t\t\tclasses: {\n\t\t\t\tmodalWrapper: 'paypal-commerce-connect',\n\t\t\t\tcancelBtn: 'give-button--primary',\n\t\t\t},\n\t\t\tmodalContent: {\n\t\t\t\ttitle: window.givePayPalCommerce.translations.connectSuccessTitle,\n\t\t\t\tbody: `\n\t\t\t\t\t<div class=\"give-modal__description\">\n\t\t\t\t\t\t${ liveWarning }\n\t\t\t\t\t\t<p>${ window.givePayPalCommerce.translations.pciWarning }</p>\n\t\t\t\t\t\t<ul>${ pciWarnings }</ul>\n\t\t\t\t\t</div>\n\t\t\t\t`.trim(),\n\t\t\t\tcancelBtnTitle: Give.fn.getGlobalVar( 'confirm' ),\n\t\t\t},\n\t\t\tcloseOnBgClick: true\n\t\t} ).render();\n\n\t\t// Update URL in browser address without reloading the page.\n\t\tlet newUrl = Give.fn.removeURLParameter( window.location.href, 'paypal-commerce-account-connected' );\n\t\thistory.pushState( {}, '', newUrl );\n\t}\n\n\t/**\n\t * Remove error container.\n\t *\n\t * @since 2.9.6\n\t */\n\tfunction removeErrors() {\n\t\tconst errorsContainer = document.querySelector( '.paypal-message-template' );\n\n\t\tif ( errorsContainer ) {\n\t\t\terrorsContainer.parentElement.remove();\n\t\t}\n\t}\n\n\tif ( onBoardingButton ) {\n\t\tonBoardingButton.addEventListener( 'click', function( evt ) {\n\t\t\tevt.preventDefault();\n\t\t\tremoveErrors();\n\n\t\t\tconst countryCode = countryField.value;\n\t\t\tconst buttonState = {\n\t\t\t\tenable: () => {\n\t\t\t\t\tonBoardingButton.disabled = false;\n\t\t\t\t\tevt.target.innerText = onBoardingButton.getAttribute( 'data-initial-label' );\n\t\t\t\t},\n\t\t\t\tdisable: () => {\n\t\t\t\t\t// Preserve initial label.\n\t\t\t\t\tif ( ! onBoardingButton.hasAttribute( 'data-initial-label' ) ) {\n\t\t\t\t\t\tonBoardingButton.setAttribute( 'data-initial-label', onBoardingButton.innerText );\n\t\t\t\t\t}\n\n\t\t\t\t\tonBoardingButton.disabled = true;\n\t\t\t\t\tevt.target.innerText = Give.fn.getGlobalVar( 'loader_translation' ).processing;\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tbuttonState.disable();\n\n\t\t\t// Hide paypal quick help message.\n\t\t\tconst paypalErrorQuickHelp = document.getElementById( 'give-paypal-onboarding-trouble-notice' );\n\t\t\tpaypalErrorQuickHelp && paypalErrorQuickHelp.classList.add( 'give-hidden' );\n\n\t\t\tfetch( ajaxurl + `?action=give_paypal_commerce_get_partner_url&countryCode=${ countryCode }` )\n\t\t\t\t.then( response => response.json() )\n\t\t\t\t.then( function( res ) {\n\t\t\t\t\tif ( true === res.success ) {\n\t\t\t\t\t\tconst payPalLink = document.querySelector( '[data-paypal-button]' );\n\n\t\t\t\t\t\tpayPalLink.href = `${ res.data.partnerLink }&displayMode=minibrowser`;\n\t\t\t\t\t\tpayPalLink.click();\n\n\t\t\t\t\t\t// This object will check if a class added to body or not.\n\t\t\t\t\t\t// If class added that means modal opened.\n\t\t\t\t\t\t// If class removed that means modal closed.\n\t\t\t\t\t\tpaypalModalObserver.observe( document.querySelector( 'body' ), { attributes: true, childList: true } );\n\t\t\t\t\t}\n\n\t\t\t\t\tbuttonState.enable();\n\t\t\t\t} )\n\t\t\t\t.then( function() {\n\t\t\t\t\tfetch( ajaxurl + '?action=give_paypal_commerce_onboarding_trouble_notice' )\n\t\t\t\t\t\t.then( response => response.json() )\n\t\t\t\t\t\t.then( function( res ) {\n\t\t\t\t\t\t\tif ( true === res.success ) {\n\t\t\t\t\t\t\t\tfunction createElementFromHTML( htmlString ) {\n\t\t\t\t\t\t\t\t\tconst div = document.createElement( 'div' );\n\t\t\t\t\t\t\t\t\tdiv.innerHTML = htmlString.trim();\n\t\t\t\t\t\t\t\t\treturn div.firstChild;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst buttonContainer = document.querySelector( '.connect-button-wrap' );\n\t\t\t\t\t\t\t\tpaypalErrorQuickHelp && paypalErrorQuickHelp.remove();\n\t\t\t\t\t\t\t\tbuttonContainer.append( createElementFromHTML( res.data ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\treturn false;\n\t\t} );\n\t}\n\n\tif ( disconnectPayPalAccountButton ) {\n\t\tdisconnectPayPalAccountButton.addEventListener( 'click', function( evt ) {\n\t\t\tevt.preventDefault();\n\t\t\tremoveErrors();\n\n\t\t\tnew GiveConfirmModal( {\n\t\t\t\tmodalContent: {\n\t\t\t\t\ttitle: givePayPalCommerce.translations.confirmPaypalAccountDisconnection,\n\t\t\t\t\tdesc: givePayPalCommerce.translations.disconnectPayPalAccount,\n\t\t\t\t},\n\t\t\t\tsuccessConfirm: () => {\n\t\t\t\t\tconnectionSettingContainer.classList.remove( 'give-hidden' );\n\t\t\t\t\tdisConnectionSettingContainer.classList.add( 'give-hidden' );\n\t\t\t\t\tcountryField.parentElement.parentElement.classList.remove( 'hide-with-position' );\n\n\t\t\t\t\tlet billingSettingContainer = document.querySelector('label[for=\\'paypal_commerce_collect_billing_details\\']');\n\t\t\t\t\tbillingSettingContainer.parentElement.parentElement.classList.add('give-hidden');\n\n\t\t\t\t\tfetch( ajaxurl + '?action=give_paypal_commerce_disconnect_account' );\n\t\t\t\t},\n\t\t\t} ).render();\n\n\t\t\treturn false;\n\t\t} );\n\t}\n} );\n","import GiveButton from './button';\nimport ClipboardJS from 'clipboard';\n\nclass GiveShortcodeButton extends GiveButton {\n\tconstructor( element ) {\n\t\tsuper( element );\n\t\tthis.shortcode = this.root.dataset.giveShortcode;\n\t\tthis.clipboard = new ClipboardJS( this.root, {\n\t\t\ttext: function( trigger ) {\n\t\t\t\treturn trigger.dataset.giveShortcode;\n\t\t\t},\n\t\t} );\n\t\tthis.reset = this.reset.bind( this );\n\t}\n\n\tinit() {\n\t\tthis.registerEventHandlers();\n\t}\n\n\tregisterEventHandlers() {\n\t\tthis.clipboard.on( 'success', () => this.handleSuccessClick() );\n\t\tthis.clipboard.on( 'error', () => this.handleErrorClick() );\n\t}\n\n\thandleSuccessClick( event ) {\n\t\tthis.updateIcon( 'dashicons dashicons-yes' );\n\t\tthis.root.setAttribute( 'aria-label', give_vars.copied );\n\t\tthis.root.addEventListener( 'mouseout', this.reset );\n\t}\n\n\thandleErrorClick( event ) {\n\t\tthis.updateIcon( 'dashicons dashicons-warning' );\n\t\tthis.root.setAttribute( 'aria-label', 'Shortcode could not be copied.' );\n\t}\n\n\treset( event ) {\n\t\tthis.updateIcon( 'dashicons dashicons-admin-page' );\n\t\tthis.root.setAttribute( 'aria-label', this.shortcode );\n\t\tthis.root.removeEventListener( 'mouseout', this.reset );\n\t}\n}\n\nexport { GiveShortcodeButton };\n","/**\n * Give - Stripe Core Admin JS\n *\n * @since 2.5.0\n */\nimport { __, sprintf } from '@wordpress/i18n'\n\nimport '../../../../src/PaymentGateways/resources/js/stripe-account-manager/set-default-account-action'\nimport '../../../../src/PaymentGateways/resources/js/stripe-account-manager/disconnect-stripe-account-action'\nimport '../../../../src/PaymentGateways/resources/js/stripe-account-manager/customize-stripe-account-validation'\n\nwindow.addEventListener( 'DOMContentLoaded', function() {\n\tconst stripeFonts = document.querySelectorAll( 'input[name=\"stripe_fonts\"]' );\n\tconst stripeStylesBase = document.getElementById( 'stripe_styles_base' );\n\tconst stripeStylesEmpty = document.getElementById( 'stripe_styles_empty' );\n\tconst stripeStylesInvalid = document.getElementById( 'stripe_styles_invalid' );\n\tconst stripeStylesComplete = document.getElementById( 'stripe_styles_complete' );\n\tconst stripeCustomFonts = document.getElementById( 'stripe_custom_fonts' );\n\tconst donationStatus = document.getElementById( 'give-payment-status' );\n\tconst checkoutTypes = document.querySelectorAll( 'input[name=\"stripe_checkout_type\"]' );\n\tconst legacyCheckoutFields = Array.from( document.querySelectorAll( '.stripe-checkout-field' ) );\n\tconst stripeConnectedElement = document.getElementById( 'give-stripe-connected' );\n\tconst hideIconElements = Array.from( document.querySelectorAll( 'input[name=\"stripe_hide_icon\"]' ) );\n\tconst iconStyleElement = document.querySelector( '.stripe-icon-style' );\n\tconst hideMandateElements = Array.from( document.querySelectorAll( ' input[name=\"stripe_mandate_acceptance_option\"]' ) );\n\tconst mandateElement = document.querySelector( '.stripe-mandate-acceptance-text' );\n\tconst hideBecsIconElements = Array.from( document.querySelectorAll( 'input[name=\"stripe_becs_hide_icon\"]' ) );\n\tconst becsIconStyleElement = document.querySelector( '.stripe-becs-icon-style' );\n\tconst hideBecsMandateElements = Array.from( document.querySelectorAll( ' input[name=\"stripe_becs_mandate_acceptance_option\"]' ) );\n\tconst mandateBecsElement = document.querySelector( '.stripe-becs-mandate-acceptance-text' );\n\tconst perFormOptions = Array.from( document.querySelectorAll( 'input[name=\"give_stripe_per_form_accounts\"]' ) );\n\tconst perFormAccount = document.querySelector( '.give-stripe-manage-account-options' );\n\tconst creditCardFieldFormatOptions = document.querySelectorAll('#give-settings-section-group-credit-card .give-stripe-cc-option-field')\n\tconst editStripeStatementDescriptor = document.querySelectorAll('#give-settings-section-group-accounts .give-stripe-edit-statement-descriptor-btn')\n\n\t// These fn calls will JSON format the text areas for Stripe fields stylings under Advanced tab.\n\tgiveStripeJsonFormattedTextarea( stripeStylesBase );\n\tgiveStripeJsonFormattedTextarea( stripeStylesEmpty );\n\tgiveStripeJsonFormattedTextarea( stripeStylesInvalid );\n\tgiveStripeJsonFormattedTextarea( stripeStylesComplete );\n\tgiveStripeJsonFormattedTextarea( stripeCustomFonts );\n\n\t/**\n\t * Show/Hide Per-Form fields\n\t *\n\t * When a user want to add per-form Stripe account, this code toggles the Stripe account list on clicking 'Customize'.\n\t *\n\t * @since 2.7.0\n\t */\n\tif ( null !== perFormOptions ) {\n\t\tlet perFormOptionFieldContainers = document.querySelectorAll('#stripe_form_account_options .give-stripe-per-form-option-field');\n\n\t\tperFormOptions.forEach( ( formOption ) => {\n\t\t\tformOption.addEventListener( 'change', ( e ) => {\n\t\t\t\tperFormOptionFieldContainers.forEach( el => {\n\t\t\t\t\tel.classList.remove('give-stripe-boxshadow-option-wrap__selected')\n\t\t\t\t\tel.querySelector('input[name=\"give_stripe_per_form_accounts\"]').setAttribute( 'checked', '' );\n\t\t\t\t} );\n\n\t\t\t\te.target.parentElement.parentElement.classList.add('give-stripe-boxshadow-option-wrap__selected');\n\t\t\t\te.target.setAttribute( 'checked', 'checked' );\n\n\t\t\t\tif ( 'enabled' === e.target.value ) {\n\t\t\t\t\tperFormAccount.classList.remove( 'give-hidden' );\n\t\t\t\t} else {\n\t\t\t\t\tperFormAccount.classList.add( 'give-hidden' );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Show/Hide SEPA Icon Style Settings.\n\t *\n\t * This will show/hide the Icon Style settings for SEPA.\n\t */\n\tif ( null !== hideIconElements ) {\n\t\thideIconElements.forEach( ( hideIconElement ) => {\n\t\t\thideIconElement.addEventListener( 'change', ( e ) => {\n\t\t\t\tif ( 'enabled' === e.target.value ) {\n\t\t\t\t\ticonStyleElement.classList.remove( 'give-hidden' );\n\t\t\t\t} else {\n\t\t\t\t\ticonStyleElement.classList.add( 'give-hidden' );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Show/Hide Mandate Textarea Settings for SEPA.\n\t *\n\t * This will show/hide the Mandate Textarea settings for SEPA.\n\t */\n\tif ( null !== hideMandateElements ) {\n\t\thideMandateElements.forEach( ( hideIconElement ) => {\n\t\t\thideIconElement.addEventListener( 'change', ( e ) => {\n\t\t\t\tif ( 'enabled' === e.target.value ) {\n\t\t\t\t\tmandateElement.classList.remove( 'give-hidden' );\n\t\t\t\t} else {\n\t\t\t\t\tmandateElement.classList.add( 'give-hidden' );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Show/Hide BECS Icon Style Settings.\n\t *\n\t * This will show/hide the Icon Style settings for BECS.\n\t */\n\tif ( null !== hideBecsIconElements ) {\n\t\thideBecsIconElements.forEach( ( hideIconElement ) => {\n\t\t\thideIconElement.addEventListener( 'change', ( e ) => {\n\t\t\t\tif ( 'enabled' === e.target.value ) {\n\t\t\t\t\tbecsIconStyleElement.classList.remove( 'give-hidden' );\n\t\t\t\t} else {\n\t\t\t\t\tbecsIconStyleElement.classList.add( 'give-hidden' );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Show/Hide Mandate Textarea Settings for BECS.\n\t *\n\t * This will show/hide the Mandate Textarea settings for BECS.\n\t */\n\tif ( null !== hideBecsMandateElements ) {\n\t\thideBecsMandateElements.forEach( ( hideIconElement ) => {\n\t\t\thideIconElement.addEventListener( 'change', ( e ) => {\n\t\t\t\tif ( 'enabled' === e.target.value ) {\n\t\t\t\t\tmandateBecsElement.classList.remove( 'give-hidden' );\n\t\t\t\t} else {\n\t\t\t\t\tmandateBecsElement.classList.add( 'give-hidden' );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\tif ( null !== stripeConnectedElement ) {\n\t\tconst stripeStatus = stripeConnectedElement.getAttribute( 'data-status' );\n\t\tconst redirectUrl = stripeConnectedElement.getAttribute( 'data-redirect-url' );\n\t\tconst canDisplay = stripeConnectedElement.getAttribute( 'data-display' );\n\t\tconst modalTitle = stripeConnectedElement.getAttribute( 'data-title' );\n\t\tconst modalFirstDetail = stripeConnectedElement.getAttribute( 'data-first-detail' );\n\t\tconst modalSecondDetail = stripeConnectedElement.getAttribute( 'data-second-detail' );\n\n\t\tif ( 'connected' === stripeStatus && '0' === canDisplay ) {\n\t\t\tnew Give.modal.GiveConfirmModal(\n\t\t\t\t{\n\t\t\t\t\tmodalWrapper: 'give-stripe-connected-modal give-modal--success',\n\t\t\t\t\ttype: 'confirm',\n\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\ttitle: modalTitle,\n\t\t\t\t\t\tdesc: `<span>${ modalFirstDetail }</span><span class=\"give-field-description\">${ modalSecondDetail }</span>`,\n\t\t\t\t\t},\n\t\t\t\t\tsuccessConfirm: function( args ) {\n\t\t\t\t\t\twindow.location.href = redirectUrl;\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t).render();\n\n\t\t\tstripeConnectedElement.setAttribute( 'data-display', '1' );\n\t\t\thistory.pushState( { urlPath: redirectUrl }, '', redirectUrl );\n\t\t}\n\t}\n\n\tif ( null !== checkoutTypes ) {\n\t\tcheckoutTypes.forEach( ( checkoutType ) => {\n\t\t\tcheckoutType.addEventListener( 'change', ( e ) => {\n\t\t\t\tif ( 'modal' === e.target.value ) {\n\t\t\t\t\tlegacyCheckoutFields.map( field => field.classList.remove( 'give-hidden' ) );\n\t\t\t\t} else {\n\t\t\t\t\tlegacyCheckoutFields.map( field => field.classList.add( 'give-hidden' ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\tif ( null !== donationStatus ) {\n\t\tdonationStatus.addEventListener( 'change', ( event ) => {\n\t\t\tconst stripeCheckbox = document.getElementById( 'give-stripe-opt-refund' );\n\n\t\t\tif ( null === stripeCheckbox ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstripeCheckbox.checked = false;\n\n\t\t\t// If donation status is complete, then show refund checkbox\n\t\t\tif ( 'refunded' === event.target.value ) {\n\t\t\t\tdocument.getElementById( 'give-stripe-opt-refund-wrap' ).style.display = 'block';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById( 'give-stripe-opt-refund-wrap' ).style.display = 'none';\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Toggle based on selection of stripe fonts admin settings.\n\tif ( null !== stripeFonts ) {\n\t\tstripeFonts.forEach( ( element ) => {\n\t\t\tconst stripeGoogleFontsWrap = document.querySelector( '.give-stripe-google-fonts-wrap' );\n\t\t\tconst stripeCustomFontsWrap = document.querySelector( '.give-stripe-custom-fonts-wrap' );\n\n\t\t\telement.addEventListener( 'change', ( event ) => {\n\t\t\t\tif ( 'custom_fonts' === event.target.value ) {\n\t\t\t\t\tstripeGoogleFontsWrap.style.display = 'none';\n\t\t\t\t\tstripeCustomFontsWrap.style.display = 'table-row';\n\t\t\t\t} else if ( 'google_fonts' === event.target.value ) {\n\t\t\t\t\tstripeGoogleFontsWrap.style.display = 'table-row';\n\t\t\t\t\tstripeCustomFontsWrap.style.display = 'none';\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Click on hidden checkbox value when select on credit card format type.\n\t *\n\t * @since 2.14.0\n\t */\n\tif( creditCardFieldFormatOptions.length ) {\n\t\tcreditCardFieldFormatOptions.forEach(function( inputFieldContainer ){\n\t\t\tinputFieldContainer.addEventListener('click', function (){\n\t\t\t\tcreditCardFieldFormatOptions.forEach(function(container){\n\t\t\t\t\tcontainer.classList.remove('give-stripe-boxshadow-option-wrap__selected');\n\t\t\t\t\tcontainer.querySelector('input[name=\"stripe_cc_fields_format\"]').setAttribute( 'checked', '' );\n\t\t\t\t})\n\n\t\t\t\tinputFieldContainer.querySelector('input[name=\"stripe_cc_fields_format\"]')\n\t\t\t\t\t.setAttribute( 'checked', 'checked' );\n\t\t\t\tinputFieldContainer.classList.add('give-stripe-boxshadow-option-wrap__selected');\n\t\t\t})\n\t\t})\n\t}\n\n    if (editStripeStatementDescriptor.length) {\n        let formTemplate = `\n            <input type=\"text\" minlength=\"5\" maxlength=\"22\">\n            <button class=\"button-primary\" disabled>${__('Save', 'give')}</button>\n            <button class=\"button-secondary\">${__('Cancel', 'give')}</button>`;\n\n        // Statement descriptor text will be validate on basis of Stripe requirements.\n        // Read more about requirements: https://stripe.com/docs/statement-descriptors#requirements\n        let isValidaStatementDescriptor =  ( text ) => {\n            if(\n                22 < text.length ||\n                text.length < 5 ||\n                ! isNaN(text)\n            ){\n                return false;\n            }\n\n            return 0 === text.split('')\n                .filter( (char) => ['*', '\\'', '\"', '\\\\', '<', '>'].includes(char) ).length\n        }\n\n        editStripeStatementDescriptor.forEach((actionLink) => {\n            actionLink.addEventListener(\n                'click',\n                (e) => {\n                    e.preventDefault();\n\n                    let container = actionLink.closest('.give-stripe-connect-data-field'),\n                        containerDisplayStylePropertyValue = container.style.display;\n\n                    // Enable statement descriptor editing mode.\n                    container.insertAdjacentHTML('afterend', formTemplate);\n                    container.style.display = 'none';\n\n                    let inputField = container.nextElementSibling,\n                        saveButton = inputField.nextElementSibling,\n                        cancelButton = saveButton.nextElementSibling;\n\n                    // Add style.\n                    inputField.value = container.childNodes[0].nodeValue.trim();\n                    inputField.style.display = 'block';\n                    inputField.style.marginBottom = '10px';\n                    saveButton.style.marginRight = '5px';\n\n                    // Add events.\n                    inputField.addEventListener(\n                        'keyup',\n                        (e) => {\n                            let newStatementDescriptor = inputField.value.trim(),\n                                savedStatementDescriptor = container.childNodes[0].nodeValue.trim();\n\n                            if (\n                                !newStatementDescriptor ||\n                                newStatementDescriptor === savedStatementDescriptor) {\n                                saveButton.disabled = true;\n                                return;\n                            }\n\n                            saveButton.disabled = false;\n                        }\n                    );\n\n                    cancelButton.addEventListener(\n                        'click',\n                        (e) => {\n                            e.preventDefault();\n\n                            inputField.remove();\n                            saveButton.remove();\n                            cancelButton.remove();\n\n                            container.style.display = containerDisplayStylePropertyValue;\n                        });\n\n                    saveButton.addEventListener(\n                        'click',\n                        (e) => {\n                            e.preventDefault();\n\n                            let newStatementDescriptorText = inputField.value.trim();\n                            let actionUrl = `${container.getAttribute('data-action-url')}&statement-descriptor=${encodeURIComponent(newStatementDescriptorText)}`\n\n                            if( ! isValidaStatementDescriptor(newStatementDescriptorText) ) {\n                                new Give.modal.GiveErrorAlert({\n                                    modalContent:{\n                                        title: __( 'Invalid Statement Descriptor Text', 'give'),\n                                        desc: sprintf(\n                                            '%s <br>%s <br>- %s<br>- %s<br>- %s<br>- %s<br><br><a href=\"%s\" target=\"_blank\">%s</a>',\n                                            __( 'Please enter a valid Stripe statement descriptor.', 'give'),\n                                            __( 'List of important Stripe statement descriptor text requirements:', 'give'),\n                                            __( 'Contains only Latin characters.', 'give'),\n                                            __( 'Contains between 5 and 22 characters, inclusive.', 'give'),\n                                            __( 'Contains at least one letter.', 'give'),\n                                            __( 'Does not contain any of the special characters < > \\\\ \\' \" *.', 'give'),\n                                            'https://stripe.com/docs/statement-descriptors#requirements',\n                                            __( 'Read more about stripe statement descriptor text requirements.', 'give'),\n                                        ),\n                                    }\n                                }).render();\n                                return;\n                            }\n\n                            fetch(actionUrl)\n                                .then(response => response.json())\n                                .then(response => {\n                                    if( ! response.success ){\n                                        new Give.modal.GiveErrorAlert({\n                                            modalContent:{\n                                                title: __( 'Invalid Stripe Statement Descriptor Text', 'give'),\n                                                desc: sprintf(\n                                                    '%s %s<br><br><a href=\"%s\" target=\"_blank\">%s</a>',\n                                                    __( 'We are unable to update Stripe statement descriptor.', 'give'),\n                                                    response.data.errorMessage,\n                                                    'https://stripe.com/docs/statement-descriptors#requirements',\n                                                    __( 'Read more about stripe statement descriptor text requirements.', 'give'),\n                                                ),\n                                            }\n                                        }).render();\n\n                                        return;\n                                    }\n\n                                    // Update complete. Add new text for display and exit editing mode.\n                                    container.childNodes[0].nodeValue = newStatementDescriptorText\n                                    cancelButton.click();\n                                });\n                        });\n                })\n        })\n    }\n} );\n\n/**\n * This function will help to beautify JSON data.\n *\n * @param element\n * @param value\n *\n * @since 2.5.0\n */\nfunction giveStripePrettyJson( element, value ) {\n\tlet jsonData = '';\n\tconst saveButton = document.querySelector( '.give-save-button' );\n\n\ttry {\n\t\tjsonData = JSON.parse( value );\n\t\telement.value = JSON.stringify( jsonData, undefined, 2 );\n\t\telement.style.border = 'none';\n\t\tsaveButton.removeAttribute( 'disabled' );\n\t} catch ( e ) {\n\t\telement.style.border = '1px solid red';\n\t\tsaveButton.setAttribute( 'disabled', 'disabled' );\n\t}\n}\n\n/**\n * This will trigger textarea to validate json formatted input.\n *\n * @param element\n *\n * @since 2.5.0\n */\nfunction giveStripeJsonFormattedTextarea( element ) {\n\tif ( null !== element ) {\n\t\tgiveStripePrettyJson( element, element.value );\n\n\t\telement.addEventListener( 'blur', ( event ) => {\n\t\t\tgiveStripePrettyJson( element, event.target.value );\n\t\t} );\n\t}\n}\n","/* globals jQuery, Give */\n/**\n * This function use to initialize chosen js on select fields.\n *\n * Note: only for internal use. This can be updated or removed in the future.\n *\n * @since 2.7.0\n * @param $els\n */\nexport default function setupChosen( $els ) {\n\t// Add loader with each input field.\n\t$els.on( 'chosen:ready', function() {\n\t\tjQuery( this ).next( '.chosen-container' )\n\t\t\t.find( 'input.chosen-search-input' )\n\t\t\t.after( '<span class=\"spinner\"></span>' );\n\t} );\n\n\t// Initiate chosen.\n\t$els.chosen( {\n\t\tinherit_select_classes: true,\n\t\tplaceholder_text_single: Give.fn.getGlobalVar( 'one_option' ),\n\t\tplaceholder_text_multiple: Give.fn.getGlobalVar( 'one_or_more_option' ),\n\t} );\n\n\t// No results returned from search trigger.\n\t$els.on( 'chosen:no_results', function() {\n\t\tlet $container = jQuery( this ).next( '.chosen-container' ),\n\t\t\t$no_results_li = $container.find( 'li.no-results' ),\n\t\t\terror_string = '';\n\n\t\tconst ajax_msg = Give.fn.getGlobalVar( 'chosen' );\n\t\tif ( $container.hasClass( 'give-select-chosen-ajax' ) && $no_results_li.length ) {\n\t\t\terror_string = ajax_msg.ajax_search_msg.replace( '{search_term}', '\"' + jQuery( 'input', $container ).val() + '\"' );\n\t\t} else {\n\t\t\terror_string = ajax_msg.no_results_msg.replace( '{search_term}', '\"' + jQuery( 'input', $container ).val() + '\"' );\n\t\t}\n\n\t\t$no_results_li.html( error_string );\n\n\t\t// Variables for setting up the typing timer.\n\t\tconst doneTypingInterval = 342; // Time in ms, Slow - 521ms, Moderate - 342ms, Fast - 300ms.\n\n\t\t// Replace options with search results.\n\t\tjQuery( document.body ).on( 'keyup', '.give-select.chosen-container .chosen-search input, .give-select.chosen-container .search-field input', function( e ) {\n\t\t\tlet val = jQuery( this ).val(),\n\t\t\t\t$container = jQuery( this ).closest( '.give-select-chosen' ),\n\t\t\t\tselect = $container.prev(),\n\t\t\t\t$search_field = $container.find( 'input[type=\"text\"]' ),\n\t\t\t\tvariations = $container.hasClass( 'variations' ),\n\t\t\t\tlastKey = e.which,\n\t\t\t\tsearch_type = 'give_form_search',\n\t\t\t\t$this = this;\n\n\t\t\t// Detect if we have a defined search type, otherwise default to donation forms.\n\t\t\tif ( $container.prev().data( 'search-type' ) ) {\n\t\t\t\t// Don't trigger AJAX if this select has all options loaded.\n\t\t\t\tif ( 'no_ajax' === select.data( 'search-type' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsearch_type = 'give_' + select.data( 'search-type' ) + '_search';\n\t\t\t}\n\n\t\t\t// Don't fire if short or is a modifier key (shift, ctrl, apple command key, or arrow keys).\n\t\t\tif (\n\t\t\t\t( val.length > 0 && val.length <= 3 ) ||\n\t\t\t\t! search_type.length ||\n\t\t\t\t(\n\t\t\t\t\t( 9 === lastKey ) || // Tab.\n\t\t\t\t\t( 13 === lastKey ) || // Enter.\n\t\t\t\t\t( 16 === lastKey ) || // Shift.\n\t\t\t\t\t( 17 === lastKey ) || // Ctrl.\n\t\t\t\t\t( 18 === lastKey ) || // Alt.\n\t\t\t\t\t( 19 === lastKey ) || // Pause, Break.\n\t\t\t\t\t( 20 === lastKey ) || // CapsLock.\n\t\t\t\t\t( 27 === lastKey ) || // Esc.\n\t\t\t\t\t( 33 === lastKey ) || // Page Up.\n\t\t\t\t\t( 34 === lastKey ) || // Page Down.\n\t\t\t\t\t( 35 === lastKey ) || // End.\n\t\t\t\t\t( 36 === lastKey ) || // Home.\n\t\t\t\t\t( 37 === lastKey ) || // Left arrow.\n\t\t\t\t\t( 38 === lastKey ) || // Up arrow.\n\t\t\t\t\t( 39 === lastKey ) || // Right arrow.\n\t\t\t\t\t( 40 === lastKey ) || // Down arrow.\n\t\t\t\t\t( 44 === lastKey ) || // PrntScrn.\n\t\t\t\t\t( 45 === lastKey ) || // Insert.\n\t\t\t\t\t( 144 === lastKey ) || // NumLock.\n\t\t\t\t\t( 145 === lastKey ) || // ScrollLock.\n\t\t\t\t\t( 91 === lastKey ) || // WIN Key (Start).\n\t\t\t\t\t( 93 === lastKey ) || // WIN Menu.\n\t\t\t\t\t( 224 === lastKey ) || // Command key.\n\t\t\t\t\t( 112 <= lastKey && 123 >= lastKey ) // F1 to F12 lastKey.\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout( Give.cache.chosenSearchTypingTimer );\n\t\t\t$container.addClass( 'give-select-chosen-ajax' );\n\n\t\t\tGive.cache.chosenSearchTypingTimer = setTimeout(\n\t\t\t\tfunction() {\n\t\t\t\t\tjQuery.ajax( {\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: search_type,\n\t\t\t\t\t\t\ts: val,\n\t\t\t\t\t\t\tfields: jQuery( $this ).closest( 'form' ).serialize(),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\tselect.closest( 'ul.chosen-results' ).empty();\n\t\t\t\t\t\t\t$search_field.prop( 'disabled', true );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\t$container.removeClass( 'give-select-chosen-ajax' );\n\n\t\t\t\t\t\t\t// Remove all options but those that are selected.\n\t\t\t\t\t\t\tjQuery( 'option:not(:selected)', select ).remove();\n\n\t\t\t\t\t\t\tif ( data.length ) {\n\t\t\t\t\t\t\t\tjQuery.each( data, function( key, item ) {\n\t\t\t\t\t\t\t\t\t// Add any option that doesn't already exist.\n\t\t\t\t\t\t\t\t\tif ( ! jQuery( 'option[value=\"' + item.id + '\"]', select ).length ) {\n\t\t\t\t\t\t\t\t\t\tif ( 0 === val.length ) {\n\t\t\t\t\t\t\t\t\t\t\tselect.append( `<option value=\"${ item.id }\">${ item.name }</option>` );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tselect.prepend( `<option value=\"${ item.id }\">${ item.name }</option>` );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t// Trigger update event.\n\t\t\t\t\t\t\t\t$container.prev( 'select.give-select-chosen' ).trigger( 'chosen:updated' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Trigger no result message event.\n\t\t\t\t\t\t\t\t$container.prev( 'select.give-select-chosen' ).trigger( 'chosen:no_results' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Ensure the original query is retained within the search input.\n\t\t\t\t\t\t\t$search_field.prop( 'disabled', false );\n\t\t\t\t\t\t\t$search_field.val( val ).focus();\n\t\t\t\t\t\t},\n\t\t\t\t\t} ).fail( function( response ) {\n\t\t\t\t\t\tif ( window.console && window.console.log ) {\n\t\t\t\t\t\t\tconsole.log( response );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ).done( function( response ) {\n\t\t\t\t\t\t$search_field.prop( 'disabled', false );\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\tdoneTypingInterval\n\t\t\t);\n\t\t} );\n\n\t\tjQuery( '.give-select-chosen .chosen-search input' ).each( function() {\n\t\t\tlet type = jQuery( this ).parent().parent().parent().prev( 'select.give-select-chosen' ).data( 'search-type' );\n\t\t\tlet placeholder = '';\n\n\t\t\tif ( 'form' === type ) {\n\t\t\t\tplaceholder = Give.fn.getGlobalVar( 'search_placeholder' );\n\t\t\t} else {\n\t\t\t\ttype = 'search_placeholder_' + type;\n\t\t\t\tif ( Give.fn.getGlobalVar( type ) ) {\n\t\t\t\t\tplaceholder = Give.fn.getGlobalVar( type );\n\t\t\t\t}\n\t\t\t}\n\t\t\tjQuery( this ).attr( 'placeholder', placeholder );\n\t\t} );\n\t} );\n}\n","( function( globalSope ) {\n\t'use strict';\n\n\t/**\n     * Including this file adds the `addDynamicListener` to the ELement prototype.\n     *\n     * The dynamic listener gets an extra `selector` parameter that only calls the callback\n     * if the target element matches the selector.\n     *\n     * The listener has to be added to the container/root element and the selector should match\n     * the elements that should trigger the event.\n     *\n     * Browser support: IE9+\n     */\n\n\t// Polyfil Element.matches\n\t// https://developer.mozilla.org/en/docs/Web/API/Element/matches#Polyfill\n\tif ( ! Element.prototype.matches ) {\n\t\tElement.prototype.matches =\n            Element.prototype.matchesSelector ||\n            Element.prototype.mozMatchesSelector ||\n            Element.prototype.msMatchesSelector ||\n            Element.prototype.oMatchesSelector ||\n            Element.prototype.webkitMatchesSelector ||\n            function( s ) {\n            \tlet matches = ( this.document || this.ownerDocument ).querySelectorAll( s ),\n            \t\ti = matches.length;\n            \twhile ( --i >= 0 && matches.item( i ) !== this ) {}\n            \treturn i > -1;\n            };\n\t}\n\n\t/**\n     * Returns a modified callback function that calls the\n     * initial callback function only if the target element matches the given selector\n     *\n     * @param {string} selector\n     * @param {function} callback\n     */\n\tfunction getConditionalCallback( selector, callback ) {\n\t\treturn function( e ) {\n\t\t\tif ( ! e.target ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ! e.target.matches( selector ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcallback.apply( this, arguments );\n\t\t};\n\t}\n\n\t/**\n     *\n     *\n     * @param {Element} rootElement The root element to add the linster too.\n     * @param {string} eventType The event type to listen for.\n     * @param {string} selector The selector that should match the dynamic elements.\n     * @param {function} callback The function to call when an event occurs on the given selector.\n     * @param {boolean|object} options Passed as the regular `options` parameter to the addEventListener function\n     *                                 Set to `true` to use capture.\n     *                                 Usually used as an object to add the listener as `passive`\n     */\n\tglobalSope.addDynamicEventListener = function( rootElement, eventType, selector, callback, options ) {\n\t\trootElement.addEventListener( eventType, getConditionalCallback( selector, callback ), options );\n\t};\n}( window ) );\n","/* globals Give */\n\nimport { iframeResize } from 'iframe-resizer';\n\n/**\n * Initialize iframe resizer on iframe.\n *\n * @since 2.7.0\n * @param {object} iframe Iframe object.\n *\n * @return {object} iframeResize object.\n */\nexport const initializeIframeResize = function( iframe ) {\n\treturn new iframeResize(\n\t\t{\n\t\t\tlog: false,\n\t\t\tsizeWidth: true,\n\t\t\tcheckOrigin: [ window.location.origin ],\n\t\t\theightCalculationMethod: 'documentElementOffset',\n\t\t\twidthCalculationMethod: 'documentElementOffset',\n\t\t\tonMessage: function( messageData ) {\n\t\t\t\tlet parent = iframe.parentElement;\n\t\t\t\tif ( iframe.parentElement.classList.contains( 'modal-content' ) ) {\n\t\t\t\t\tparent = parent.parentElement.parentElement;\n\t\t\t\t}\n\n\t\t\t\tswitch ( messageData.message.action ) {\n\t\t\t\t\tcase 'giveEmbedFormContentLoaded':\n\t\t\t\t\t\tconst timer = setTimeout( function() {\n\t\t\t\t\t\t\trevealIframe();\n\t\t\t\t\t\t}, 400 );\n\n\t\t\t\t\t\t// Attribute to dom when iframe loaded.\n\t\t\t\t\t\tiframe.setAttribute( 'data-contentLoaded', '1' );\n\n\t\t\t\t\t\tfunction revealIframe() {\n\t\t\t\t\t\t\tclearTimeout( timer );\n\t\t\t\t\t\t\tparent.querySelector( '.iframe-loader' ).style.opacity = 0;\n\t\t\t\t\t\t\tparent.querySelector( '.iframe-loader' ).style.transition = 'opacity 0.2s ease';\n\t\t\t\t\t\t\tiframe.style.visibility = 'visible';\n\t\t\t\t\t\t\tiframe.style.minHeight = '';\n\t\t\t\t\t\t\tparent.style.height = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'giveScrollIframeInToView':\n\t\t\t\t\t\tiframe.scrollIntoView( { behavior: 'smooth', inline: 'nearest' } );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonInit: function() {\n\t\t\t\tconst parent = iframe.parentElement;\n\t\t\t\t// Set iframe width to parent window inner width\n\t\t\t\twindow.top.addEventListener( 'resize', function() {\n\t\t\t\t\tiframe.style.width = window.top.innerWidth + 'px';\n\t\t\t\t} );\n\n\t\t\t\tlet parentUnload = false;\n\t\t\t\twindow.addEventListener( 'beforeunload', function() {\n\t\t\t\t\tparentUnload = true;\n\t\t\t\t} );\n\n\t\t\t\tiframe.contentWindow.addEventListener( 'beforeunload', function() {\n\t\t\t\t\tif ( parentUnload === false ) {\n\t\t\t\t\t\tiframe.scrollIntoView( { behavior: 'smooth', inline: 'nearest' } );\n\t\t\t\t\t\tiframe.parentElement.querySelector( '.iframe-loader' ).style.opacity = 1;\n\t\t\t\t\t\tiframe.parentElement.querySelector( '.iframe-loader' ).style.transition = '';\n\t\t\t\t\t\tiframe.style.visibility = 'hidden';\n\t\t\t\t\t\tparent.style.height = '700px';\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tiframe.iFrameResizer.sendMessage( {\n\t\t\t\t\tcurrentPage: Give.fn.removeURLParameter( window.location.href, 'giveDonationAction' ),\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\tiframe\n\t);\n};\n","/**\n * Note: This script is under development. We are using this inside core only and can be update in future. Currently uses only for admin purpose.\n */\n( function( $ ) {\n\t'use strict';\n\n\t$.extend( {\n\t\tgiveAjaxifyFields: function( customSettings ) {\n\t\t\tlet $countryField,\n\t\t\t\t$parentWrapper,\n\t\t\t\tdefaultSettings = {\n\n\t\t\t\t\t// Supported types: country_state.\n\t\t\t\t\ttype: '',\n\n\t\t\t\t\t// Define these setting only if type set to country_state.\n\t\t\t\t\tparentWrapper: 'form',\n\t\t\t\t\tcountryFieldName: 'country',\n\t\t\t\t\tstateFieldName: 'state',\n\t\t\t\t\tstateFieldWrapper: '.give-field-wrap',\n\t\t\t\t\tchosenState: true,\n\t\t\t\t};\n\n\t\t\tconst settings = $.extend( {}, defaultSettings, ( customSettings || {} ) );\n\n\t\t\tswitch ( settings.type ) {\n\t\t\t\tcase 'country_state':\n\t\t\t\t\t$countryField = $( 'select[name=\"' + settings.countryFieldName + '\"]' );\n\t\t\t\t\t$parentWrapper = $countryField.closest( settings.parentWrapper );\n\n\t\t\t\t\t// Bailout.\n\t\t\t\t\tif (\n\t\t\t\t\t\t! $countryField.length ||\n\t\t\t\t\t\t'Country_state' === $countryField.data( 'give-ajaxify-field' )\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set data attribute.\n\t\t\t\t\t$countryField.data( 'give-ajaxify-field', 'country_state' );\n\n\t\t\t\t\t// Update base state field based on selected base country\n\t\t\t\t\t$countryField.change( function() {\n\t\t\t\t\t\tlet $this = $( this ),\n\t\t\t\t\t\t\t$stateField = $this.closest( settings.parentWrapper )\n\t\t\t\t\t\t\t\t.find( '[name=\"' + settings.stateFieldName + '\"]' ),\n\t\t\t\t\t\t\t$stateFieldWrapper = $stateField.closest( settings.stateFieldWrapper ),\n\t\t\t\t\t\t\t$stateFieldLabel = $( 'label', $stateFieldWrapper );\n\n\t\t\t\t\t\t// If state does not has wrapper then find it's label\n\t\t\t\t\t\tif ( ! settings.stateFieldWrapper ) {\n\t\t\t\t\t\t\t$stateFieldLabel = $( 'label[for=\"' + settings.stateFieldName + '\"]', $parentWrapper );\n\t\t\t\t\t\t\t$stateFieldWrapper = $stateField.parent();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst data = {\n\t\t\t\t\t\t\taction: 'give_get_states',\n\t\t\t\t\t\t\tcountry: $this.val(),\n\t\t\t\t\t\t\tfield_name: settings.stateFieldName,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$.post( ajaxurl, data, function( response ) {\n\t\t\t\t\t\t\t// Bailout.\n\t\t\t\t\t\t\tif ( ! response.show_field ) {\n\t\t\t\t\t\t\t\tif ( settings.stateFieldWrapper ) {\n\t\t\t\t\t\t\t\t\t$stateFieldWrapper.addClass( 'give-hidden' );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$stateField.addClass( 'give-hidden' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( $stateFieldLabel.length ) {\n\t\t\t\t\t\t\t\t$stateFieldLabel.text( response.states_label );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( settings.chosenState ) {\n\t\t\t\t\t\t\t\t$stateField.chosen( 'destroy' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Show field.\n\t\t\t\t\t\t\tif ( settings.stateFieldWrapper ) {\n\t\t\t\t\t\t\t\t$stateFieldWrapper.removeClass( 'give-hidden' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$stateField.removeClass( 'give-hidden' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof ( response.states_found ) !== undefined &&\n\t\t\t\t\t\t\t\ttrue === response.states_found\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t// Update html.\n\t\t\t\t\t\t\t\t$stateField.replaceWith( response.data );\n\n\t\t\t\t\t\t\t\t// Update selector.\n\t\t\t\t\t\t\t\t$stateField = $( '[name=\"' + settings.stateFieldName + '\"]', $stateFieldWrapper );\n\n\t\t\t\t\t\t\t\t// Reset chosenState\n\t\t\t\t\t\t\t\tif ( settings.chosenState ) {\n\t\t\t\t\t\t\t\t\t$stateField.chosen();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$stateField.replaceWith( '<input type=\"text\" name=\"' + settings.stateFieldName + '\" value=\"' + response.default_state + '\" class=\"medium-text\"/>' );\n\n\t\t\t\t\t\t\t\t// Update selector.\n\t\t\t\t\t\t\t\t$stateField = $( '[name=\"' + settings.stateFieldName + '\"]', $stateFieldWrapper );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t} );\n}( jQuery ) );\n","/* global give_global_vars, jQuery */\nimport GiveNotice from './notice';\nimport GiveForm from './form';\nimport GiveDonor from './donor';\nimport GiveUtil from './util';\nimport GiveShare from './share';\nimport accounting from 'accounting';\n\n/**\n *  This API is under development.\n *\n *  Currently used only for internal purpose.\n */\nconst Give = {\n\tinit: function() {\n\t\tlet subHelperObjs = [ 'form' ],\n\t\t\tcounter = 0;\n\t\tjQuery( document ).trigger( 'give:preInit' );\n\n\t\t// Initialize all init methods of sub helper objects.\n\t\twhile ( counter < subHelperObjs.length ) {\n\t\t\tif ( !! Give[ subHelperObjs[ counter ] ].init ) {\n\t\t\t\tGive[ subHelperObjs[ counter ] ].init();\n\t\t\t}\n\t\t\tcounter++;\n\t\t}\n\n\t\tjQuery( document ).trigger( 'give:postInit' );\n\t},\n\n\tfn: {\n\t\t/**\n\t\t * Format Currency\n\t\t *\n\t\t * Formats the currency with accounting.js\n\t\t *\n\t\t * @param {string} price\n\t\t * @param {object}  args\n\t\t * @param {object} $form\n\t\t * @returns {*|string}\n\t\t */\n\t\tformatCurrency: function( price, args, $form ) {\n\t\t\t// Global currency setting.\n\t\t\tlet format_args = {\n\t\t\t\tsymbol: '',\n\t\t\t\tdecimal: this.getGlobalVar( 'decimal_separator' ),\n\t\t\t\tthousand: this.getGlobalVar( 'thousands_separator' ),\n\t\t\t\tprecision: parseInt( this.getGlobalVar( 'number_decimals' ) ),\n\t\t\t\tcurrency: this.getGlobalVar( 'currency' ),\n\t\t\t};\n\n\t\t\tprice = price.toString().trim();\n\t\t\t$form = 'undefined' === typeof $form ? {} : $form;\n\n\t\t\t// Form specific currency setting.\n\t\t\tif ( $form.length ) {\n\t\t\t\t//Set the custom amount input value format properly\n\t\t\t\tformat_args = {\n\t\t\t\t\tsymbol: '',\n\t\t\t\t\tdecimal: Give.form.fn.getInfo( 'decimal_separator', $form ),\n\t\t\t\t\tthousand: Give.form.fn.getInfo( 'thousands_separator', $form ),\n\t\t\t\t\tprecision: Give.form.fn.getInfo( 'number_decimals', $form ),\n\t\t\t\t\tcurrency: Give.form.fn.getInfo( 'currency_code', $form ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\targs = jQuery.extend( format_args, args );\n\n\t\t\t// Make sure precision is integer type\n\t\t\targs.precision = parseInt( args.precision );\n\n\t\t\tif ( 'INR' === args.currency ) {\n\t\t\t\tlet actual_price = accounting.formatNumber( price, { precision: format_args.precision, decimal: '.' } ),\n\t\t\t\t\tafterPoint = args.precision ? '.0' : '',\n\t\t\t\t\tlastThree = '',\n\t\t\t\t\totherNumbers = '',\n\t\t\t\t\tresult = '',\n\t\t\t\t\tlastDotPosition = '';\n\n\t\t\t\tactual_price = accounting.unformat( actual_price, '.' ).toString();\n\t\t\t\tactual_price = actual_price.toString();\n\n\t\t\t\tif ( actual_price.indexOf( '.' ) > 0 ) {\n\t\t\t\t\tafterPoint = actual_price.substring( actual_price.indexOf( '.' ), actual_price.length );\n\t\t\t\t}\n\n\t\t\t\tactual_price = Math.floor( actual_price ).toString();\n\t\t\t\tlastThree = actual_price.substring( actual_price.length - 3 );\n\t\t\t\totherNumbers = actual_price.substring( 0, actual_price.length - 3 );\n\n\t\t\t\tif ( '' !== otherNumbers ) {\n\t\t\t\t\tlastThree = format_args.thousand + lastThree;\n\t\t\t\t}\n\n\t\t\t\tresult = otherNumbers.replace( /\\B(?=(\\d{2})+(?!\\d))/g, format_args.thousand ) + lastThree + afterPoint;\n\t\t\t\tlastDotPosition = result.lastIndexOf( '.' );\n\t\t\t\tresult = result.slice( 0, lastDotPosition ) + ( ( result.slice( lastDotPosition ) + '000000000000' ).substr( 0, args.precision + 1 ) );\n\t\t\t\tprice = result;\n\n\t\t\t\tif ( undefined !== args.symbol && args.symbol.length ) {\n\t\t\t\t\tif ( 'after' === args.position ) {\n\t\t\t\t\t\tprice = price + args.symbol;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprice = args.symbol + price;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Properly position symbol after if selected.\n\t\t\t\tif ( 'after' === args.position ) {\n\t\t\t\t\targs.format = '%v%s';\n\t\t\t\t}\n\n\t\t\t\tprice = accounting.formatMoney( price, args );\n\t\t\t}\n\n\t\t\treturn price;\n\t\t},\n\n\t\t/**\n\t\t * Unformat Currency\n\t\t *\n\t\t * @param price\n\t\t * @param {string} decimal_separator\n\t\t * @returns {number}\n\t\t */\n\t\tunFormatCurrency: function( price, decimal_separator ) {\n\t\t\tif ( 'string' === typeof price ) {\n\t\t\t\tconst regex = ',' === decimal_separator.trim() ? /[^0-9\\,-]+/g : /[^0-9\\.-]+/g;\n\n\t\t\t\tprice = price.replace( regex, '' );\n\n\t\t\t\tif ( 0 === price.indexOf( decimal_separator ) ) {\n\t\t\t\t\tprice = price.substr( 1 );\n\t\t\t\t} else if ( ( price.length - 1 ) === price.indexOf( decimal_separator ) ) {\n\t\t\t\t\tprice = price.slice( 0, -1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn Math.abs( parseFloat( accounting.unformat( price, decimal_separator ) ) );\n\t\t},\n\n\t\t/**\n\t\t * Get Parameter by Name\n\t\t *\n\t\t * @see: http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\n\t\t * @param name\n\t\t * @param url\n\t\t * @since 1.4.2\n\t\t * @returns {*}\n\t\t */\n\t\tgetParameterByName: function( name, url ) {\n\t\t\tif ( ! url ) {\n\t\t\t\turl = window.location.href;\n\t\t\t}\n\n\t\t\turl = decodeURIComponent( url );\n\t\t\tname = name.replace( /[\\[\\]]/g, '\\\\$&' );\n\n\t\t\tconst regex = new RegExp( '[?&]' + name + '(=([^&#]*)|&|#|$)' ),\n\t\t\t\tresults = regex.exec( url );\n\n\t\t\tif ( ! results ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( ! results[ 2 ] ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn decodeURIComponent( results[ 2 ].replace( /\\+/g, ' ' ) );\n\t\t},\n\n\t\t/**\n\t\t * Get information from global var\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {string} str Variable in global param.\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tgetGlobalVar: function( str ) {\n\t\t\tconst giveGlobals = this.getGlobal();\n\n\t\t\treturn ( 'undefined' === typeof giveGlobals[ str ] ? '' : giveGlobals[ str ] );\n\t\t},\n\n\t\t/**\n\t\t * Get global param\n\t\t *\n\t\t * @since 2.2.4\n\t\t *\n\t\t * @return {object} WordPress localized global param.\n\t\t */\n\t\tgetGlobal: function() {\n\t\t\treturn ( 'undefined' === typeof give_global_vars ) ? give_vars : give_global_vars;\n\t\t},\n\n\t\t/**\n\t\t * set cache\n\t\t *\n\t\t * @since 1.8.17\n\t\t *\n\t\t * @param {string} key\n\t\t * @param {string} value\n\t\t * @param {object} $form\n\t\t */\n\t\tsetCache: function( key, value, $form ) {\n\t\t\tif ( $form.length ) {\n\t\t\t\tGive.cache[ 'form_' + Give.form.fn.getInfo( 'form-id', $form ) ][ key ] = value;\n\t\t\t} else {\n\t\t\t\tGive.cache[ key ] = value;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get cache\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param key\n\t\t * @param $form\n\t\t * @return {string|*}\n\t\t */\n\t\tgetCache: function( key, $form ) {\n\t\t\tlet cache,\n\t\t\t\tformObj = Give.cache[ 'form_' + Give.form.fn.getInfo( 'form-id', $form ) ];\n\n\t\t\tif ( $form.length ) {\n\t\t\t\tcache = 'undefined' !== typeof formObj ? formObj[ key ] : '';\n\t\t\t} else {\n\t\t\t\tcache = Give.cache[ key ];\n\t\t\t}\n\n\t\t\tcache = 'undefined' === typeof cache ? '' : cache;\n\n\t\t\treturn cache;\n\t\t},\n\n\t\t/**\n\t\t * Get cookie\n\t\t * Note: only for internal use\n\t\t *\n\t\t * @since 2.2.20\n\t\t * @private\n\t\t *\n\t\t * @param {string} name Cookie name\n\t\t * @return {string}\n\t\t */\n\t\t__getCookie: function( name ) {\n\t\t\tconst value = '; ' + document.cookie,\n\t\t\t\tparts = value.split( '; ' + name + '=' );\n\n\t\t\tlet cookie = '';\n\n\t\t\tif ( 2 === parts.length ) {\n\t\t\t\tcookie = parts.pop().split( ';' ).shift();\n\t\t\t}\n\n\t\t\treturn cookie;\n\t\t},\n\n\t\t/**\n\t\t * Show and hide spinner\n\t\t * Note: use only in WP Backend\n\t\t *\n\t\t * @since 2.5.0\n\t\t * @public\n\t\t *\n\t\t * @param {object} $container Container where you wan to prepend spinner.\n\t\t * @param {object} args argument to change loader output.\n\t\t */\n\t\tloader: function( $container, args = {} ) {\n\t\t\targs = Object.assign( { show: true, loadingAnimation: true, loadingText: null }, args );\n\n\t\t\tconst spinner = args.loadingAnimation ? '<span class=\"is-active spinner\"></span>' : '',\n\t\t\t\t  text = null !== args.loadingText ? args.loadingText : Give.fn.getGlobalVar( 'loader_translation' ).updating;\n\n\t\t\tlet classes, spinnerHTML;\n\n\t\t\tif ( false === args.show ) {\n\t\t\t\tjQuery( '.give-spinner-wrap', $container ).remove();\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tclasses = spinner.length ? 'give-has-spinner' : '';\n\t\t\tclasses += text.length ? ' give-has-text' : '';\n\t\t\tclasses = classes.length ? ' ' + classes.trim() : '';\n\n\t\t\tspinnerHTML = `<div class=\"give-spinner-wrap${ classes }\"><div class=\"give-spinner-inner\">${ ( text + spinner ).trim() }</div></div>`;\n\n\t\t\t// return spinner HTML.\n\t\t\tif ( null === args.show ) {\n\t\t\t\treturn spinnerHTML;\n\t\t\t}\n\n\t\t\t$container.prepend( spinnerHTML );\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Remove parameter from url\n\t\t *\n\t\t * @since 2.7\n\t\t * @param {string} url\n\t\t * @param {string} parameter\n\t\t * @return {string|*}\n\t\t */\n\t\tremoveURLParameter: function ( url, parameter ) {\n\t\t\t//prefer to use l.search if you have a location/link object\n\t\t\tconst urlparts = url.split( '?' );\n\t\t\tif ( urlparts.length >= 2 ) {\n\t\t\t\tconst prefix = encodeURIComponent( parameter ) + '=';\n\t\t\t\tconst pars = urlparts[ 1 ].split( /[&;]/g );\n\n\t\t\t\t//reverse iteration as may be destructive\n\t\t\t\tfor ( let i = pars.length; i-- > 0; ) {\n\t\t\t\t\t//idiom for string.startsWith\n\t\t\t\t\tif ( pars[ i ].lastIndexOf( prefix, 0 ) !== -1 ) {\n\t\t\t\t\t\tpars.splice( i, 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn urlparts[ 0 ] + ( pars.length > 0 ? '?' + pars.join( '&' ) : '' );\n\t\t\t}\n\t\t\treturn url;\n\t\t},\n\n\t\t/**\n\t\t * Helper function used to determine if the given number has decimal\n\t\t * @param value\n\t\t * @returns {boolean}\n\t\t */\n\t\tnumberHasDecimal: function( value ) {\n\t\t\treturn Math.floor( value ) !== Number( value );\n\t\t}\n\t},\n\n\t/**\n\t * This object key will be use to cache predicted data or donor activity.\n\t *\n\t * @since 1.8.17\n\t */\n\tcache: {},\n};\n\nGive.notice = GiveNotice;\nGive.form = GiveForm;\nGive.donor = GiveDonor;\nGive.util = GiveUtil;\nGive.share = GiveShare;\n\nexport default Give;\n","/* globals Give, jQuery */\nexport default {\n\tfn: {\n\t\t/**\n\t\t * Check if donor has session or not\n\t\t *\n\t\t * @since 2.3.1\n\t\t *\n\t\t * @param {object} $form\n\t\t * @return {boolean}\n\t\t */\n\t\thasSession: function( $form ) {\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !! Give.fn.__getCookie( Give.fn.getGlobalVar( 'session_cookie_name' ) );\n\t\t},\n\n\t\t/**\n\t\t * Check if donor is logged with WP User\n\t\t *\n\t\t * @since 2.3.1\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tisLoggedIn: function() {\n\t\t\treturn jQuery( 'body' ).hasClass( 'logged-in' );\n\t\t},\n\t},\n};\n","/* globals Give, jQuery */\nimport Util from './util';\n\nexport default {\n\tinit: function() {\n\t\tthis.fn.field.formatCreditCard( jQuery( 'form.give-form' ) );\n\t\tthis.fn.__initialize_cache();\n\n\t\t// Run code on after window load.\n\t\t// If the window has already loaded then call directly.\n\t\tif( window.Give.WINDOW_IS_LOADED ) {\n\t\t\tGive.form.fn.__sendBackToForm();\n\t\t} else {\n\t\t\twindow.addEventListener('load', function () {\n\t\t\t\tGive.form.fn.__sendBackToForm();\n\t\t\t});\n\t\t}\n\t},\n\n\tfn: {\n\n\t\t/**\n\t\t * Check if donation form exist on page or not\n\t\t *\n\t\t * @since 2.2.2\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tisFormExist: function() {\n\t\t\treturn !! document.getElementsByName( 'give-form-hash' ).length;\n\t\t},\n\n\t\t/**\n\t\t * Return whether or not container has a donation form.\n\t\t *\n\t\t * @since 2.9.0\n\t\t * @param {Element} $container Form container.\n\t\t *\n\t\t * @return {boolean} Boolean value.\n\t\t */\n\t\thasDonationForm: function( $container ) {\n\t\t\tconst actionHiddenField = $container.querySelector( 'form input[name=\"give_action\"]' );\n\t\t\treturn actionHiddenField && 'purchase' === actionHiddenField.value;\n\t\t},\n\n\t\t/**\n\t\t * Disable donation form.\n\t\t *\n\t\t * @param {object} $form\n\t\t * @param {boolean} is_disable\n\t\t *\n\t\t * @return {*}\n\t\t */\n\t\tdisable: function( $form, is_disable ) {\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$form.find( '.give-submit' ).prop( 'disabled', is_disable );\n\t\t},\n\n\t\t/**\n\t\t * Show processing state template.\n\t\t *\n\t\t * @since 2.8.0\n\t\t * @since {string} html Message html string or plain text.\n\t\t */\n\t\tshowProcessingState: function( html ) {\n\t\t\tUtil.fn.showOverlay( html );\n\t\t},\n\n\t\t/**\n\t\t * Hide processing state template.\n\t\t *\n\t\t * @since 2.8.0\n\t\t */\n\t\thideProcessingState: function( ) {\n\t\t\tUtil.fn.hideOverlay();\n\t\t},\n\n\t\t/**\n\t\t * Get formatted amount\n\t\t *\n\t\t * @param {string/number} amount\n\t\t * @param {object} $form\n\t\t * @param {object} args\n\t\t */\n\t\tformatAmount: function( amount, $form, args ) {\n\t\t\t// Do not format amount if form did not exist.\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn amount;\n\t\t\t}\n\n\t\t\treturn Give.fn.formatCurrency( amount, args, $form );\n\t\t},\n\n\t\t/**\n\t\t * Get form information\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {string} str\n\t\t * @param {object} $form\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tgetInfo: function( str, $form ) {\n\t\t\tlet data = '';\n\n\t\t\t// Check if form is provided and wrap in jQuery in case its a node\n\t\t\t$form = 'undefined' !== typeof $form ? jQuery( $form ) : {};\n\n\t\t\t// Bailout.\n\t\t\tif ( ! str.length || ! $form.length ) {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\tswitch ( str ) {\n\t\t\t\tcase 'gateways':\n\t\t\t\t\tdata = [];\n\t\t\t\t\tjQuery.each( $form.find( 'input[name=\"payment-mode\"]' ), function( index, gateway ) {\n\t\t\t\t\t\tgateway = ! ( gateway instanceof jQuery ) ? jQuery( gateway ) : gateway;\n\t\t\t\t\t\tdata.push( gateway.val().trim() );\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'form-type':\n\t\t\t\t\tif ( $form.hasClass( 'give-form-type-set' ) ) {\n\t\t\t\t\t\tdata = 'set';\n\t\t\t\t\t} else if ( $form.hasClass( 'give-form-type-multi' ) ) {\n\t\t\t\t\t\tdata = 'multi';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'form-id':\n\t\t\t\t\tdata = $form.find( 'input[name=\"give-form-id\"]' ).val();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif ( $form.get( 0 ).hasAttribute( 'data-' + str ) ) {\n\t\t\t\t\t\tdata = $form.attr( 'data-' + str );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata = $form.attr( str );\n\t\t\t\t\t}\n\n\t\t\t\t\t'undefined' !== typeof data ? data.trim() : data;\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\n\t\t/**\n\t\t * Set form information\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {string} str\n\t\t * @param {string} val\n\t\t * @param {object} $form\n\t\t * @param {string} type\n\t\t *\n\t\t * @return {string|boolean}\n\t\t */\n\t\tsetInfo: function( type, val, $form, str ) {\n\t\t\t// Bailout.\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttype = 'undefined' === typeof type ? 'data' : type;\n\n\t\t\tswitch ( type ) {\n\t\t\t\tcase 'nonce':\n\t\t\t\t\t$form.find( 'input[name=\"give-form-hash\"]' ).val( val );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Bailout.\n\t\t\tif ( 'undefined' !== typeof str && ! str.length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tswitch ( type ) {\n\t\t\t\tcase 'attr':\n\t\t\t\t\t$form.attr( str, val );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t$form.data( str, val );\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Get formatted amount\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {object} $form\n\t\t */\n\t\tgetGateway: function( $form ) {\n\t\t\tlet gateway = '';\n\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn gateway;\n\t\t\t}\n\n\t\t\tgateway = $form.find( 'input[name=\"payment-mode\"]:checked' ).val().trim();\n\n\t\t\treturn 'undefined' !== typeof gateway ? gateway : '';\n\t\t},\n\n\t\t/**\n\t\t * Get Price ID and levels for multi donation form\n\t\t *\n\t\t * @param   {Object} $form Form jQuery object\n\t\t *\n\t\t * @returns {Object}\n\t\t */\n\t\tgetVariablePrices: function( $form ) {\n\t\t\tlet variable_prices = [],\n\t\t\t\tformLevels;\n\n\t\t\t// check if correct form type is multi or not.\n\t\t\tif (\n\t\t\t\t! $form.length ||\n\t\t\t\t! $form.hasClass( 'give-form-type-multi' ) ||\n\t\t\t\t! ( formLevels = $form.find( '.give-donation-levels-wrap [data-price-id] ' ) )\n\t\t\t) {\n\t\t\t\treturn variable_prices;\n\t\t\t}\n\n\t\t\tjQuery.each( formLevels, function( index, item ) {\n\t\t\t\t// Get Jquery instance for item.\n\t\t\t\titem = ! ( item instanceof jQuery ) ? jQuery( item ) : item;\n\n\t\t\t\tconst decimal_separator = Give.form.fn.getInfo( 'decimal_separator', $form );\n\n\t\t\t\t// Add price id and amount to collector.\n\t\t\t\tvariable_prices.push( {\n\t\t\t\t\tprice_id: item.data( 'price-id' ),\n\t\t\t\t\tamount: Give.fn.unFormatCurrency( item.val(), decimal_separator ),\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\treturn variable_prices;\n\t\t},\n\n\t\t/**\n\t\t * Get form price ID\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {object} $form\n\t\t * @param {boolean} is_amount\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tgetPriceID: function( $form, is_amount ) {\n\t\t\tconst variable_prices = this.getVariablePrices( $form ),\n\t\t\t\tcurrent_amount = Give.fn.unFormatCurrency(\n\t\t\t\t\t$form.find( 'input[name=\"give-amount\"]' ).val(),\n\t\t\t\t\tthis.getInfo( 'decimal_separator', $form )\n\t\t\t\t);\n\n\t\t\t/**\n\t\t\t * Flag Multi-levels for min. donation conditional.\n\t\t\t *\n\t\t\t * Note: Value of this variable will be:\n\t\t\t *  a. -1      if no any level found.\n\t\t\t *  b. [0-*]   Any number from zero if donation level found.\n\t\t\t *  c  custom  if donation level not found and donation amount is greater than the custom minimum amount.\n\t\t\t *\n\t\t\t * @type {number/string} Donation level ID.\n\t\t\t */\n\t\t\tlet\tprice_id = ! ! Give.fn.getCache( 'amount_' + current_amount, $form ) ? Give.fn.getCache( 'amount_' + current_amount, $form ) : -1;\n\n\t\t\t// Flag to decide on which param we want to find price_id\n\t\t\tis_amount = 'undefined' === typeof is_amount ? true : is_amount;\n\n\t\t\t// Find price id with amount in variable prices.\n\t\t\tif ( variable_prices.length ) {\n\t\t\t\t// Get recent selected price id for same amount.\n\t\t\t\tif ( -1 === price_id ) {\n\t\t\t\t\tif ( is_amount ) {\n\t\t\t\t\t\t// Find amount in donation levels.\n\t\t\t\t\t\tjQuery.each( variable_prices, function( index, variable_price ) {\n\t\t\t\t\t\t\tif ( variable_price.amount === current_amount ) {\n\t\t\t\t\t\t\t\tprice_id = variable_price.price_id;\n\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// Set level to custom.\n\t\t\t\t\t\tif ( -1 === price_id && ( this.getMinimumAmount( $form ) <= current_amount && ( this.getMaximumAmount( $form ) >= current_amount ) && this.getMinimumAmount( $form ) <= current_amount ) ) {\n\t\t\t\t\t\t\tprice_id = 'custom';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprice_id = jQuery( 'input[name=\"give-price-id\"]', $form ).val();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn price_id;\n\t\t},\n\n\t\t/**\n\t\t * Get form minimum amount\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {object} $form\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tgetMinimumAmount: function( $form ) {\n\t\t\treturn $form.find( 'input[name=\"give-form-minimum\"]' ).val();\n\t\t},\n\n\t\t/**\n\t\t * Get form maximum amount\n\t\t *\n\t\t * @since 2.1\n\t\t * @param {object} $form\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tgetMaximumAmount: function( $form ) {\n\t\t\treturn $form.find( 'input[name=\"give-form-maximum\"]' ).val();\n\t\t},\n\n\t\t/**\n\t\t * Get form amount\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param $form\n\t\t * @return {*}\n\t\t */\n\t\tgetAmount: function( $form ) {\n\t\t\t// Bailout\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet amount = $form.find( 'input[name=\"give-amount\"]' ).val();\n\n\t\t\tif ( 'undefined' === typeof amount || ! amount ) {\n\t\t\t\tamount = 0;\n\t\t\t}\n\n\t\t\treturn Give.fn.unFormatCurrency( amount, this.getInfo( 'decimal_separator', $form ) );\n\t\t},\n\n\t\t/**\n\t\t * Get form security nonce\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {object} $form\n\t\t * @return {string}\n\t\t */\n\t\tgetNonce: function( $form ) {\n\t\t\t// Bailout\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tlet nonce = $form.find( 'input[name=\"give-form-hash\"]' ).val();\n\n\t\t\tif ( 'undefined' === typeof nonce || ! nonce ) {\n\t\t\t\tnonce = '';\n\t\t\t}\n\n\t\t\treturn nonce;\n\t\t},\n\n\t\t/**\n\t\t * Get form's nonce information\n\t\t *\n\t\t * @since 2.3.1\n\t\t *\n\t\t * @param {object} $form\n\t\t *\n\t\t * @return {object}\n\t\t */\n\t\tgetNonceInfo: function( $form ) {\n\t\t\tlet nonce = {},\n\t\t\t\t$nonceField;\n\n\t\t\t// Bailout\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn nonce;\n\t\t\t}\n\n\t\t\tnonce.el = $form.find( 'input[name=\"give-form-hash\"]' );\n\n\t\t\tif ( ! nonce.el.length ) {\n\t\t\t\treturn nonce;\n\t\t\t}\n\n\t\t\tnonce.value = $form.find( 'input[name=\"give-form-hash\"]' ).val();\n\t\t\tnonce.value = 'undefined' === typeof nonce.value || ! nonce.value ? '' : nonce.value;\n\n\t\t\tnonce.createdInDonorSession = '1' === nonce.el.attr( 'data-donor-session' );\n\n\t\t\treturn nonce;\n\t\t},\n\n\t\t/**\n\t\t * Reset form nonce.\n\t\t *\n\t\t * @since 2.0\n\t\t *\n\t\t * @param {object} $form Donation form object.\n\t\t * @returns {boolean}\n\t\t */\n\t\tresetNonce: function( $form ) {\n\t\t\t// Return false, if form is missing.\n\t\t\tif ( ! $form.length || ! jQuery( 'input[name=\"give-form-hash\"]', $form ).length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tGive.form.fn.disable( $form, true );\n\n\t\t\t//Post via AJAX to Give\n\t\t\tjQuery.post( Give.fn.getGlobalVar( 'ajaxurl' ), {\n\t\t\t\taction: 'give_donation_form_nonce',\n\t\t\t\tgive_form_id: Give.form.fn.getInfo( 'form-id', $form ),\n\t\t\t},\n\t\t\tfunction( response ) {\n\t\t\t\t// Update nonce field.\n\t\t\t\tGive.form.fn.setInfo( 'nonce', response.data, $form, '' );\n\n\t\t\t\tGive.form.fn.disable( $form, false );\n\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Reset form all nonce.\n\t\t *\n\t\t * @since 2.2.0\n\t\t *\n\t\t * @param {object} $form Donation form object.\n\t\t *\n\t\t * @returns {object}\n\t\t */\n\t\tresetAllNonce: function( $form ) {\n\t\t\t// Return false, if form is missing.\n\t\t\tif ( ! $form.length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tGive.form.fn.disable( $form, true );\n\n\t\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\t\t//Post via AJAX to Give\n\t\t\t\tjQuery.post(\n\t\t\t\t\tGive.fn.getGlobalVar( 'ajaxurl' ),\n\t\t\t\t\t{\n\t\t\t\t\t\taction: 'give_donation_form_reset_all_nonce',\n\t\t\t\t\t\tgive_form_id: Give.form.fn.getInfo( 'form-id', $form ),\n\t\t\t\t\t},\n\t\t\t\t\tfunction( response ) {\n\t\t\t\t\t\t// Process only if get response successfully.\n\t\t\t\t\t\tif ( ! response.success ) {\n\t\t\t\t\t\t\treturn reject( response );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst createUserNonceField = $form.find( 'input[name=\"give-form-user-register-hash\"]' );\n\n\t\t\t\t\t\t// Update nonce field.\n\t\t\t\t\t\tGive.form.fn.setInfo( 'nonce', response.data.give_form_hash, $form, '' );\n\n\t\t\t\t\t\t// Update create user nonce field.\n\t\t\t\t\t\tif ( createUserNonceField.length ) {\n\t\t\t\t\t\t\tcreateUserNonceField.val( response.data.give_form_user_register_hash );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tGive.form.fn.disable( $form, false );\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Fire custom event handler when update all nonce of donation form\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * @since  2.2.0\n\t\t\t\t\t\t * @access access\n\t\t\t\t\t\t */\n\t\t\t\t\t\tjQuery( document ).trigger( 'give_reset_all_nonce', [ response.data ] );\n\n\t\t\t\t\t\treturn resolve( response );\n\t\t\t\t\t}\n\t\t\t\t).done( function() {\n\t\t\t\t\tGive.form.fn.disable( $form, false );\n\t\t\t\t} );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Auto select donation level\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {object} $form\n\t\t * @param {string} price_id\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tautoSelectDonationLevel: function( $form, price_id ) {\n\t\t\tif ( ! $form.length || 'multi' !== this.getInfo( 'form-type', $form ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tprice_id = ( 'undefined' === typeof price_id ) ? this.getPriceID( $form, false ) : price_id;\n\n\t\t\tswitch ( true ) {\n\t\t\t\t// Auto select radio button.\n\t\t\t\tcase ( ! ! $form.find( '.give-radio-input' ).length ) :\n\t\t\t\t\t$form.find( '.give-radio-input' )\n\t\t\t\t\t\t.prop( 'checked', false );\n\t\t\t\t\t$form.find( '.give-radio-input[data-price-id=\"' + price_id + '\"]' )\n\t\t\t\t\t\t.prop( 'checked', true )\n\t\t\t\t\t\t.addClass( 'give-default-level' );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// Set focus to price id button.\n\t\t\t\tcase ( ! ! $form.find( 'button.give-donation-level-btn' ).length ) :\n\t\t\t\t\t$form.find( 'button.give-donation-level-btn' )\n\t\t\t\t\t\t.blur();\n\t\t\t\t\t$form.find( 'button.give-donation-level-btn[data-price-id=\"' + price_id + '\"]' )\n\t\t\t\t\t\t.addClass( 'give-default-level' );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// Auto select option.\n\t\t\t\tcase ( ! ! $form.find( 'select.give-select-level' ).length ) :\n\t\t\t\t\t$form.find( 'select.give-select-level option' )\n\t\t\t\t\t\t.prop( 'selected', false );\n\t\t\t\t\t$form.find( 'select.give-select-level option[data-price-id=\"' + price_id + '\"]' )\n\t\t\t\t\t\t.prop( 'selected', true )\n\t\t\t\t\t\t.addClass( 'give-default-level' );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Update level values\n\t\t *\n\t\t * Helper function: Sets the multi-select amount values\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {object} $level\n\t\t * @returns {boolean}\n\t\t */\n\t\tautoSetMultiLevel: function( $level ) {\n\t\t\tlet $form = $level.parents( 'form' ),\n\t\t\t\tlevel_amount = $level.val(),\n\t\t\t\tlevel_price_id = $level.data( 'price-id' );\n\n\t\t\t// Check if price ID blank because of dropdown type\n\t\t\tif ( 'undefined' === typeof level_price_id ) {\n\t\t\t\tlevel_price_id = $level.find( 'option:selected' ).data( 'price-id' );\n\t\t\t}\n\n\t\t\t// Is this a custom amount selection?\n\t\t\tif ( 'custom' === level_price_id ) {\n\t\t\t\tlevel_amount = Give.fn.getParameterByName( 'custom-amount' );\n\t\t\t}\n\n\t\t\t// Update custom amount field\n\t\t\t$form.find( '.give-amount-top' ).val( level_amount );\n\t\t\t$form.find( 'span.give-amount-top' ).text( level_amount );\n\n\t\t\tconst decimal_separator = Give.form.fn.getInfo( 'decimal_separator', $form );\n\n\t\t\t// Cache previous amount and set data amount.\n\t\t\tjQuery( '.give-donation-amount .give-text-input', $form )\n\t\t\t\t.attr(\n\t\t\t\t\t'data-amount',\n\t\t\t\t\tGive.fn.unFormatCurrency(\n\t\t\t\t\t\t$form.find( '.give-final-total-amount' ).attr( 'data-total' ),\n\t\t\t\t\t\tdecimal_separator\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\tif( 'custom' === level_price_id && ! level_amount ) {\n\t\t\t\t// If level amount is empty for custom field that means donor clicked on button.\n\t\t\t\t// Set focus on amount field and allow donor to add custom donation amount.\n\t\t\t\t$form.find( '.give-donation-amount .give-text-input' ).focus();\n\t\t\t} else{\n\t\t\t\t// Manually trigger blur event with two params:\n\t\t\t\t// (a) form jquery object\n\t\t\t\t// (b) price id\n\t\t\t\t// (c) donation amount\n\t\t\t\t// Note: \"custom\" donation level id has donation amount only if donor redirect back to donation form with error.\n\t\t\t\t// Dummy url: http://give.test/donations/help-feed-america/?form-id=16&payment-mode=manual&level-id=custom&custom-amount=555,00\n\t\t\t\t$form.find( '.give-donation-amount .give-text-input' )\n\t\t\t\t\t.trigger( 'blur', [ $form, level_amount, level_price_id ] );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Donor sent back to the form\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @access private\n\t\t */\n\t\t__sendBackToForm: function() {\n\t\t\tconst form_id = Give.fn.getParameterByName( 'form-id' ),\n\t\t\t\tpayment_mode = Give.fn.getParameterByName( 'payment-mode' );\n\n\t\t\t// Sanity check - only proceed if query strings in place.\n\t\t\tif ( ! form_id || ! payment_mode ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst $form_wrapper = jQuery( 'body' ).find( '#give-form-' + form_id + '-wrap' ),\n\t\t\t\t$form = $form_wrapper.find( 'form.give-form' ),\n\t\t\t\tdisplay_modal = $form_wrapper.hasClass( 'give-display-modal' ),\n\t\t\t\tdisplay_button = $form_wrapper.hasClass( 'give-display-button' ),\n\t\t\t\tdisplay_reveal = $form_wrapper.hasClass( 'give-display-reveal' );\n\n\t\t\t// Update payment mode radio so it's correctly checked.\n\t\t\t$form.find( '#give-gateway-radio-list label' )\n\t\t\t\t.removeClass( 'give-gateway-option-selected' );\n\t\t\t$form.find( 'input[name=payment-mode][value=' + payment_mode + ']' )\n\t\t\t\t.prop( 'checked', true )\n\t\t\t\t.parent()\n\t\t\t\t.addClass( 'give-gateway-option-selected' );\n\n\t\t\t// Select the proper level for Multi-level forms.\n\t\t\t// It can either be a dropdown, buttons, or radio list. Default is buttons field type.\n\t\t\tconst level_id = Give.fn.getParameterByName( 'level-id' ),\n\t\t\t\tlevel_field = $form.find( '*[data-price-id=\"' + level_id + '\"]' );\n\n\t\t\tif ( level_field.length > 0 ) {\n\t\t\t\tthis.autoSetMultiLevel( level_field );\n\t\t\t}\n\n\t\t\tconst give_form_wrap = jQuery( '.give-form-wrap' ),\n\t\t\t\tis_form_grid = give_form_wrap.hasClass( 'give-form-grid-wrap' );\n\n\t\t\tif ( is_form_grid && 1 === jQuery( '#give-modal-form-' + form_id ).length ) {\n\t\t\t\tjQuery.magnificPopup.open( {\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'inline',\n\t\t\t\t\t\tsrc: '#give-modal-form-' + form_id,\n\t\t\t\t\t},\n\t\t\t\t\tfixedContentPos: true,\n\t\t\t\t\tfixedBgPos: true,\n\t\t\t\t\tcloseBtnInside: true,\n\t\t\t\t\tmidClick: true,\n\t\t\t\t\tremovalDelay: 300,\n\t\t\t\t\tmainClass: 'modal-fade-slide',\n\t\t\t\t} );\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// This form is modal display so show the modal.\n\t\t\tif ( display_modal || display_button ) {\n\t\t\t\tgive_open_form_modal( $form_wrapper, $form );\n\t\t\t} else if ( display_reveal ) {\n\t\t\t\t// This is a reveal form, show it.\n\t\t\t\t$form.find( '.give-btn-reveal' ).hide();\n\t\t\t\t$form.find( '#give-payment-mode-select, #give_purchase_form_wrap' ).slideDown();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Check if donation amount valid or not\n\t\t * @since 1.8.17\n\t\t *\n\t\t * @param {object} $form\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tisValidDonationAmount: function( $form ) {\n\t\t\t// Return true, if custom amount is not enabled.\n\t\t\tif ( $form.find( 'input[name=\"give-form-minimum\"]' ).length <= 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst min_amount = this.getMinimumAmount( $form ),\n\t\t\t\tmax_amount = this.getMaximumAmount( $form ),\n\t\t\t\tamount = this.getAmount( $form ),\n\t\t\t\tprice_id = this.getPriceID( $form, true );\n\n\t\t\t// Don't allow zero donation amounts.\n\t\t\t// https://github.com/impress-org/give/issues/3181\n\t\t\tif ( 0 === amount ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t( ( -1 < amount ) && amount >= min_amount && amount <= max_amount ) ||\n\t\t\t\t( -1 !== price_id )\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Initialize cache.\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @private\n\t\t */\n\t\t__initialize_cache: function() {\n\t\t\tjQuery.each( jQuery( '.give-form' ), function( index, $item ) {\n\t\t\t\t$item = $item instanceof jQuery ? $item : jQuery( $item );\n\n\t\t\t\tGive.cache[ 'form_' + Give.form.fn.getInfo( 'form-id', $item ) ] = [];\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Check donation form pass HTML5 validation.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {object} $form\n\t\t * @param {boolean} reportValidity Set to true if want to show HTML5 error notices on form field.\n\t\t * @return {boolean}\n\t\t */\n\t\tisDonationFormHtml5Valid: function( $form, reportValidity = false ) {\n\t\t\tif ( typeof $form.checkValidity === 'function' && $form.checkValidity() === false ) {\n\t\t\t\t//Check for Safari (doesn't support HTML5 required)\n\t\t\t\tif ( ( navigator.userAgent.indexOf( 'Safari' ) != -1 && navigator.userAgent.indexOf( 'Chrome' ) == -1 ) === false ) {\n\t\t\t\t\tif ( reportValidity ) {\n\t\t\t\t\t\t$form.reportValidity();\n\t\t\t\t\t}\n\n\t\t\t\t\t//Not safari: Support HTML5 \"required\" so skip the rest of this function\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Check donation form pass HTML5 validation.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {object} $form\n\t\t * @param {FormData} formData\n\t\t * @return {string}\n\t\t */\n\t\tisDonorFilledValidData: async function( $form, formData = {} ) {\n\t\t\tformData = formData instanceof FormData ? formData : new FormData( $form );\n\n\t\t\tformData.append( 'action', 'give_process_donation' );\n\t\t\tformData.append( 'give_ajax', true );\n\n\t\t\tconst response = await fetch( `${ Give.fn.getGlobalVar( 'ajaxurl' ) }`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: formData,\n\t\t\t} );\n\t\t\tconst result = await response.text();\n\n\t\t\treturn result.trim();\n\t\t},\n\n\t\t/**\n\t\t * Add error notices to donation form.\n\t\t * Note: this function will add error before \"Donate Now\" button.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {object} $form Jquery Form object\n\t\t * @param {string} errors Error list HTML.\n\t\t */\n\t\taddErrors: function( $form, errors ) {\n\t\t\t$form.find( '#give_purchase_submit input[type=\"submit\"].give-submit' ).before( errors );\n\t\t},\n\n\t\t/**\n\t\t * Remove error notices to donation form.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {object} $form Jquery Form object\n\t\t */\n\t\tremoveErrors: function( $form ) {\n\t\t\t$form.find( '.give_errors' ).remove();\n\t\t},\n\n\t\t/**\n\t\t * Get error HTML.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {array} errors List of Error messages.\n\t\t *\n\t\t * @return {Element} Error HTML object.\n\t\t */\n\t\tgetErrorHTML: function( errors ) {\n\t\t\tconst $errorContainer = document.createElement( 'div' );\n\n\t\t\t$errorContainer.classList.add( 'give_errors' );\n\n\t\t\terrors.forEach( error => {\n\t\t\t\tconst $error = document.createElement( 'p' );\n\t\t\t\t$error.classList.add( 'give_error' );\n\n\t\t\t\t$error.innerHTML = error.message;\n\n\t\t\t\t$errorContainer.append( $error );\n\t\t\t} );\n\n\t\t\treturn $errorContainer;\n\t\t},\n\n\t\t/**\n\t\t * Add errors to donation form and reset \"Donate Now\" button state.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {object} $form Javascript form selector.\n\t\t * @param {*} $errors Errors list.\n\t\t */\n\t\taddErrorsAndResetDonationButton: function( $form, $errors = null ) {\n\t\t\t$errors && this.addErrors( $form, $errors );\n\t\t\tthis.resetDonationButton( $form );\n\t\t},\n\n\t\t/**\n\t\t * Reset \"Donate Now\" button state.\n\t\t *\n\t\t * @since 2.8.0\n\t\t *\n\t\t * @param {object} $form Javascript form selector.\n\t\t */\n\t\tresetDonationButton: function( $form ) {\n\t\t\tconst $submitButton = $form.find( '#give_purchase_submit input[type=\"submit\"].give-submit' );\n\t\t\tconst $container = $submitButton.closest( 'div' );\n\n\t\t\t//There was an error / remove old errors and prepend new ones\n\t\t\t$submitButton.val( $submitButton.data( 'before-validation-label' ) );\n\t\t\t$container.find( '.give-loading-animation' ).fadeOut();\n\t\t\t$form.find( '.give_errors' ).remove();\n\n\t\t\t// Enable the form donation button.\n\t\t\tGive.form.fn.disable( $form, false );\n\t\t},\n\n\t\tfield: {\n\n\t\t\t/**\n\t\t\t * Format CC Fields\n\t\t\t *\n\t\t\t * Set variables and format cc fields.\n\t\t\t *\n\t\t\t * @since 1.2\n\t\t\t *\n\t\t\t * @param {object} $forms\n\t\t\t */\n\t\t\tformatCreditCard: function( $forms ) {\n\t\t\t\t//Loop through forms on page and set CC validation\n\t\t\t\t$forms.each( function( index, form ) {\n\t\t\t\t\tform = jQuery( form );\n\t\t\t\t\tconst card_number = form.find( '.card-number' ),\n\t\t\t\t\t\tcard_cvc = form.find( '.card-cvc' ),\n\t\t\t\t\t\tcard_expiry = form.find( '.card-expiry' );\n\n\t\t\t\t\t//Only validate if there is a card field\n\t\t\t\t\tif ( card_number.length ) {\n\t\t\t\t\t\tcard_number.payment( 'formatCardNumber' );\n\t\t\t\t\t\tcard_cvc.payment( 'formatCardCVC' );\n\t\t\t\t\t\tcard_expiry.payment( 'formatCardExpiry' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t},\n};\n","/* globals Give, jQuery, commonL10n */\nimport {__} from '@wordpress/i18n';\n\nexport default {\n\tfn: {\n\t\t/**\n\t\t * Render notice\n\t\t * @since 1.8.17\n\t\t *\n\t\t * @param {string} notice_code\n\t\t * @param {object} $container\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\trenderNotice: function( notice_code, $container ) {\n\t\t\tlet notice_html = '',\n\t\t\t\t$notice;\n\t\t\t$container = 'undefined' !== typeof $container ? $container : {};\n\n\t\t\tswitch ( notice_code ) {\n\t\t\t\tcase 'bad_minimum':\n\t\t\t\t\t$notice = jQuery(\n\t\t\t\t\t\t'<div class=\"give_error give-invalid-minimum give-hidden\">' +\n\t\t\t\t\t\tthis.getNotice( notice_code, $container ) +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bad_maximum':\n\t\t\t\t\t$notice = jQuery(\n\t\t\t\t\t\t'<div class=\"give_error give-invalid-maximum give-hidden\">' +\n\t\t\t\t\t\tthis.getNotice( notice_code, $container ) +\n\t\t\t\t\t\t'</div>'\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Return html if container did not find.\n\t\t\tif ( ! $container.length ) {\n\t\t\t\treturn notice_html;\n\t\t\t}\n\n\t\t\t$notice.insertBefore( $container.find( '.give-total-wrap' ) ).show();\n\t\t},\n\n\t\t/**\n\t\t * Get error notice\n\t\t *\n\t\t * @since 1.8.17\n\t\t * @param {string} error_code\n\t\t * @param {object} $form\n\t\t *\n\t\t * @return {*}\n\t\t */\n\t\tgetNotice: function( error_code, $form ) {\n\t\t\t// Bailout.\n\t\t\tif ( ! error_code.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet notice, notice_msg, formatted_amount;\n\t\t\tnotice = notice_msg = formatted_amount = '';\n\n\t\t\tif ( $form.length ) {\n\t\t\t\tswitch ( error_code ) {\n\t\t\t\t\tcase 'bad_minimum':\n\t\t\t\t\t\tnotice_msg = Give.fn.getGlobalVar( error_code );\n\t\t\t\t\t\tformatted_amount = Give.form.fn.getMinimumAmount( $form );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bad_maximum':\n\t\t\t\t\t\tnotice_msg = Give.fn.getGlobalVar( error_code );\n\t\t\t\t\t\tformatted_amount = Give.form.fn.getMaximumAmount( $form );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( $form.length && '' !== notice_msg ) {\n\t\t\t\tnotice = notice_msg + ' ' + Give.fn.formatCurrency(\n\t\t\t\t\tformatted_amount,\n\t\t\t\t\t{\n\t\t\t\t\t\tsymbol: Give.form.fn.getInfo( 'currency_symbol', $form ),\n\t\t\t\t\t\tposition: Give.form.fn.getInfo( 'currency_position', $form ),\n\t\t\t\t\t},\n\t\t\t\t\t$form\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn notice;\n\t\t},\n\n\t\t/**\n\t\t * Print notice\n\t\t * Note: use only in WP Backend\n\t\t *\n\t\t * @since 2.5.0\n\t\t * @since 2.8.0 Localization updated to support changes in WordPress 5.5.\n\t\t *\n\t\t * @param {string} notice Notice description.\n\t\t * @param {string} type   Notice type.\n\t\t * @param {object} args   Notice type.\n\t\t *\n\t\t * @return {string} Notice HTML.\n\t\t */\n\t\tgetAdminNoticeHTML: function( notice, type = 'info', args = { dismissible: true } ) {\n\t\t\t/**\n\t\t\t * WordPress 5.5 removed the localized `commonL10n` in favor of translation in JavaScript.\n\t\t\t */\n\t\t\tconst btnText = ( 'undefined' !== typeof commonL10n ) ?\n\t\t\t\tcommonL10n.dismiss :\n\t\t\t\t__( 'Dismiss this notice.', 'give' );\n\n\t\t\treturn `<div class=\"give-notice notice notice-${ type }${ args.dismissible ? ' is-dismissible' : '' }\"><p>${ notice }${ args.dismissible ? ` <button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">${ btnText }</span></button>` : '' }</p</div>`;\n\t\t},\n\t},\n};\n","export default {\n\tfn: {\n\n\t\t/**\n\t\t * Open a new window prompting user to Tweet\n\t\t * The tweet is pre-populated with supplied text, and url to share\n\t\t *\n\t\t * @since 2.7.0\n\t\t */\n\t\ttwitter: function twitter( url, text ) {\n\t\t\tconst targetWindow = parent.window ? parent.window : window;\n\t\t\t// Calculate new window position, based on parent window height/width\n\t\t\tconst top = targetWindow.innerHeight / 2 - 126;\n\t\t\tconst left = targetWindow.innerWidth / 2 - 280;\n\t\t\t// Open new window with prompt for Twitter sharing\n\t\t\ttargetWindow.open( `https://twitter.com/intent/tweet?url=${ encodeURIComponent( url ) }&text=${ encodeURIComponent( text ) }`, 'newwindow', `width=560,height=253,top=${ top },left=${ left }` );\n\t\t},\n\n\t\t/**\n\t\t * Open a new window prompting user to share on Facebook\n\t\t * The post is pre-populated with supplied url\n\t\t *\n\t\t * @since 2.7.0\n\t\t */\n\t\tfacebook: function facebook( url ) {\n\t\t\tconst targetWindow = parent.window ? parent.window : window;\n\t\t\t// Calculate new window position, based on parent window height/width\n\t\t\tconst top = targetWindow.innerHeight / 2 - 365;\n\t\t\tconst left = targetWindow.innerWidth / 2 - 280;\n\t\t\t// Open new window with prompt for Facebook sharing\n\t\t\twindow.open( `https://www.facebook.com/sharer/sharer.php?u=${ encodeURIComponent( url ) }`, 'newwindow', `width=560,height=730,top=${ top },left=${ left }` );\n\t\t},\n\t},\n};\n","/* globals Give */\nexport default {\n\tfn: {\n\t\t/**\n\t\t * Show processing state template.\n\t\t *\n\t\t * @since 2.8.0\n\t\t * @since {string} html Message html string or plain text\n\t\t */\n\t\tshowOverlay: function( html ) {\n\t\t\tconst container = document.createElement( 'div' );\n\t\t\tconst loader = document.createElement( 'div' );\n\t\t\tconst divNode = document.createElement( 'div' );\n\n\t\t\tif ( html ) {\n\t\t\t\tdivNode.innerHTML = html;\n\t\t\t} else {\n\t\t\t\tdivNode.innerHTML = Give.fn.getGlobalVar( 'textForOverlayScreen' );\n\t\t\t}\n\n\t\t\tloader.setAttribute( 'class', 'loader spinning' );\n\t\t\tcontainer.setAttribute( 'id', 'give-processing-state-template' );\n\n\t\t\tcontainer.append( loader );\n\t\t\tcontainer.append( divNode );\n\n\t\t\tcontainer.classList.add( 'active' );\n\t\t\tdocument.body.appendChild( container );\n\t\t},\n\n\t\t/**\n\t\t * Hide processing state template.\n\t\t *\n\t\t * @since 2.8.0\n\t\t */\n\t\thideOverlay: function( ) {\n\t\t\tdocument.getElementById( 'give-processing-state-template' ).remove();\n\t\t},\n\t},\n};\n","jQuery.fn.giveHintCss = function( action, settings ) {\n\treturn this.each( function() {\n\t\tconst $this = jQuery( this );\n\t\tsettings = jQuery.extend( {\n\t\t\tlabel: '',\n\t\t}, settings );\n\n\t\tlet $tooltip = $this.next( 'span.give-hint-tooltip-js' );\n\t\tif ( ! $tooltip.length ) {\n\t\t\tconst label = ! settings.label.length ? $this.data( 'hint-aria-label' ) : settings.label;\n\n\t\t\t// bailout.\n\t\t\tif ( ! label.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$this.after( '<span class=\"give-hint-tooltip-js hint--top hint--medium\" aria-label=\"' + label + '\"></span>' );\n\t\t\t$tooltip = $this.next();\n\n\t\t\t$tooltip.css( {\n\t\t\t\ttop: -( $this.outerHeight() ),\n\t\t\t\tleft: -( $this.outerWidth() / 2 ),\n\t\t\t} );\n\t\t}\n\n\t\tif ( action === 'show' ) {\n\t\t\t$tooltip.addClass( 'hint--always' );\n\t\t} else if ( action === 'hide' ) {\n\t\t\t$tooltip.removeClass( 'hint--always' );\n\t\t}\n\t} );\n};\n\n// Qtip2 backward compatibility.\njQuery( document ).ready( function( $ ) {\n\tconst qtip_tooltips = $( '[data-tooltip]' );\n\n\t// Add hintcss tooltip to existing qtip.\n\tif ( qtip_tooltips.length ) {\n\t\tqtip_tooltips.each( function( index, tooltip ) {\n\t\t\ttooltip = ( tooltip instanceof jQuery ) ? tooltip : $( tooltip );\n\t\t\treset_qtip( tooltip );\n\t\t} );\n\t}\n\n\t// Add hintcss tooltip to dynamically created qtip.\n\t$( 'body' ).on( 'mouseenter mouseleave', '[data-tooltip]', function() {\n\t\treset_qtip( $( this ) );\n\t} );\n\n\t/**\n\t * Reset qtip to hintcss\n\t * @param tooltip\n\t */\n\tfunction reset_qtip( tooltip ) {\n\t\tif ( ! tooltip.is( '[class*=\"hint\"]' ) ) {\n\t\t\tlet classes = tooltip.attr( 'class' ),\n\t\t\t\ticon_classes = [],\n\t\t\t\tlabel_length = tooltip.data( 'tooltip' ).split( ' ' ).length;\n\n\t\t\tif ( classes ) {\n\t\t\t\tclasses = classes.split( ' ' );\n\t\t\t\ticon_classes = $.grep( classes, function( item ) {\n\t\t\t\t\treturn ( -1 !== item.indexOf( 'give-icon' ) );\n\t\t\t\t} );\n\n\t\t\t\tif ( icon_classes.length ) {\n\t\t\t\t\t// Set icon classes string.\n\t\t\t\t\ticon_classes = icon_classes.join( ' ' );\n\n\t\t\t\t\t// Remove icon class.\n\t\t\t\t\ttooltip.removeClass( icon_classes );\n\n\t\t\t\t\t// Add icon.\n\t\t\t\t\ttooltip.append( '<i class=\"' + icon_classes + '\"></i>' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add hint.css related classes.\n\t\t\ttooltip.addClass( 'hint--top' );\n\n\t\t\tif ( 15 < label_length ) {\n\t\t\t\ttooltip.addClass( 'hint--large' );\n\t\t\t} else if ( 7 < label_length ) {\n\t\t\t\ttooltip.addClass( 'hint--medium' );\n\t\t\t}\n\n\t\t\ttooltip.attr( 'aria-label', tooltip.data( 'tooltip' ) );\n\t\t}\n\t}\n} );\n","/**\n * This API is under development, so do not use this in production.\n * We will open this API for use after some testing (coming releases).\n */\n/* globals Give, jQuery */\nimport 'magnific-popup';\nimport './dynamicListener.js';\n\n/**\n * This abstract class is base for modal\n *\n * @since 2.1.0\n */\nclass GiveModal {\n\tconstructor( obj ) {\n\t\tif ( GiveModal === this.constructor ) {\n\t\t\tthrow new Error( 'Abstract classes can\\'t be instantiated.' );\n\t\t}\n\n\t\tthis.config = Object.assign(\n\t\t\t{\n\t\t\t\ttype: '',\n\t\t\t\ttriggerSelector: '',\n\t\t\t\texternalPlugin: 'magnificPopup',\n\t\t\t\tclasses: { modalWrapper: '', cancelBtn: '' },\n\t\t\t\tmodalContent: {},\n\t\t\t},\n\t\t\tobj\n\t\t);\n\n\t\t// Set main class.\n\t\tthis.config.mainClass = `${ this.config.mainClass ? this.config.mainClass : '' } modal-fade-slide`.trim();\n\t}\n\n\t/**\n\t * Bootstrap\n\t */\n\tinit() {\n\t\tthis.setupTemplate();\n\t\tthis.popupConfig();\n\t\tthis.__setupClickEvent();\n\t}\n\n\t/**\n\t * Get template\n\t *\n\t * @since 2.8.0 add support for modalContent.body for full body markup\n\t * @since 2.1.0\n\t *\n\t * @return {string} Template HTML.\n\t */\n\tgetTemplate() {\n\t\tlet template = '<div class=\"give-hidden\"></div>';\n\n\t\tif ( this.config.type.length ) {\n\t\t\ttemplate = `<div class=\"give-modal give-modal--zoom ${ this.config.classes.modalWrapper ? `${ this.config.classes.modalWrapper }`.trim() : '' }\">\n\n\t\t\t\t<div class=\"give-modal__body\">\n\t\t\t\t\t${ this.config.modalContent.title ? `<h2 class=\"give-modal__title\">${ this.config.modalContent.title }</h2>` : '' }\n\t\t\t\t\t${ this.config.modalContent.desc ? `<p class=\"give-modal__description\">${ this.config.modalContent.desc }</p>` : '' }\n\t\t\t\t\t${ this.config.modalContent.body ? this.config.modalContent.body : '' }\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"give-modal__controls\">\n\n\t\t\t\t\t${ ( 'form' === this.config.type ) ? '<div class=\"spinner\"></div>' : '' }\n\t\t\t\t\t${ ( 'form' === this.config.type && 'undefined' !== this.config.modalContent.link ) ? `<a class=\"give-modal--additional-link\" href=\"${ this.config.modalContent.link }\" target=\"${ ( 'undefined' !== this.config.modalContent.link_self && this.config.modalContent.link_self ) ? '_self' : '_blank' }\">${ this.config.modalContent.link_text }</a>` : '' }\n\n\t\t\t\t\t<button class=\"give-button give-popup-close-button${ this.config.classes.cancelBtn ? ` ${ this.config.classes.cancelBtn }` : ' give-button--secondary' }\">\n\t\t\t\t\t\t${ this.config.modalContent.cancelBtnTitle ? this.config.modalContent.cancelBtnTitle : ( 'confirm' === this.config.type ? Give.fn.getGlobalVar( 'cancel' ) : Give.fn.getGlobalVar( 'close' ) ) }\n\t\t\t\t\t</button>\n\n\t\t\t\t\t${ ( 'confirm' !== this.config.type && 'form' !== this.config.type ) ? '' : `<button class=\"give-button give-button--primary give-popup-${ this.config.type }-button\">\n\n\t\t\t\t\t\t${ this.config.modalContent.confirmBtnTitle ? this.config.modalContent.confirmBtnTitle : Give.fn.getGlobalVar( 'confirm' ) }\n\t\t\t\t\t</button>` }\n\t\t\t\t</div>\n\n\t\t\t</div>`;\n\t\t}\n\n\t\treturn template;\n\t}\n\n\t/**\n\t * Setup template\n\t *\n\t * @since 2.1.0\n\t */\n\tsetupTemplate() {\n\t\tthis.config.template = this.getTemplate();\n\t}\n\n\t/**\n\t * Handle click event if triggerSelector is set.\n\t *\n\t * @since 2.1.0\n\t * @private\n\t */\n\t__setupClickEvent() {\n\t\t// Bailout.\n\t\tif ( ! this.config.triggerSelector.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tjQuery( this.config.triggerSelector ).magnificPopup( this.config );\n\t}\n\n\t/**\n\t * Setup popup params\n\t *\n\t * Note: only for internal purpose\n\t *\n\t * @since 2.1.0\n\t * @private\n\t */\n\tpopupConfig() {\n\t\tif ( 'magnificPopup' === this.config.externalPlugin ) {\n\t\t\tthis.config.items = this.config.items || {\n\t\t\t\tsrc: this.config.template,\n\t\t\t\ttype: 'inline',\n\t\t\t};\n\n\t\t\tthis.config = Object.assign(\n\t\t\t\t{\n\t\t\t\t\tremovalDelay: 300,\n\t\t\t\t\tfixedContentPos: true,\n\t\t\t\t\tfixedBgPos: true,\n\t\t\t\t\talignTop: true,\n\t\t\t\t\tshowCloseBtn: false,\n\t\t\t\t\tcloseOnBgClick: false,\n\t\t\t\t\tenableEscapeKey: true,\n\t\t\t\t\tfocus: '.give-popup-close-button',\n\t\t\t\t},\n\t\t\t\tthis.config\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Click close button event handler\n\t *\n\t * @since 2.1.0\n\t * @private\n\t *\n\t * @param {object} event Event object.\n\t */\n\tstatic __closePopup( event ) {\n\t\tevent.preventDefault();\n\t\tjQuery.magnificPopup.instance.close();\n\t}\n\n\t/**\n\t * Give's Notice Popup\n\t *\n\t * @since 2.1.0\n\t *\n\t * @return {object} GiveModal class object.\n\t */\n\trender() {\n\t\tswitch ( this.config.externalPlugin ) {\n\t\t\tcase 'magnificPopup':\n\t\t\t\tif ( ! this.config.triggerSelector ) {\n\t\t\t\t\tjQuery.magnificPopup.open( this.config );\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Open modal after getting content from ajax\n\t *\n\t * @since 2.5.0\n\t * @private\n\t */\n\tstatic __ajaxModalHandle( event ) {\n\t\tlet $this = jQuery( event.target ),\n\t\t\tcache = $this.attr( 'data-cache' );\n\n\t\tevent.preventDefault();\n\n\t\t// Load result from cache if any.\n\t\tif ( 'undefined' !== typeof cache ) {\n\t\t\tcache = decodeURI( cache );\n\n\t\t\tnew Give.modal.GiveSuccessAlert( {\n\t\t\t\tmodalContent: {\n\t\t\t\t\ttitle: $this.attr( 'title' ),\n\t\t\t\t\tdesc: cache,\n\t\t\t\t},\n\t\t\t\tcloseOnBgClick: true,\n\t\t\t} ).render();\n\n\t\t\treturn;\n\t\t}\n\n\t\tjQuery.ajax( {\n\t\t\turl: $this.attr( 'href' ),\n\t\t\tmethod: 'GET',\n\t\t\tbeforeSend: function() {\n\t\t\t\tnew Give.modal.GiveSuccessAlert( {\n\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\tdesc: Give.fn.loader( {}, { show: null, loadingText: Give.fn.getGlobalVar( 'loader_translation' ).loading } ),\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnBgClick: true,\n\t\t\t\t} ).render();\n\t\t\t},\n\t\t\tsuccess: function( response ) {\n\t\t\t\tif ( response.length ) {\n\t\t\t\t\t$this.attr( 'data-cache', encodeURI( response ) );\n\t\t\t\t}\n\n\t\t\t\t// Do not re-open modal after successfully ajax response if modal already closed.\n\t\t\t\tif ( ! jQuery( '.mfp-wrap' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tnew Give.modal.GiveSuccessAlert( {\n\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\ttitle: $this.attr( 'title' ),\n\t\t\t\t\t\tdesc: response,\n\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnBgClick: true,\n\t\t\t\t} ).render();\n\t\t\t},\n\t\t} );\n\t}\n}\n\n/**\n * This class will handle error alert modal\n *\n * @since 2.1.0\n */\nclass GiveErrorAlert extends GiveModal {\n\tconstructor( obj ) {\n\t\tobj.type = 'alert';\n\t\tsuper( obj );\n\t\tthis.config.classes.modalWrapper = 'give-modal--error';\n\n\t\tthis.init();\n\t}\n}\n\n/**\n * This class will handle warning alert modal\n *\n * @since 2.1.0\n */\nclass GiveWarningAlert extends GiveModal {\n\tconstructor( obj ) {\n\t\tobj.type = 'alert';\n\t\tsuper( obj );\n\t\tthis.config.classes.modalWrapper = 'give-modal--warning';\n\n\t\tthis.init();\n\t}\n}\n\n/**\n * This class will handle notice alert modal\n *\n * @since 2.1.0\n */\nclass GiveNoticeAlert extends GiveModal {\n\tconstructor( obj ) {\n\t\tobj.type = 'alert';\n\t\tsuper( obj );\n\t\tthis.config.classes.modalWrapper = 'give-modal--notice';\n\n\t\tthis.init();\n\t}\n}\n\n/**\n * This class will handle success alert modal\n *\n * @since 2.8.0 extend the classes rather than override\n * @since 2.1.0\n */\nclass GiveSuccessAlert extends GiveModal {\n\tconstructor( obj ) {\n\t\tobj.type = 'alert';\n\t\tsuper( obj );\n\t\tthis.config.classes.modalWrapper += ' give-modal--success';\n\n\t\tthis.init();\n\t}\n}\n\n/**\n * This class will handle confirm modal\n *\n * @since 2.1.0\n */\nclass GiveConfirmModal extends GiveModal {\n\tconstructor( obj ) {\n\t\tobj.type = 'confirm';\n\t\tsuper( obj );\n\n\t\tif ( 'undefined' !== typeof ( obj.modalWrapper ) && '' !== obj.modalWrapper ) {\n\t\t\tthis.config.classes.modalWrapper = obj.modalWrapper;\n\t\t}\n\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Confirm button click event handler\n\t *\n\t * Note: only for internal purpose\n\t *\n\t * @since 2.1.0\n\t * @private\n\t */\n\tstatic __confirmPopup() {\n\t\tif ( 'function' === typeof jQuery.magnificPopup.instance.st.successConfirm ) {\n\t\t\tjQuery.magnificPopup.instance.st.successConfirm( {\n\t\t\t\tel: jQuery.magnificPopup.instance.st.el,\n\t\t\t} );\n\t\t\tjQuery.magnificPopup.close();\n\t\t}\n\t}\n}\n\n/**\n * This class will handle Form modal\n *\n * @since 2.2.0\n */\nclass GiveFormModal extends GiveModal {\n\tconstructor( obj ) {\n\t\tobj.type = 'form';\n\t\tsuper( obj );\n\n\t\tif ( 'undefined' !== typeof ( obj.modalWrapper ) && '' !== obj.modalWrapper ) {\n\t\t\tthis.config.classes.modalWrapper = obj.modalWrapper;\n\t\t}\n\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Submit button click event handler\n\t *\n\t * Note: only for internal purpose\n\t *\n\t * @since 2.2.0\n\t * @private\n\t */\n\tstatic __submitPopup() {\n\t\tif ( 'function' === typeof jQuery.magnificPopup.instance.st.successConfirm ) {\n\t\t\tjQuery.magnificPopup.instance.st.successConfirm( {\n\t\t\t\tel: jQuery.magnificPopup.instance.st.el,\n\t\t\t} );\n\t\t}\n\t}\n}\n\n/**\n * Add events\n */\nwindow.addDynamicEventListener( document, 'click', '.give-popup-close-button', GiveModal.__closePopup, {} );\nwindow.addDynamicEventListener( document, 'click', '.give-popup-confirm-button', GiveConfirmModal.__confirmPopup, {} );\nwindow.addDynamicEventListener( document, 'click', '.give-popup-form-button', GiveFormModal.__submitPopup, {} );\nwindow.addDynamicEventListener( document, 'click', '.give-ajax-modal', GiveModal.__ajaxModalHandle, {} );\n\nexport { GiveModal, GiveErrorAlert, GiveWarningAlert, GiveNoticeAlert, GiveSuccessAlert, GiveConfirmModal, GiveFormModal };\n","// Use only in WP Backend.\njQuery( document ).ready( function( $ ) {\n\t$( 'body' ).on( 'click', '.notice-dismiss', function( event ) {\n\t\tconst $el = $( this ).parent().parent();\n\n\t\t// Exit if not give notices.\n\t\tif ( ! $el.hasClass( 'give-notice' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\t$el.fadeTo( 100, 0, function() {\n\t\t\t$el.slideUp( 100, function() {\n\t\t\t\t$el.remove();\n\t\t\t} );\n\t\t} );\n\t} );\n} );\n","/*\n * jQuery Repeatable Fields v1.4.8\n * http://www.rhyzz.com/repeatable-fields.html\n *\n * Copyright (c) 2014-2015 Rhyzz\n * License MIT\n */\n\nimport { GiveConfirmModal } from './modal';\n\n( function( $ ) {\n\t$.fn.repeatable_fields = function( custom_settings ) {\n\t\tconst default_settings = {\n\t\t\twrapper: '.wrapper',\n\t\t\tcontainer: '.container',\n\t\t\trow: '.row',\n\t\t\tadd: '.add',\n\t\t\tremove: '.remove',\n\t\t\tconfirm_before_remove_row: false,\n\t\t\tconfirm_before_remove_row_text: '',\n\t\t\tmove: '.move',\n\t\t\ttemplate: '.template',\n\t\t\tis_sortable: true,\n\t\t\tbefore_add: null,\n\t\t\tafter_add: after_add,\n\t\t\tbefore_remove: null,\n\t\t\tafter_remove: null,\n\t\t\tsortable_options: null,\n\t\t\trow_count_placeholder: '{{row-count-placeholder}}',\n\t\t};\n\n\t\tconst settings = $.extend( {}, default_settings, custom_settings );\n\n\t\t// Initialize all repeatable field wrappers\n\t\tinitialize( this );\n\n\t\tfunction initialize( parent ) {\n\t\t\t$( settings.wrapper, parent ).each( function( index, element ) {\n\t\t\t\tconst wrapper = this;\n\n\t\t\t\tconst container = $( wrapper ).children( settings.container );\n\n\t\t\t\t// Disable all form elements inside the row template\n\t\t\t\t$( container ).children( settings.template ).hide().find( ':input' ).each( function() {\n\t\t\t\t\t$( this ).prop( 'disabled', true );\n\t\t\t\t} );\n\n\t\t\t\tconst row_count = $( container ).children( settings.row ).filter( function() {\n\t\t\t\t\treturn ! $( this ).hasClass( settings.template.replace( '.', '' ) );\n\t\t\t\t} ).length;\n\n\t\t\t\t$( container ).attr( 'data-rf-row-count', row_count );\n\n\t\t\t\t$( wrapper ).on( 'click', settings.add, function( event ) {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\n\t\t\t\t\tconst row_template = $( $( container ).children( settings.template ).clone().removeClass( settings.template.replace( '.', '' ) )[ 0 ].outerHTML );\n\n\t\t\t\t\t// Enable all form elements inside the row template\n\t\t\t\t\t$( row_template ).find( ':input' ).each( function() {\n\t\t\t\t\t\t$( this ).prop( 'disabled', false );\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( typeof settings.before_add === 'function' ) {\n\t\t\t\t\t\tsettings.before_add( container );\n\t\t\t\t\t}\n\n\t\t\t\t\tconst new_row = $( row_template ).show().appendTo( container );\n\n\t\t\t\t\tif ( typeof settings.after_add === 'function' ) {\n\t\t\t\t\t\tsettings.after_add( container, new_row, after_add );\n\t\t\t\t\t}\n\n\t\t\t\t\t// The new row might have it's own repeatable field wrappers so initialize them too\n\t\t\t\t\tinitialize( new_row );\n\t\t\t\t} );\n\n\t\t\t\t$( wrapper ).on( 'click', settings.remove, function( event ) {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\n\t\t\t\t\tconst $this = $( this );\n\n\t\t\t\t\tif ( ! settings.confirm_before_remove_row || ! settings.confirm_before_remove_row_text ) {\n\t\t\t\t\t\tremove_row( $this, container );\n\t\t\t\t\t}\n\n\t\t\t\t\tnew GiveConfirmModal(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodalWrapper: 'give-modal--warning',\n\t\t\t\t\t\t\tmodalContent: {\n\t\t\t\t\t\t\t\tdesc: settings.confirm_before_remove_row_text,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccessConfirm: function() {\n\t\t\t\t\t\t\t\tremove_row( $this, container );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t).render();\n\n\t\t\t\t\treturn false;\n\t\t\t\t} );\n\n\t\t\t\tif ( settings.is_sortable === true && typeof $.ui !== 'undefined' && typeof $.ui.sortable !== 'undefined' ) {\n\t\t\t\t\tconst sortable_options = settings.sortable_options !== null ? settings.sortable_options : {};\n\n\t\t\t\t\tsortable_options.handle = settings.move;\n\n\t\t\t\t\t$( wrapper ).find( settings.container ).sortable( sortable_options );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tfunction remove_row( $removeButton, container ) {\n\t\t\tconst row = $removeButton.parents( settings.row ).first();\n\n\t\t\tif ( typeof settings.before_remove === 'function' ) {\n\t\t\t\tsettings.before_remove( container, row );\n\t\t\t}\n\n\t\t\trow.remove();\n\n\t\t\tif ( typeof settings.after_remove === 'function' ) {\n\t\t\t\tsettings.after_remove( container );\n\t\t\t}\n\t\t}\n\n\t\tfunction after_add( container, new_row ) {\n\t\t\tlet row_count = $( container ).attr( 'data-rf-row-count' );\n\n\t\t\trow_count++;\n\n\t\t\t$( '*', new_row ).each( function() {\n\t\t\t\t$.each( this.attributes, function( index, element ) {\n\t\t\t\t\tthis.value = this.value.replace( settings.row_count_placeholder, row_count - 1 );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t$( container ).attr( 'data-rf-row-count', row_count );\n\t\t}\n\t};\n}( jQuery ) );\n","const Give_Selector_Cache = {\n\tcollection: {},\n\n\tget: function( selector, parent, refresh_cache ) {\n\t\t// Bailout.\n\t\tif ( ! jQuery ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\t// Set default parent.\n\t\tparent = ( undefined !== parent ) ? parent : undefined;\n\t\trefresh_cache = ( refresh_cache === true );\n\n\t\tif ( ( undefined === this.collection[ selector ] ) || refresh_cache ) {\n\t\t\tif ( undefined !== parent ) {\n\t\t\t\tthis.collection[ selector ] = jQuery( selector, parent );\n\t\t\t} else {\n\t\t\t\tthis.collection[ selector ] = jQuery( selector );\n\t\t\t}\n\t\t}\n\n\t\treturn this.collection[ selector ];\n\t},\n};\n\nwindow.Give_Selector_Cache = Give_Selector_Cache;\n","// Code to handle showing/hiding admin notices (based on dismissed status in localStorage)\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Select dismissable notices\n    const notices = document.querySelectorAll('div[data-give-dismissible]');\n\n    // Apply for every dismissible GiveWP notice\n    notices.forEach((notice) => {\n        // Generate storage id for notice\n        const storageId = `give-dismissed-${notice.dataset.giveDismissible}`;\n\n        // Retrieve timestamp of notice dismissal, if it has already happened\n        const storedItem = window.localStorage.getItem(storageId);\n\n        // If notice has not yet been dismissed continue\n        if (!storedItem) {\n            // Show the notice, if it has not been dismissed\n            notice.classList.remove('hidden');\n\n            // On dismissal click, add a record to local storage to that it remains hidden in the future\n            notice.addEventListener('click', (e) => {\n                if (e.target.classList.contains('notice-dismiss')) {\n                    window.localStorage.setItem(storageId, Date.now());\n                }\n\n                if (e.target.classList.contains('give-donor-dashboard-upgrade-notice__dismiss-link')) {\n                    notice.classList.add('hidden');\n                    window.localStorage.setItem(storageId, Date.now());\n                }\n            });\n        }\n    });\n});\n","/**\n * Disconnect stripe account\n *\n * This will be used to disconnect any Stripe account from the list\n *\n * @since 2.13.0\n */\nimport { __ } from '@wordpress/i18n'\n\nwindow.addEventListener('DOMContentLoaded', function () {\n    const bodyClass = document.body.classList.contains('post-php') ? '.post-php' : '.post-new-php';\n    const form = document.querySelector(`${bodyClass}.post-type-give_forms form[name=\"post\"]`);\n\n    if (!form) {\n        return;\n    }\n\n    form.addEventListener('submit', (event) => {\n        const stripeSetting = document.querySelector(\n            '#stripe_form_account_options [name=\"give_stripe_per_form_accounts\"]:checked'\n        );\n\n        // Do nothing if Stripe gateway is not active\n        if (!stripeSetting) {\n            return;\n        }\n\n        // Do nothing if Stripe account is not connected\n        const isCustomizeStripeAccountOptionSelected = stripeSetting.value === 'enabled';\n        if (!isCustomizeStripeAccountOptionSelected) {\n            return;\n        }\n\n        // Do nothing if default Stripe account is used\n        const hasDefaultStripeAccount = !!document.querySelector(\n            '#stripe_form_account_options .give-stripe-account-manager-list-item.give-stripe-boxshadow-option-wrap__selected'\n        );\n        if (hasDefaultStripeAccount) {\n            return;\n        }\n\n        event.preventDefault();\n        new Give.modal.GiveNoticeAlert({\n            type: 'warning',\n            modalContent: {\n                title: __('Select a Stripe Account', 'give'),\n                desc: __(\n                    \"You've selected to customize the Stripe account for this form, but not selected a different account. Please set an account as default for this form on the Stripe settings tab.\",\n                    'give'\n                ),\n            },\n        }).render();\n\n        // Open Stripe settings.\n        if ('stripe_form_account_options' !== Give.fn.getParameterByName('give_tab')) {\n            document.querySelector('a[href=\"#stripe_form_account_options\"]').click();\n        }\n    });\n});\n","/**\n * Disconnect stripe account\n *\n * This will be used to disconnect any Stripe account from the list\n *\n * @since 2.13.0\n */\nimport { __ } from '@wordpress/i18n'\n\nwindow.addEventListener('DOMContentLoaded', function () {\n    const disconnectBtns = Array.from(document.querySelectorAll('.give-stripe-disconnect-account-btn'));\n\n    if (!disconnectBtns.length) {\n        return;\n    }\n\n    disconnectBtns.forEach((button) => {\n        button.addEventListener('click', (e) => {\n            e.preventDefault();\n            const button = e.target;\n            let modalTitle = __('Disconnect Stripe Account', 'give');\n            let modalMessage = __('Are you sure you want to disconnect this Stripe account?', 'give');\n\n            new Give.modal.GiveConfirmModal({\n                type: 'alert',\n                classes: {\n                    modalWrapper: 'give-modal--warning',\n                },\n                modalContent: {\n                    title: modalTitle,\n                    desc: modalMessage,\n                },\n                successConfirm: () => {\n                    fetch(button.getAttribute('href'))\n                        .then((response) => response.json())\n                        .then((response) => {\n                            if (response.success) {\n                                window.location.reload();\n                            }\n                        });\n                },\n            }).render();\n        });\n    });\n});\n","/**\n * Set Default Stripe Account\n *\n * This will be used to set any non-default Stripe account from the list\n * to set that particular Stripe account as default.\n *\n * @since 2.13.0\n */\nimport { __ } from '@wordpress/i18n'\n\nwindow.addEventListener('DOMContentLoaded', function () {\n    const setStripeDefaults = Array.from(document.querySelectorAll('.give-stripe-account-set-default'));\n\n    if (!setStripeDefaults.length) {\n        return;\n    }\n\n    setStripeDefaults.forEach((setStripeDefault) => {\n        setStripeDefault.addEventListener('click', (e) => {\n            e.preventDefault();\n            const stripeAccountInformationContainer = e.target.parentElement.parentElement.parentElement.parentElement;\n            const stripeEmailValueContainer = stripeAccountInformationContainer.querySelector(\n                '.give-stripe-account-email .give-stripe-connect-data-field'\n            );\n            const settingPageType = stripeAccountInformationContainer.querySelector('input[name=\"setting-page\"]').value;\n            let accountEmail = '';\n            let modalMessage = '';\n\n            const accountName = sprintf(\n                '<p><strong>%1$s</strong><br>%2$s</p>',\n                __('Account Name', 'give'),\n                e.target.parentElement.parentElement.querySelector(\n                    '.give-stripe-account-name .give-stripe-connect-data-field'\n                ).textContent\n            );\n\n            if (stripeEmailValueContainer) {\n                accountEmail = sprintf(\n                    '<p><strong>%1$s</strong><br>%2$s</p>',\n                    __('Account Email', 'give'),\n                    stripeEmailValueContainer.textContent\n                );\n            }\n\n            const docLink = sprintf(\n                '<a href=\"%1$s\" target=\"_blank\">%2$s</a>',\n                'https://givewp.com/documentation/core/payment-gateways/stripe-free/using-multiple-stripe-accounts-on-a-single-givewp-site/',\n                __('View Documentation >', 'give')\n            );\n\n            modalMessage =\n                'global' === settingPageType\n                    ? sprintf(\n                          __(\n                              'Please confirm you’d like to set the account below as the new default Stripe account. All donation forms set to inherit the Global Settings will use this new default account. %1$s<br>%2$s%3$s',\n                              'give'\n                          ),\n                          docLink,\n                          accountName,\n                          accountEmail\n                      )\n                    : sprintf(\n                          __(\n                              'Please confirm you’d like to set the account below as the new default Stripe account for this donation form. All donations will process through this Stripe account rather than the Global default Stripe account. %1$s<br>%2$s%3$s',\n                              'give'\n                          ),\n                          docLink,\n                          accountName,\n                          accountEmail\n                      );\n\n            new Give.modal.GiveConfirmModal({\n                classes: {\n                    modalWrapper: 'give-modal--warning give-stripe-modal-new-default',\n                },\n                modalContent: {\n                    title: sprintf(\n                        '<span class=\"give-stripe-icon stripe-logo-with-circle\"></span>%s',\n                        __('Confirm New Default Account', 'give')\n                    ),\n                    desc: modalMessage,\n                },\n                successConfirm: function (args) {\n                    const xhr = new XMLHttpRequest();\n                    const formData = new FormData();\n                    const formId = Give.fn.getGlobalVar('post_id');\n\n                    formData.append('action', 'give_stripe_set_account_default');\n                    formData.append('account_slug', e.target.getAttribute('data-account'));\n                    formData.append('form_id', formId);\n\n                    xhr.open('POST', ajaxurl);\n                    xhr.onload = function () {\n                        const response = JSON.parse(xhr.response);\n                        if (xhr.status === 200 && response.success) {\n                            window.location.reload();\n                        }\n                    };\n                    xhr.send(formData);\n                },\n            }).render();\n        });\n    });\n});\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","(function() {\n  var $, AbstractChosen, Chosen, SelectParser,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  SelectParser = (function() {\n    function SelectParser() {\n      this.options_index = 0;\n      this.parsed = [];\n    }\n\n    SelectParser.prototype.add_node = function(child) {\n      if (child.nodeName.toUpperCase() === \"OPTGROUP\") {\n        return this.add_group(child);\n      } else {\n        return this.add_option(child);\n      }\n    };\n\n    SelectParser.prototype.add_group = function(group) {\n      var group_position, i, len, option, ref, results1;\n      group_position = this.parsed.length;\n      this.parsed.push({\n        array_index: group_position,\n        group: true,\n        label: group.label,\n        title: group.title ? group.title : void 0,\n        children: 0,\n        disabled: group.disabled,\n        classes: group.className\n      });\n      ref = group.childNodes;\n      results1 = [];\n      for (i = 0, len = ref.length; i < len; i++) {\n        option = ref[i];\n        results1.push(this.add_option(option, group_position, group.disabled));\n      }\n      return results1;\n    };\n\n    SelectParser.prototype.add_option = function(option, group_position, group_disabled) {\n      if (option.nodeName.toUpperCase() === \"OPTION\") {\n        if (option.text !== \"\") {\n          if (group_position != null) {\n            this.parsed[group_position].children += 1;\n          }\n          this.parsed.push({\n            array_index: this.parsed.length,\n            options_index: this.options_index,\n            value: option.value,\n            text: option.text,\n            html: option.innerHTML,\n            title: option.title ? option.title : void 0,\n            selected: option.selected,\n            disabled: group_disabled === true ? group_disabled : option.disabled,\n            group_array_index: group_position,\n            group_label: group_position != null ? this.parsed[group_position].label : null,\n            classes: option.className,\n            style: option.style.cssText\n          });\n        } else {\n          this.parsed.push({\n            array_index: this.parsed.length,\n            options_index: this.options_index,\n            empty: true\n          });\n        }\n        return this.options_index += 1;\n      }\n    };\n\n    return SelectParser;\n\n  })();\n\n  SelectParser.select_to_array = function(select) {\n    var child, i, len, parser, ref;\n    parser = new SelectParser();\n    ref = select.childNodes;\n    for (i = 0, len = ref.length; i < len; i++) {\n      child = ref[i];\n      parser.add_node(child);\n    }\n    return parser.parsed;\n  };\n\n  AbstractChosen = (function() {\n    function AbstractChosen(form_field, options1) {\n      this.form_field = form_field;\n      this.options = options1 != null ? options1 : {};\n      this.label_click_handler = bind(this.label_click_handler, this);\n      if (!AbstractChosen.browser_is_supported()) {\n        return;\n      }\n      this.is_multiple = this.form_field.multiple;\n      this.set_default_text();\n      this.set_default_values();\n      this.setup();\n      this.set_up_html();\n      this.register_observers();\n      this.on_ready();\n    }\n\n    AbstractChosen.prototype.set_default_values = function() {\n      this.click_test_action = (function(_this) {\n        return function(evt) {\n          return _this.test_active_click(evt);\n        };\n      })(this);\n      this.activate_action = (function(_this) {\n        return function(evt) {\n          return _this.activate_field(evt);\n        };\n      })(this);\n      this.active_field = false;\n      this.mouse_on_container = false;\n      this.results_showing = false;\n      this.result_highlighted = null;\n      this.is_rtl = this.options.rtl || /\\bchosen-rtl\\b/.test(this.form_field.className);\n      this.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\n      this.disable_search_threshold = this.options.disable_search_threshold || 0;\n      this.disable_search = this.options.disable_search || false;\n      this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\n      this.group_search = this.options.group_search != null ? this.options.group_search : true;\n      this.search_contains = this.options.search_contains || false;\n      this.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\n      this.max_selected_options = this.options.max_selected_options || Infinity;\n      this.inherit_select_classes = this.options.inherit_select_classes || false;\n      this.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\n      this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\n      this.include_group_label_in_selected = this.options.include_group_label_in_selected || false;\n      this.max_shown_results = this.options.max_shown_results || Number.POSITIVE_INFINITY;\n      this.case_sensitive_search = this.options.case_sensitive_search || false;\n      return this.hide_results_on_select = this.options.hide_results_on_select != null ? this.options.hide_results_on_select : true;\n    };\n\n    AbstractChosen.prototype.set_default_text = function() {\n      if (this.form_field.getAttribute(\"data-placeholder\")) {\n        this.default_text = this.form_field.getAttribute(\"data-placeholder\");\n      } else if (this.is_multiple) {\n        this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\n      } else {\n        this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\n      }\n      this.default_text = this.escape_html(this.default_text);\n      return this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\n    };\n\n    AbstractChosen.prototype.choice_label = function(item) {\n      if (this.include_group_label_in_selected && (item.group_label != null)) {\n        return \"<b class='group-name'>\" + (this.escape_html(item.group_label)) + \"</b>\" + item.html;\n      } else {\n        return item.html;\n      }\n    };\n\n    AbstractChosen.prototype.mouse_enter = function() {\n      return this.mouse_on_container = true;\n    };\n\n    AbstractChosen.prototype.mouse_leave = function() {\n      return this.mouse_on_container = false;\n    };\n\n    AbstractChosen.prototype.input_focus = function(evt) {\n      if (this.is_multiple) {\n        if (!this.active_field) {\n          return setTimeout(((function(_this) {\n            return function() {\n              return _this.container_mousedown();\n            };\n          })(this)), 50);\n        }\n      } else {\n        if (!this.active_field) {\n          return this.activate_field();\n        }\n      }\n    };\n\n    AbstractChosen.prototype.input_blur = function(evt) {\n      if (!this.mouse_on_container) {\n        this.active_field = false;\n        return setTimeout(((function(_this) {\n          return function() {\n            return _this.blur_test();\n          };\n        })(this)), 100);\n      }\n    };\n\n    AbstractChosen.prototype.label_click_handler = function(evt) {\n      if (this.is_multiple) {\n        return this.container_mousedown(evt);\n      } else {\n        return this.activate_field();\n      }\n    };\n\n    AbstractChosen.prototype.results_option_build = function(options) {\n      var content, data, data_content, i, len, ref, shown_results;\n      content = '';\n      shown_results = 0;\n      ref = this.results_data;\n      for (i = 0, len = ref.length; i < len; i++) {\n        data = ref[i];\n        data_content = '';\n        if (data.group) {\n          data_content = this.result_add_group(data);\n        } else {\n          data_content = this.result_add_option(data);\n        }\n        if (data_content !== '') {\n          shown_results++;\n          content += data_content;\n        }\n        if (options != null ? options.first : void 0) {\n          if (data.selected && this.is_multiple) {\n            this.choice_build(data);\n          } else if (data.selected && !this.is_multiple) {\n            this.single_set_selected_text(this.choice_label(data));\n          }\n        }\n        if (shown_results >= this.max_shown_results) {\n          break;\n        }\n      }\n      return content;\n    };\n\n    AbstractChosen.prototype.result_add_option = function(option) {\n      var classes, option_el;\n      if (!option.search_match) {\n        return '';\n      }\n      if (!this.include_option_in_results(option)) {\n        return '';\n      }\n      classes = [];\n      if (!option.disabled && !(option.selected && this.is_multiple)) {\n        classes.push(\"active-result\");\n      }\n      if (option.disabled && !(option.selected && this.is_multiple)) {\n        classes.push(\"disabled-result\");\n      }\n      if (option.selected) {\n        classes.push(\"result-selected\");\n      }\n      if (option.group_array_index != null) {\n        classes.push(\"group-option\");\n      }\n      if (option.classes !== \"\") {\n        classes.push(option.classes);\n      }\n      option_el = document.createElement(\"li\");\n      option_el.className = classes.join(\" \");\n      if (option.style) {\n        option_el.style.cssText = option.style;\n      }\n      option_el.setAttribute(\"data-option-array-index\", option.array_index);\n      option_el.innerHTML = option.highlighted_html || option.html;\n      if (option.title) {\n        option_el.title = option.title;\n      }\n      return this.outerHTML(option_el);\n    };\n\n    AbstractChosen.prototype.result_add_group = function(group) {\n      var classes, group_el;\n      if (!(group.search_match || group.group_match)) {\n        return '';\n      }\n      if (!(group.active_options > 0)) {\n        return '';\n      }\n      classes = [];\n      classes.push(\"group-result\");\n      if (group.classes) {\n        classes.push(group.classes);\n      }\n      group_el = document.createElement(\"li\");\n      group_el.className = classes.join(\" \");\n      group_el.innerHTML = group.highlighted_html || this.escape_html(group.label);\n      if (group.title) {\n        group_el.title = group.title;\n      }\n      return this.outerHTML(group_el);\n    };\n\n    AbstractChosen.prototype.results_update_field = function() {\n      this.set_default_text();\n      if (!this.is_multiple) {\n        this.results_reset_cleanup();\n      }\n      this.result_clear_highlight();\n      this.results_build();\n      if (this.results_showing) {\n        return this.winnow_results();\n      }\n    };\n\n    AbstractChosen.prototype.reset_single_select_options = function() {\n      var i, len, ref, result, results1;\n      ref = this.results_data;\n      results1 = [];\n      for (i = 0, len = ref.length; i < len; i++) {\n        result = ref[i];\n        if (result.selected) {\n          results1.push(result.selected = false);\n        } else {\n          results1.push(void 0);\n        }\n      }\n      return results1;\n    };\n\n    AbstractChosen.prototype.results_toggle = function() {\n      if (this.results_showing) {\n        return this.results_hide();\n      } else {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.results_search = function(evt) {\n      if (this.results_showing) {\n        return this.winnow_results();\n      } else {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.winnow_results = function(options) {\n      var escapedQuery, fix, i, len, option, prefix, query, ref, regex, results, results_group, search_match, startpos, suffix, text;\n      this.no_results_clear();\n      results = 0;\n      query = this.get_search_text();\n      escapedQuery = query.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n      regex = this.get_search_regex(escapedQuery);\n      ref = this.results_data;\n      for (i = 0, len = ref.length; i < len; i++) {\n        option = ref[i];\n        option.search_match = false;\n        results_group = null;\n        search_match = null;\n        option.highlighted_html = '';\n        if (this.include_option_in_results(option)) {\n          if (option.group) {\n            option.group_match = false;\n            option.active_options = 0;\n          }\n          if ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\n            results_group = this.results_data[option.group_array_index];\n            if (results_group.active_options === 0 && results_group.search_match) {\n              results += 1;\n            }\n            results_group.active_options += 1;\n          }\n          text = option.group ? option.label : option.text;\n          if (!(option.group && !this.group_search)) {\n            search_match = this.search_string_match(text, regex);\n            option.search_match = search_match != null;\n            if (option.search_match && !option.group) {\n              results += 1;\n            }\n            if (option.search_match) {\n              if (query.length) {\n                startpos = search_match.index;\n                prefix = text.slice(0, startpos);\n                fix = text.slice(startpos, startpos + query.length);\n                suffix = text.slice(startpos + query.length);\n                option.highlighted_html = (this.escape_html(prefix)) + \"<em>\" + (this.escape_html(fix)) + \"</em>\" + (this.escape_html(suffix));\n              }\n              if (results_group != null) {\n                results_group.group_match = true;\n              }\n            } else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\n              option.search_match = true;\n            }\n          }\n        }\n      }\n      this.result_clear_highlight();\n      if (results < 1 && query.length) {\n        this.update_results_content(\"\");\n        return this.no_results(query);\n      } else {\n        this.update_results_content(this.results_option_build());\n        if (!(options != null ? options.skip_highlight : void 0)) {\n          return this.winnow_results_set_highlight();\n        }\n      }\n    };\n\n    AbstractChosen.prototype.get_search_regex = function(escaped_search_string) {\n      var regex_flag, regex_string;\n      regex_string = this.search_contains ? escaped_search_string : \"(^|\\\\s|\\\\b)\" + escaped_search_string + \"[^\\\\s]*\";\n      if (!(this.enable_split_word_search || this.search_contains)) {\n        regex_string = \"^\" + regex_string;\n      }\n      regex_flag = this.case_sensitive_search ? \"\" : \"i\";\n      return new RegExp(regex_string, regex_flag);\n    };\n\n    AbstractChosen.prototype.search_string_match = function(search_string, regex) {\n      var match;\n      match = regex.exec(search_string);\n      if (!this.search_contains && (match != null ? match[1] : void 0)) {\n        match.index += 1;\n      }\n      return match;\n    };\n\n    AbstractChosen.prototype.choices_count = function() {\n      var i, len, option, ref;\n      if (this.selected_option_count != null) {\n        return this.selected_option_count;\n      }\n      this.selected_option_count = 0;\n      ref = this.form_field.options;\n      for (i = 0, len = ref.length; i < len; i++) {\n        option = ref[i];\n        if (option.selected) {\n          this.selected_option_count += 1;\n        }\n      }\n      return this.selected_option_count;\n    };\n\n    AbstractChosen.prototype.choices_click = function(evt) {\n      evt.preventDefault();\n      this.activate_field();\n      if (!(this.results_showing || this.is_disabled)) {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.keydown_checker = function(evt) {\n      var ref, stroke;\n      stroke = (ref = evt.which) != null ? ref : evt.keyCode;\n      this.search_field_scale();\n      if (stroke !== 8 && this.pending_backstroke) {\n        this.clear_backstroke();\n      }\n      switch (stroke) {\n        case 8:\n          this.backstroke_length = this.get_search_field_value().length;\n          break;\n        case 9:\n          if (this.results_showing && !this.is_multiple) {\n            this.result_select(evt);\n          }\n          this.mouse_on_container = false;\n          break;\n        case 13:\n          if (this.results_showing) {\n            evt.preventDefault();\n          }\n          break;\n        case 27:\n          if (this.results_showing) {\n            evt.preventDefault();\n          }\n          break;\n        case 32:\n          if (this.disable_search) {\n            evt.preventDefault();\n          }\n          break;\n        case 38:\n          evt.preventDefault();\n          this.keyup_arrow();\n          break;\n        case 40:\n          evt.preventDefault();\n          this.keydown_arrow();\n          break;\n      }\n    };\n\n    AbstractChosen.prototype.keyup_checker = function(evt) {\n      var ref, stroke;\n      stroke = (ref = evt.which) != null ? ref : evt.keyCode;\n      this.search_field_scale();\n      switch (stroke) {\n        case 8:\n          if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\n            this.keydown_backstroke();\n          } else if (!this.pending_backstroke) {\n            this.result_clear_highlight();\n            this.results_search();\n          }\n          break;\n        case 13:\n          evt.preventDefault();\n          if (this.results_showing) {\n            this.result_select(evt);\n          }\n          break;\n        case 27:\n          if (this.results_showing) {\n            this.results_hide();\n          }\n          break;\n        case 9:\n        case 16:\n        case 17:\n        case 18:\n        case 38:\n        case 40:\n        case 91:\n          break;\n        default:\n          this.results_search();\n          break;\n      }\n    };\n\n    AbstractChosen.prototype.clipboard_event_checker = function(evt) {\n      if (this.is_disabled) {\n        return;\n      }\n      return setTimeout(((function(_this) {\n        return function() {\n          return _this.results_search();\n        };\n      })(this)), 50);\n    };\n\n    AbstractChosen.prototype.container_width = function() {\n      if (this.options.width != null) {\n        return this.options.width;\n      } else {\n        return this.form_field.offsetWidth + \"px\";\n      }\n    };\n\n    AbstractChosen.prototype.include_option_in_results = function(option) {\n      if (this.is_multiple && (!this.display_selected_options && option.selected)) {\n        return false;\n      }\n      if (!this.display_disabled_options && option.disabled) {\n        return false;\n      }\n      if (option.empty) {\n        return false;\n      }\n      return true;\n    };\n\n    AbstractChosen.prototype.search_results_touchstart = function(evt) {\n      this.touch_started = true;\n      return this.search_results_mouseover(evt);\n    };\n\n    AbstractChosen.prototype.search_results_touchmove = function(evt) {\n      this.touch_started = false;\n      return this.search_results_mouseout(evt);\n    };\n\n    AbstractChosen.prototype.search_results_touchend = function(evt) {\n      if (this.touch_started) {\n        return this.search_results_mouseup(evt);\n      }\n    };\n\n    AbstractChosen.prototype.outerHTML = function(element) {\n      var tmp;\n      if (element.outerHTML) {\n        return element.outerHTML;\n      }\n      tmp = document.createElement(\"div\");\n      tmp.appendChild(element);\n      return tmp.innerHTML;\n    };\n\n    AbstractChosen.prototype.get_single_html = function() {\n      return \"<a class=\\\"chosen-single chosen-default\\\">\\n  <span>\" + this.default_text + \"</span>\\n  <div><b></b></div>\\n</a>\\n<div class=\\\"chosen-drop\\\">\\n  <div class=\\\"chosen-search\\\">\\n    <input class=\\\"chosen-search-input\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" />\\n  </div>\\n  <ul class=\\\"chosen-results\\\"></ul>\\n</div>\";\n    };\n\n    AbstractChosen.prototype.get_multi_html = function() {\n      return \"<ul class=\\\"chosen-choices\\\">\\n  <li class=\\\"search-field\\\">\\n    <input class=\\\"chosen-search-input\\\" type=\\\"text\\\" autocomplete=\\\"off\\\" value=\\\"\" + this.default_text + \"\\\" />\\n  </li>\\n</ul>\\n<div class=\\\"chosen-drop\\\">\\n  <ul class=\\\"chosen-results\\\"></ul>\\n</div>\";\n    };\n\n    AbstractChosen.prototype.get_no_results_html = function(terms) {\n      return \"<li class=\\\"no-results\\\">\\n  \" + this.results_none_found + \" <span>\" + (this.escape_html(terms)) + \"</span>\\n</li>\";\n    };\n\n    AbstractChosen.browser_is_supported = function() {\n      if (\"Microsoft Internet Explorer\" === window.navigator.appName) {\n        return document.documentMode >= 8;\n      }\n      if (/iP(od|hone)/i.test(window.navigator.userAgent) || /IEMobile/i.test(window.navigator.userAgent) || /Windows Phone/i.test(window.navigator.userAgent) || /BlackBerry/i.test(window.navigator.userAgent) || /BB10/i.test(window.navigator.userAgent) || /Android.*Mobile/i.test(window.navigator.userAgent)) {\n        return false;\n      }\n      return true;\n    };\n\n    AbstractChosen.default_multiple_text = \"Select Some Options\";\n\n    AbstractChosen.default_single_text = \"Select an Option\";\n\n    AbstractChosen.default_no_result_text = \"No results match\";\n\n    return AbstractChosen;\n\n  })();\n\n  $ = jQuery;\n\n  $.fn.extend({\n    chosen: function(options) {\n      if (!AbstractChosen.browser_is_supported()) {\n        return this;\n      }\n      return this.each(function(input_field) {\n        var $this, chosen;\n        $this = $(this);\n        chosen = $this.data('chosen');\n        if (options === 'destroy') {\n          if (chosen instanceof Chosen) {\n            chosen.destroy();\n          }\n          return;\n        }\n        if (!(chosen instanceof Chosen)) {\n          $this.data('chosen', new Chosen(this, options));\n        }\n      });\n    }\n  });\n\n  Chosen = (function(superClass) {\n    extend(Chosen, superClass);\n\n    function Chosen() {\n      return Chosen.__super__.constructor.apply(this, arguments);\n    }\n\n    Chosen.prototype.setup = function() {\n      this.form_field_jq = $(this.form_field);\n      return this.current_selectedIndex = this.form_field.selectedIndex;\n    };\n\n    Chosen.prototype.set_up_html = function() {\n      var container_classes, container_props;\n      container_classes = [\"chosen-container\"];\n      container_classes.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\n      if (this.inherit_select_classes && this.form_field.className) {\n        container_classes.push(this.form_field.className);\n      }\n      if (this.is_rtl) {\n        container_classes.push(\"chosen-rtl\");\n      }\n      container_props = {\n        'class': container_classes.join(' '),\n        'title': this.form_field.title\n      };\n      if (this.form_field.id.length) {\n        container_props.id = this.form_field.id.replace(/[^\\w]/g, '_') + \"_chosen\";\n      }\n      this.container = $(\"<div />\", container_props);\n      this.container.width(this.container_width());\n      if (this.is_multiple) {\n        this.container.html(this.get_multi_html());\n      } else {\n        this.container.html(this.get_single_html());\n      }\n      this.form_field_jq.hide().after(this.container);\n      this.dropdown = this.container.find('div.chosen-drop').first();\n      this.search_field = this.container.find('input').first();\n      this.search_results = this.container.find('ul.chosen-results').first();\n      this.search_field_scale();\n      this.search_no_results = this.container.find('li.no-results').first();\n      if (this.is_multiple) {\n        this.search_choices = this.container.find('ul.chosen-choices').first();\n        this.search_container = this.container.find('li.search-field').first();\n      } else {\n        this.search_container = this.container.find('div.chosen-search').first();\n        this.selected_item = this.container.find('.chosen-single').first();\n      }\n      this.results_build();\n      this.set_tab_index();\n      return this.set_label_behavior();\n    };\n\n    Chosen.prototype.on_ready = function() {\n      return this.form_field_jq.trigger(\"chosen:ready\", {\n        chosen: this\n      });\n    };\n\n    Chosen.prototype.register_observers = function() {\n      this.container.on('touchstart.chosen', (function(_this) {\n        return function(evt) {\n          _this.container_mousedown(evt);\n        };\n      })(this));\n      this.container.on('touchend.chosen', (function(_this) {\n        return function(evt) {\n          _this.container_mouseup(evt);\n        };\n      })(this));\n      this.container.on('mousedown.chosen', (function(_this) {\n        return function(evt) {\n          _this.container_mousedown(evt);\n        };\n      })(this));\n      this.container.on('mouseup.chosen', (function(_this) {\n        return function(evt) {\n          _this.container_mouseup(evt);\n        };\n      })(this));\n      this.container.on('mouseenter.chosen', (function(_this) {\n        return function(evt) {\n          _this.mouse_enter(evt);\n        };\n      })(this));\n      this.container.on('mouseleave.chosen', (function(_this) {\n        return function(evt) {\n          _this.mouse_leave(evt);\n        };\n      })(this));\n      this.search_results.on('mouseup.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_mouseup(evt);\n        };\n      })(this));\n      this.search_results.on('mouseover.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_mouseover(evt);\n        };\n      })(this));\n      this.search_results.on('mouseout.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_mouseout(evt);\n        };\n      })(this));\n      this.search_results.on('mousewheel.chosen DOMMouseScroll.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_mousewheel(evt);\n        };\n      })(this));\n      this.search_results.on('touchstart.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_touchstart(evt);\n        };\n      })(this));\n      this.search_results.on('touchmove.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_touchmove(evt);\n        };\n      })(this));\n      this.search_results.on('touchend.chosen', (function(_this) {\n        return function(evt) {\n          _this.search_results_touchend(evt);\n        };\n      })(this));\n      this.form_field_jq.on(\"chosen:updated.chosen\", (function(_this) {\n        return function(evt) {\n          _this.results_update_field(evt);\n        };\n      })(this));\n      this.form_field_jq.on(\"chosen:activate.chosen\", (function(_this) {\n        return function(evt) {\n          _this.activate_field(evt);\n        };\n      })(this));\n      this.form_field_jq.on(\"chosen:open.chosen\", (function(_this) {\n        return function(evt) {\n          _this.container_mousedown(evt);\n        };\n      })(this));\n      this.form_field_jq.on(\"chosen:close.chosen\", (function(_this) {\n        return function(evt) {\n          _this.close_field(evt);\n        };\n      })(this));\n      this.search_field.on('blur.chosen', (function(_this) {\n        return function(evt) {\n          _this.input_blur(evt);\n        };\n      })(this));\n      this.search_field.on('keyup.chosen', (function(_this) {\n        return function(evt) {\n          _this.keyup_checker(evt);\n        };\n      })(this));\n      this.search_field.on('keydown.chosen', (function(_this) {\n        return function(evt) {\n          _this.keydown_checker(evt);\n        };\n      })(this));\n      this.search_field.on('focus.chosen', (function(_this) {\n        return function(evt) {\n          _this.input_focus(evt);\n        };\n      })(this));\n      this.search_field.on('cut.chosen', (function(_this) {\n        return function(evt) {\n          _this.clipboard_event_checker(evt);\n        };\n      })(this));\n      this.search_field.on('paste.chosen', (function(_this) {\n        return function(evt) {\n          _this.clipboard_event_checker(evt);\n        };\n      })(this));\n      if (this.is_multiple) {\n        return this.search_choices.on('click.chosen', (function(_this) {\n          return function(evt) {\n            _this.choices_click(evt);\n          };\n        })(this));\n      } else {\n        return this.container.on('click.chosen', function(evt) {\n          evt.preventDefault();\n        });\n      }\n    };\n\n    Chosen.prototype.destroy = function() {\n      $(this.container[0].ownerDocument).off('click.chosen', this.click_test_action);\n      if (this.form_field_label.length > 0) {\n        this.form_field_label.off('click.chosen');\n      }\n      if (this.search_field[0].tabIndex) {\n        this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;\n      }\n      this.container.remove();\n      this.form_field_jq.removeData('chosen');\n      return this.form_field_jq.show();\n    };\n\n    Chosen.prototype.search_field_disabled = function() {\n      this.is_disabled = this.form_field.disabled || this.form_field_jq.parents('fieldset').is(':disabled');\n      this.container.toggleClass('chosen-disabled', this.is_disabled);\n      this.search_field[0].disabled = this.is_disabled;\n      if (!this.is_multiple) {\n        this.selected_item.off('focus.chosen', this.activate_field);\n      }\n      if (this.is_disabled) {\n        return this.close_field();\n      } else if (!this.is_multiple) {\n        return this.selected_item.on('focus.chosen', this.activate_field);\n      }\n    };\n\n    Chosen.prototype.container_mousedown = function(evt) {\n      var ref;\n      if (this.is_disabled) {\n        return;\n      }\n      if (evt && ((ref = evt.type) === 'mousedown' || ref === 'touchstart') && !this.results_showing) {\n        evt.preventDefault();\n      }\n      if (!((evt != null) && ($(evt.target)).hasClass(\"search-choice-close\"))) {\n        if (!this.active_field) {\n          if (this.is_multiple) {\n            this.search_field.val(\"\");\n          }\n          $(this.container[0].ownerDocument).on('click.chosen', this.click_test_action);\n          this.results_show();\n        } else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents(\"a.chosen-single\").length)) {\n          evt.preventDefault();\n          this.results_toggle();\n        }\n        return this.activate_field();\n      }\n    };\n\n    Chosen.prototype.container_mouseup = function(evt) {\n      if (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\n        return this.results_reset(evt);\n      }\n    };\n\n    Chosen.prototype.search_results_mousewheel = function(evt) {\n      var delta;\n      if (evt.originalEvent) {\n        delta = evt.originalEvent.deltaY || -evt.originalEvent.wheelDelta || evt.originalEvent.detail;\n      }\n      if (delta != null) {\n        evt.preventDefault();\n        if (evt.type === 'DOMMouseScroll') {\n          delta = delta * 40;\n        }\n        return this.search_results.scrollTop(delta + this.search_results.scrollTop());\n      }\n    };\n\n    Chosen.prototype.blur_test = function(evt) {\n      if (!this.active_field && this.container.hasClass(\"chosen-container-active\")) {\n        return this.close_field();\n      }\n    };\n\n    Chosen.prototype.close_field = function() {\n      $(this.container[0].ownerDocument).off(\"click.chosen\", this.click_test_action);\n      this.active_field = false;\n      this.results_hide();\n      this.container.removeClass(\"chosen-container-active\");\n      this.clear_backstroke();\n      this.show_search_field_default();\n      this.search_field_scale();\n      return this.search_field.blur();\n    };\n\n    Chosen.prototype.activate_field = function() {\n      if (this.is_disabled) {\n        return;\n      }\n      this.container.addClass(\"chosen-container-active\");\n      this.active_field = true;\n      this.search_field.val(this.search_field.val());\n      return this.search_field.focus();\n    };\n\n    Chosen.prototype.test_active_click = function(evt) {\n      var active_container;\n      active_container = $(evt.target).closest('.chosen-container');\n      if (active_container.length && this.container[0] === active_container[0]) {\n        return this.active_field = true;\n      } else {\n        return this.close_field();\n      }\n    };\n\n    Chosen.prototype.results_build = function() {\n      this.parsing = true;\n      this.selected_option_count = null;\n      this.results_data = SelectParser.select_to_array(this.form_field);\n      if (this.is_multiple) {\n        this.search_choices.find(\"li.search-choice\").remove();\n      } else {\n        this.single_set_selected_text();\n        if (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\n          this.search_field[0].readOnly = true;\n          this.container.addClass(\"chosen-container-single-nosearch\");\n        } else {\n          this.search_field[0].readOnly = false;\n          this.container.removeClass(\"chosen-container-single-nosearch\");\n        }\n      }\n      this.update_results_content(this.results_option_build({\n        first: true\n      }));\n      this.search_field_disabled();\n      this.show_search_field_default();\n      this.search_field_scale();\n      return this.parsing = false;\n    };\n\n    Chosen.prototype.result_do_highlight = function(el) {\n      var high_bottom, high_top, maxHeight, visible_bottom, visible_top;\n      if (el.length) {\n        this.result_clear_highlight();\n        this.result_highlight = el;\n        this.result_highlight.addClass(\"highlighted\");\n        maxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\n        visible_top = this.search_results.scrollTop();\n        visible_bottom = maxHeight + visible_top;\n        high_top = this.result_highlight.position().top + this.search_results.scrollTop();\n        high_bottom = high_top + this.result_highlight.outerHeight();\n        if (high_bottom >= visible_bottom) {\n          return this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);\n        } else if (high_top < visible_top) {\n          return this.search_results.scrollTop(high_top);\n        }\n      }\n    };\n\n    Chosen.prototype.result_clear_highlight = function() {\n      if (this.result_highlight) {\n        this.result_highlight.removeClass(\"highlighted\");\n      }\n      return this.result_highlight = null;\n    };\n\n    Chosen.prototype.results_show = function() {\n      if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n        this.form_field_jq.trigger(\"chosen:maxselected\", {\n          chosen: this\n        });\n        return false;\n      }\n      this.container.addClass(\"chosen-with-drop\");\n      this.results_showing = true;\n      this.search_field.focus();\n      this.search_field.val(this.get_search_field_value());\n      this.winnow_results();\n      return this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\n        chosen: this\n      });\n    };\n\n    Chosen.prototype.update_results_content = function(content) {\n      return this.search_results.html(content);\n    };\n\n    Chosen.prototype.results_hide = function() {\n      if (this.results_showing) {\n        this.result_clear_highlight();\n        this.container.removeClass(\"chosen-with-drop\");\n        this.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\n          chosen: this\n        });\n      }\n      return this.results_showing = false;\n    };\n\n    Chosen.prototype.set_tab_index = function(el) {\n      var ti;\n      if (this.form_field.tabIndex) {\n        ti = this.form_field.tabIndex;\n        this.form_field.tabIndex = -1;\n        return this.search_field[0].tabIndex = ti;\n      }\n    };\n\n    Chosen.prototype.set_label_behavior = function() {\n      this.form_field_label = this.form_field_jq.parents(\"label\");\n      if (!this.form_field_label.length && this.form_field.id.length) {\n        this.form_field_label = $(\"label[for='\" + this.form_field.id + \"']\");\n      }\n      if (this.form_field_label.length > 0) {\n        return this.form_field_label.on('click.chosen', this.label_click_handler);\n      }\n    };\n\n    Chosen.prototype.show_search_field_default = function() {\n      if (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\n        this.search_field.val(this.default_text);\n        return this.search_field.addClass(\"default\");\n      } else {\n        this.search_field.val(\"\");\n        return this.search_field.removeClass(\"default\");\n      }\n    };\n\n    Chosen.prototype.search_results_mouseup = function(evt) {\n      var target;\n      target = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\n      if (target.length) {\n        this.result_highlight = target;\n        this.result_select(evt);\n        return this.search_field.focus();\n      }\n    };\n\n    Chosen.prototype.search_results_mouseover = function(evt) {\n      var target;\n      target = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\n      if (target) {\n        return this.result_do_highlight(target);\n      }\n    };\n\n    Chosen.prototype.search_results_mouseout = function(evt) {\n      if ($(evt.target).hasClass(\"active-result\") || $(evt.target).parents('.active-result').first()) {\n        return this.result_clear_highlight();\n      }\n    };\n\n    Chosen.prototype.choice_build = function(item) {\n      var choice, close_link;\n      choice = $('<li />', {\n        \"class\": \"search-choice\"\n      }).html(\"<span>\" + (this.choice_label(item)) + \"</span>\");\n      if (item.disabled) {\n        choice.addClass('search-choice-disabled');\n      } else {\n        close_link = $('<a />', {\n          \"class\": 'search-choice-close',\n          'data-option-array-index': item.array_index\n        });\n        close_link.on('click.chosen', (function(_this) {\n          return function(evt) {\n            return _this.choice_destroy_link_click(evt);\n          };\n        })(this));\n        choice.append(close_link);\n      }\n      return this.search_container.before(choice);\n    };\n\n    Chosen.prototype.choice_destroy_link_click = function(evt) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (!this.is_disabled) {\n        return this.choice_destroy($(evt.target));\n      }\n    };\n\n    Chosen.prototype.choice_destroy = function(link) {\n      if (this.result_deselect(link[0].getAttribute(\"data-option-array-index\"))) {\n        if (this.active_field) {\n          this.search_field.focus();\n        } else {\n          this.show_search_field_default();\n        }\n        if (this.is_multiple && this.choices_count() > 0 && this.get_search_field_value().length < 1) {\n          this.results_hide();\n        }\n        link.parents('li').first().remove();\n        return this.search_field_scale();\n      }\n    };\n\n    Chosen.prototype.results_reset = function() {\n      this.reset_single_select_options();\n      this.form_field.options[0].selected = true;\n      this.single_set_selected_text();\n      this.show_search_field_default();\n      this.results_reset_cleanup();\n      this.trigger_form_field_change();\n      if (this.active_field) {\n        return this.results_hide();\n      }\n    };\n\n    Chosen.prototype.results_reset_cleanup = function() {\n      this.current_selectedIndex = this.form_field.selectedIndex;\n      return this.selected_item.find(\"abbr\").remove();\n    };\n\n    Chosen.prototype.result_select = function(evt) {\n      var high, item;\n      if (this.result_highlight) {\n        high = this.result_highlight;\n        this.result_clear_highlight();\n        if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n          this.form_field_jq.trigger(\"chosen:maxselected\", {\n            chosen: this\n          });\n          return false;\n        }\n        if (this.is_multiple) {\n          high.removeClass(\"active-result\");\n        } else {\n          this.reset_single_select_options();\n        }\n        high.addClass(\"result-selected\");\n        item = this.results_data[high[0].getAttribute(\"data-option-array-index\")];\n        item.selected = true;\n        this.form_field.options[item.options_index].selected = true;\n        this.selected_option_count = null;\n        if (this.is_multiple) {\n          this.choice_build(item);\n        } else {\n          this.single_set_selected_text(this.choice_label(item));\n        }\n        if (this.is_multiple && (!this.hide_results_on_select || (evt.metaKey || evt.ctrlKey))) {\n          if (evt.metaKey || evt.ctrlKey) {\n            this.winnow_results({\n              skip_highlight: true\n            });\n          } else {\n            this.search_field.val(\"\");\n            this.winnow_results();\n          }\n        } else {\n          this.results_hide();\n          this.show_search_field_default();\n        }\n        if (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\n          this.trigger_form_field_change({\n            selected: this.form_field.options[item.options_index].value\n          });\n        }\n        this.current_selectedIndex = this.form_field.selectedIndex;\n        evt.preventDefault();\n        return this.search_field_scale();\n      }\n    };\n\n    Chosen.prototype.single_set_selected_text = function(text) {\n      if (text == null) {\n        text = this.default_text;\n      }\n      if (text === this.default_text) {\n        this.selected_item.addClass(\"chosen-default\");\n      } else {\n        this.single_deselect_control_build();\n        this.selected_item.removeClass(\"chosen-default\");\n      }\n      return this.selected_item.find(\"span\").html(text);\n    };\n\n    Chosen.prototype.result_deselect = function(pos) {\n      var result_data;\n      result_data = this.results_data[pos];\n      if (!this.form_field.options[result_data.options_index].disabled) {\n        result_data.selected = false;\n        this.form_field.options[result_data.options_index].selected = false;\n        this.selected_option_count = null;\n        this.result_clear_highlight();\n        if (this.results_showing) {\n          this.winnow_results();\n        }\n        this.trigger_form_field_change({\n          deselected: this.form_field.options[result_data.options_index].value\n        });\n        this.search_field_scale();\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    Chosen.prototype.single_deselect_control_build = function() {\n      if (!this.allow_single_deselect) {\n        return;\n      }\n      if (!this.selected_item.find(\"abbr\").length) {\n        this.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\n      }\n      return this.selected_item.addClass(\"chosen-single-with-deselect\");\n    };\n\n    Chosen.prototype.get_search_field_value = function() {\n      return this.search_field.val();\n    };\n\n    Chosen.prototype.get_search_text = function() {\n      return $.trim(this.get_search_field_value());\n    };\n\n    Chosen.prototype.escape_html = function(text) {\n      return $('<div/>').text(text).html();\n    };\n\n    Chosen.prototype.winnow_results_set_highlight = function() {\n      var do_high, selected_results;\n      selected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\n      do_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\n      if (do_high != null) {\n        return this.result_do_highlight(do_high);\n      }\n    };\n\n    Chosen.prototype.no_results = function(terms) {\n      var no_results_html;\n      no_results_html = this.get_no_results_html(terms);\n      this.search_results.append(no_results_html);\n      return this.form_field_jq.trigger(\"chosen:no_results\", {\n        chosen: this\n      });\n    };\n\n    Chosen.prototype.no_results_clear = function() {\n      return this.search_results.find(\".no-results\").remove();\n    };\n\n    Chosen.prototype.keydown_arrow = function() {\n      var next_sib;\n      if (this.results_showing && this.result_highlight) {\n        next_sib = this.result_highlight.nextAll(\"li.active-result\").first();\n        if (next_sib) {\n          return this.result_do_highlight(next_sib);\n        }\n      } else {\n        return this.results_show();\n      }\n    };\n\n    Chosen.prototype.keyup_arrow = function() {\n      var prev_sibs;\n      if (!this.results_showing && !this.is_multiple) {\n        return this.results_show();\n      } else if (this.result_highlight) {\n        prev_sibs = this.result_highlight.prevAll(\"li.active-result\");\n        if (prev_sibs.length) {\n          return this.result_do_highlight(prev_sibs.first());\n        } else {\n          if (this.choices_count() > 0) {\n            this.results_hide();\n          }\n          return this.result_clear_highlight();\n        }\n      }\n    };\n\n    Chosen.prototype.keydown_backstroke = function() {\n      var next_available_destroy;\n      if (this.pending_backstroke) {\n        this.choice_destroy(this.pending_backstroke.find(\"a\").first());\n        return this.clear_backstroke();\n      } else {\n        next_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\n        if (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\n          this.pending_backstroke = next_available_destroy;\n          if (this.single_backstroke_delete) {\n            return this.keydown_backstroke();\n          } else {\n            return this.pending_backstroke.addClass(\"search-choice-focus\");\n          }\n        }\n      }\n    };\n\n    Chosen.prototype.clear_backstroke = function() {\n      if (this.pending_backstroke) {\n        this.pending_backstroke.removeClass(\"search-choice-focus\");\n      }\n      return this.pending_backstroke = null;\n    };\n\n    Chosen.prototype.search_field_scale = function() {\n      var div, i, len, style, style_block, styles, width;\n      if (!this.is_multiple) {\n        return;\n      }\n      style_block = {\n        position: 'absolute',\n        left: '-1000px',\n        top: '-1000px',\n        display: 'none',\n        whiteSpace: 'pre'\n      };\n      styles = ['fontSize', 'fontStyle', 'fontWeight', 'fontFamily', 'lineHeight', 'textTransform', 'letterSpacing'];\n      for (i = 0, len = styles.length; i < len; i++) {\n        style = styles[i];\n        style_block[style] = this.search_field.css(style);\n      }\n      div = $('<div />').css(style_block);\n      div.text(this.get_search_field_value());\n      $('body').append(div);\n      width = div.width() + 25;\n      div.remove();\n      if (this.container.is(':visible')) {\n        width = Math.min(this.container.outerWidth() - 10, width);\n      }\n      return this.search_field.width(width);\n    };\n\n    Chosen.prototype.trigger_form_field_change = function(extra) {\n      this.form_field_jq.trigger(\"input\", extra);\n      return this.form_field_jq.trigger(\"change\", extra);\n    };\n\n    return Chosen;\n\n  })(AbstractChosen);\n\n}).call(this);\n","/*!\n * clipboard.js v2.0.8\n * https://clipboardjs.com/\n *\n * Licensed MIT © Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 134:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __webpack_require__(279);\nvar tiny_emitter_default = /*#__PURE__*/__webpack_require__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __webpack_require__(370);\nvar listen_default = /*#__PURE__*/__webpack_require__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __webpack_require__(817);\nvar select_default = /*#__PURE__*/__webpack_require__.n(src_select);\n;// CONCATENATED MODULE: ./src/clipboard-action.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/**\n * Inner class which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n */\n\nvar ClipboardAction = /*#__PURE__*/function () {\n  /**\n   * @param {Object} options\n   */\n  function ClipboardAction(options) {\n    _classCallCheck(this, ClipboardAction);\n\n    this.resolveOptions(options);\n    this.initSelection();\n  }\n  /**\n   * Defines base properties passed from constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(ClipboardAction, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = options.action;\n      this.container = options.container;\n      this.emitter = options.emitter;\n      this.target = options.target;\n      this.text = options.text;\n      this.trigger = options.trigger;\n      this.selectedText = '';\n    }\n    /**\n     * Decides which selection strategy is going to be applied based\n     * on the existence of `text` and `target` properties.\n     */\n\n  }, {\n    key: \"initSelection\",\n    value: function initSelection() {\n      if (this.text) {\n        this.selectFake();\n      } else if (this.target) {\n        this.selectTarget();\n      }\n    }\n    /**\n     * Creates a fake textarea element, sets its value from `text` property,\n     */\n\n  }, {\n    key: \"createFakeElement\",\n    value: function createFakeElement() {\n      var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n      this.fakeElem = document.createElement('textarea'); // Prevent zooming on iOS\n\n      this.fakeElem.style.fontSize = '12pt'; // Reset box model\n\n      this.fakeElem.style.border = '0';\n      this.fakeElem.style.padding = '0';\n      this.fakeElem.style.margin = '0'; // Move element out of screen horizontally\n\n      this.fakeElem.style.position = 'absolute';\n      this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n      var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n      this.fakeElem.style.top = \"\".concat(yPosition, \"px\");\n      this.fakeElem.setAttribute('readonly', '');\n      this.fakeElem.value = this.text;\n      return this.fakeElem;\n    }\n    /**\n     * Get's the value of fakeElem,\n     * and makes a selection on it.\n     */\n\n  }, {\n    key: \"selectFake\",\n    value: function selectFake() {\n      var _this = this;\n\n      var fakeElem = this.createFakeElement();\n\n      this.fakeHandlerCallback = function () {\n        return _this.removeFake();\n      };\n\n      this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n      this.container.appendChild(fakeElem);\n      this.selectedText = select_default()(fakeElem);\n      this.copyText();\n      this.removeFake();\n    }\n    /**\n     * Only removes the fake element after another click event, that way\n     * a user can hit `Ctrl+C` to copy because selection still exists.\n     */\n\n  }, {\n    key: \"removeFake\",\n    value: function removeFake() {\n      if (this.fakeHandler) {\n        this.container.removeEventListener('click', this.fakeHandlerCallback);\n        this.fakeHandler = null;\n        this.fakeHandlerCallback = null;\n      }\n\n      if (this.fakeElem) {\n        this.container.removeChild(this.fakeElem);\n        this.fakeElem = null;\n      }\n    }\n    /**\n     * Selects the content from element passed on `target` property.\n     */\n\n  }, {\n    key: \"selectTarget\",\n    value: function selectTarget() {\n      this.selectedText = select_default()(this.target);\n      this.copyText();\n    }\n    /**\n     * Executes the copy operation based on the current selection.\n     */\n\n  }, {\n    key: \"copyText\",\n    value: function copyText() {\n      var succeeded;\n\n      try {\n        succeeded = document.execCommand(this.action);\n      } catch (err) {\n        succeeded = false;\n      }\n\n      this.handleResult(succeeded);\n    }\n    /**\n     * Fires an event based on the copy operation result.\n     * @param {Boolean} succeeded\n     */\n\n  }, {\n    key: \"handleResult\",\n    value: function handleResult(succeeded) {\n      this.emitter.emit(succeeded ? 'success' : 'error', {\n        action: this.action,\n        text: this.selectedText,\n        trigger: this.trigger,\n        clearSelection: this.clearSelection.bind(this)\n      });\n    }\n    /**\n     * Moves focus away from `target` and back to the trigger, removes current selection.\n     */\n\n  }, {\n    key: \"clearSelection\",\n    value: function clearSelection() {\n      if (this.trigger) {\n        this.trigger.focus();\n      }\n\n      document.activeElement.blur();\n      window.getSelection().removeAllRanges();\n    }\n    /**\n     * Sets the `action` to be performed which can be either 'copy' or 'cut'.\n     * @param {String} action\n     */\n\n  }, {\n    key: \"destroy\",\n\n    /**\n     * Destroy lifecycle.\n     */\n    value: function destroy() {\n      this.removeFake();\n    }\n  }, {\n    key: \"action\",\n    set: function set() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n      this._action = action;\n\n      if (this._action !== 'copy' && this._action !== 'cut') {\n        throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n      }\n    }\n    /**\n     * Gets the `action` property.\n     * @return {String}\n     */\n    ,\n    get: function get() {\n      return this._action;\n    }\n    /**\n     * Sets the `target` property using an element\n     * that will be have its content copied.\n     * @param {Element} target\n     */\n\n  }, {\n    key: \"target\",\n    set: function set(target) {\n      if (target !== undefined) {\n        if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n          if (this.action === 'copy' && target.hasAttribute('disabled')) {\n            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n          }\n\n          if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n          }\n\n          this._target = target;\n        } else {\n          throw new Error('Invalid \"target\" value, use a valid Element');\n        }\n      }\n    }\n    /**\n     * Gets the `target` property.\n     * @return {String|HTMLElement}\n     */\n    ,\n    get: function get() {\n      return this._target;\n    }\n  }]);\n\n  return ClipboardAction;\n}();\n\n/* harmony default export */ var clipboard_action = (ClipboardAction);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction clipboard_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps) clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps) clipboard_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    clipboard_classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  clipboard_createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n\n      if (this.clipboardAction) {\n        this.clipboardAction = null;\n      }\n\n      this.clipboardAction = new clipboard_action({\n        action: this.action(trigger),\n        target: this.target(trigger),\n        text: this.text(trigger),\n        container: this.container,\n        trigger: trigger,\n        emitter: this\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n\n      if (this.clipboardAction) {\n        this.clipboardAction.destroy();\n        this.clipboardAction = null;\n      }\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar closest = __webpack_require__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar is = __webpack_require__(879);\nvar delegate = __webpack_require__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(134);\n/******/ })()\n.default;\n});","/*\r\n * Flot plugin to order bars side by side.\r\n *\r\n * Released under the MIT license by Benjamin BUFFET, 20-Sep-2010.\r\n * Modifications made by Steven Hall <github.com/emmerich>, 01-May-2013.\r\n *\r\n * This plugin is an alpha version.\r\n *\r\n * To activate the plugin you must specify the parameter \"order\" for the specific serie :\r\n *\r\n *  $.plot($(\"#placeholder\"), [{ data: [ ... ], bars :{ order = null or integer }])\r\n *\r\n * If 2 series have the same order param, they are ordered by the position in the array;\r\n *\r\n * The plugin adjust the point by adding a value depanding of the barwidth\r\n * Exemple for 3 series (barwidth : 0.1) :\r\n *\r\n *          first bar décalage : -0.15\r\n *          second bar décalage : -0.05\r\n *          third bar décalage : 0.05\r\n *\r\n */\r\n\r\n// INFO: decalage/decallage is French for gap. It's used to denote the spacing applied to each\r\n// bar.\r\n(function($){\r\n    function init(plot){\r\n        var orderedBarSeries;\r\n        var nbOfBarsToOrder;\r\n        var borderWidth;\r\n        var borderWidthInXabsWidth;\r\n        var pixelInXWidthEquivalent = 1;\r\n        var isHorizontal = false;\r\n\r\n        // A mapping of order integers to decallage.\r\n        var decallageByOrder = {};\r\n\r\n        /*\r\n         * This method add shift to x values\r\n         */\r\n        function reOrderBars(plot, serie, datapoints){\r\n            var shiftedPoints = null;\r\n\r\n            if(serieNeedToBeReordered(serie)){\r\n                checkIfGraphIsHorizontal(serie);\r\n                calculPixel2XWidthConvert(plot);\r\n                retrieveBarSeries(plot);\r\n                calculBorderAndBarWidth(serie);\r\n\r\n                if(nbOfBarsToOrder >= 2){\r\n                    var position = findPosition(serie);\r\n                    var decallage = 0;\r\n\r\n                    var centerBarShift = calculCenterBarShift();\r\n\r\n                    // If we haven't already calculated the decallage for this order value, do it.\r\n                    if(typeof decallageByOrder[serie.bars.order] === 'undefined') {\r\n                        if (isBarAtLeftOfCenter(position)){\r\n                            decallageByOrder[serie.bars.order] = -1*(sumWidth(orderedBarSeries,position-1,Math.floor(nbOfBarsToOrder / 2)-1)) - centerBarShift;\r\n                        }else{\r\n                            decallageByOrder[serie.bars.order] = sumWidth(orderedBarSeries,Math.ceil(nbOfBarsToOrder / 2),position-2) + centerBarShift + borderWidthInXabsWidth*2;\r\n                        }\r\n                    }\r\n\r\n                    // Lookup the decallage based on the series' order value.\r\n                    decallage = decallageByOrder[serie.bars.order];\r\n\r\n                    shiftedPoints = shiftPoints(datapoints,serie,decallage);\r\n                    datapoints.points = shiftedPoints;\r\n                }\r\n            }\r\n            return shiftedPoints;\r\n        }\r\n\r\n        function serieNeedToBeReordered(serie){\r\n            return serie.bars != null\r\n                && serie.bars.show\r\n                && serie.bars.order != null;\r\n        }\r\n\r\n        function calculPixel2XWidthConvert(plot){\r\n            var gridDimSize = isHorizontal ? plot.getPlaceholder().innerHeight() : plot.getPlaceholder().innerWidth();\r\n            var minMaxValues = isHorizontal ? getAxeMinMaxValues(plot.getData(),1) : getAxeMinMaxValues(plot.getData(),0);\r\n            var AxeSize = minMaxValues[1] - minMaxValues[0];\r\n            pixelInXWidthEquivalent = AxeSize / gridDimSize;\r\n        }\r\n\r\n        function getAxeMinMaxValues(series,AxeIdx){\r\n            var minMaxValues = new Array();\r\n            for(var i = 0; i < series.length; i++){\r\n                minMaxValues[0] = (series[i].data[0]) ? series[i].data[0][AxeIdx]: null;\r\n                minMaxValues[1] = (series[i].data[series[i].data.length - 1]) ? series[i].data[series[i].data.length - 1][AxeIdx]: null;\r\n            }\r\n            return minMaxValues;\r\n        }\r\n\r\n        function retrieveBarSeries(plot){\r\n            orderedBarSeries = findOthersBarsToReOrders(plot.getData());\r\n            nbOfBarsToOrder = orderedBarSeries.length;\r\n        }\r\n\r\n        function findOthersBarsToReOrders(series){\r\n            var retSeries = new Array();\r\n            var orderValuesSeen = [];\r\n\r\n            for(var i = 0; i < series.length; i++){\r\n                if(series[i].bars.order != null && series[i].bars.show &&\r\n                    orderValuesSeen.indexOf(series[i].bars.order) < 0){\r\n\r\n                    orderValuesSeen.push(series[i].bars.order);\r\n                    retSeries.push(series[i]);\r\n                }\r\n            }\r\n            return retSeries.sort(sortByOrder);\r\n        }\r\n\r\n        function sortByOrder(serie1,serie2){\r\n            var x = serie1.bars.order;\r\n            var y = serie2.bars.order;\r\n            return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n        }\r\n\r\n        function  calculBorderAndBarWidth(serie){\r\n            borderWidth = typeof serie.bars.lineWidth !== 'undefined' ? serie.bars.lineWidth  : 2;\r\n            borderWidthInXabsWidth = borderWidth * pixelInXWidthEquivalent;\r\n        }\r\n\r\n        function checkIfGraphIsHorizontal(serie){\r\n            if(serie.bars.horizontal){\r\n                isHorizontal = true;\r\n            }\r\n        }\r\n\r\n        function findPosition(serie){\r\n            var pos = 0\r\n            for (var i = 0; i < orderedBarSeries.length; ++i) {\r\n                if (serie == orderedBarSeries[i]){\r\n                    pos = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return pos+1;\r\n        }\r\n\r\n        function calculCenterBarShift(){\r\n            var width = 0;\r\n\r\n            if(nbOfBarsToOrder%2 != 0)\r\n                width = (orderedBarSeries[Math.ceil(nbOfBarsToOrder / 2)].bars.barWidth)/2;\r\n\r\n            return width;\r\n        }\r\n\r\n        function isBarAtLeftOfCenter(position){\r\n            return position <= Math.ceil(nbOfBarsToOrder / 2);\r\n        }\r\n\r\n        function sumWidth(series,start,end){\r\n            var totalWidth = 0;\r\n\r\n            for(var i = start; i <= end; i++){\r\n                totalWidth += series[i].bars.barWidth+borderWidthInXabsWidth*2;\r\n            }\r\n\r\n            return totalWidth;\r\n        }\r\n\r\n        function shiftPoints(datapoints,serie,dx){\r\n            var ps = datapoints.pointsize;\r\n            var points = datapoints.points;\r\n            var j = 0;\r\n            for(var i = isHorizontal ? 1 : 0;i < points.length; i += ps){\r\n                points[i] += dx;\r\n                //Adding the new x value in the serie to be abble to display the right tooltip value,\r\n                //using the index 3 to not overide the third index.\r\n                serie.data[j][3] = points[i];\r\n                j++;\r\n            }\r\n\r\n            return points;\r\n        }\r\n\r\n        plot.hooks.processDatapoints.push(reOrderBars);\r\n\r\n    }\r\n\r\n    var options = {\r\n        series : {\r\n            bars: {order: null} // or number/string\r\n        }\r\n    };\r\n\r\n    $.plot.plugins.push({\r\n        init: init,\r\n        options: options,\r\n        name: \"orderBars\",\r\n        version: \"0.2\"\r\n    });\r\n\r\n})(jQuery);","/* Javascript plotting library for jQuery, version 0.8.3.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\n*/\n\n// first an inline dependency, jquery.colorhelpers.js, we inline it here\n// for convenience\n\n/* Plugin for jQuery for working with colors.\n *\n * Version 1.1.\n *\n * Inspiration from jQuery color animation plugin by John Resig.\n *\n * Released under the MIT license by Ole Laursen, October 2009.\n *\n * Examples:\n *\n *   $.color.parse(\"#fff\").scale('rgb', 0.25).add('a', -0.5).toString()\n *   var c = $.color.extract($(\"#mydiv\"), 'background-color');\n *   console.log(c.r, c.g, c.b, c.a);\n *   $.color.make(100, 50, 25, 0.4).toString() // returns \"rgba(100,50,25,0.4)\"\n *\n * Note that .scale() and .add() return the same modified object\n * instead of making a new one.\n *\n * V. 1.1: Fix error handling so e.g. parsing an empty string does\n * produce a color rather than just crashing.\n */\n(function($){$.color={};$.color.make=function(r,g,b,a){var o={};o.r=r||0;o.g=g||0;o.b=b||0;o.a=a!=null?a:1;o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()};o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()};o.toString=function(){if(o.a>=1){return\"rgb(\"+[o.r,o.g,o.b].join(\",\")+\")\"}else{return\"rgba(\"+[o.r,o.g,o.b,o.a].join(\",\")+\")\"}};o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){var c;do{c=elem.css(css).toLowerCase();if(c!=\"\"&&c!=\"transparent\")break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),\"body\"));if(c==\"rgba(0, 0, 0, 0)\")c=\"transparent\";return $.color.parse(c)};$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55);if(res=/rgba\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55,parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();if(name==\"transparent\")return m(255,255,255,0);else{res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])}};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);\n\n// the actual Flot code\n(function($) {\n\n\t// Cache the prototype hasOwnProperty for faster access\n\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    // A shim to provide 'detach' to jQuery versions prior to 1.4.  Using a DOM\n    // operation produces the same effect as detach, i.e. removing the element\n    // without touching its jQuery data.\n\n    // Do not merge this into Flot 0.9, since it requires jQuery 1.4.4+.\n\n    if (!$.fn.detach) {\n        $.fn.detach = function() {\n            return this.each(function() {\n                if (this.parentNode) {\n                    this.parentNode.removeChild( this );\n                }\n            });\n        };\n    }\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// The Canvas object is a wrapper around an HTML5 <canvas> tag.\n\t//\n\t// @constructor\n\t// @param {string} cls List of classes to apply to the canvas.\n\t// @param {element} container Element onto which to append the canvas.\n\t//\n\t// Requiring a container is a little iffy, but unfortunately canvas\n\t// operations don't work unless the canvas is attached to the DOM.\n\n\tfunction Canvas(cls, container) {\n\n\t\tvar element = container.children(\".\" + cls)[0];\n\n\t\tif (element == null) {\n\n\t\t\telement = document.createElement(\"canvas\");\n\t\t\telement.className = cls;\n\n\t\t\t$(element).css({ direction: \"ltr\", position: \"absolute\", left: 0, top: 0 })\n\t\t\t\t.appendTo(container);\n\n\t\t\t// If HTML5 Canvas isn't available, fall back to [Ex|Flash]canvas\n\n\t\t\tif (!element.getContext) {\n\t\t\t\tif (window.G_vmlCanvasManager) {\n\t\t\t\t\telement = window.G_vmlCanvasManager.initElement(element);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element = element;\n\n\t\tvar context = this.context = element.getContext(\"2d\");\n\n\t\t// Determine the screen's ratio of physical to device-independent\n\t\t// pixels.  This is the ratio between the canvas width that the browser\n\t\t// advertises and the number of pixels actually present in that space.\n\n\t\t// The iPhone 4, for example, has a device-independent width of 320px,\n\t\t// but its screen is actually 640px wide.  It therefore has a pixel\n\t\t// ratio of 2, while most normal devices have a ratio of 1.\n\n\t\tvar devicePixelRatio = window.devicePixelRatio || 1,\n\t\t\tbackingStoreRatio =\n\t\t\t\tcontext.webkitBackingStorePixelRatio ||\n\t\t\t\tcontext.mozBackingStorePixelRatio ||\n\t\t\t\tcontext.msBackingStorePixelRatio ||\n\t\t\t\tcontext.oBackingStorePixelRatio ||\n\t\t\t\tcontext.backingStorePixelRatio || 1;\n\n\t\tthis.pixelRatio = devicePixelRatio / backingStoreRatio;\n\n\t\t// Size the canvas to match the internal dimensions of its container\n\n\t\tthis.resize(container.width(), container.height());\n\n\t\t// Collection of HTML div layers for text overlaid onto the canvas\n\n\t\tthis.textContainer = null;\n\t\tthis.text = {};\n\n\t\t// Cache of text fragments and metrics, so we can avoid expensively\n\t\t// re-calculating them when the plot is re-rendered in a loop.\n\n\t\tthis._textCache = {};\n\t}\n\n\t// Resizes the canvas to the given dimensions.\n\t//\n\t// @param {number} width New width of the canvas, in pixels.\n\t// @param {number} width New height of the canvas, in pixels.\n\n\tCanvas.prototype.resize = function(width, height) {\n\n\t\tif (width <= 0 || height <= 0) {\n\t\t\tthrow new Error(\"Invalid dimensions for plot, width = \" + width + \", height = \" + height);\n\t\t}\n\n\t\tvar element = this.element,\n\t\t\tcontext = this.context,\n\t\t\tpixelRatio = this.pixelRatio;\n\n\t\t// Resize the canvas, increasing its density based on the display's\n\t\t// pixel ratio; basically giving it more pixels without increasing the\n\t\t// size of its element, to take advantage of the fact that retina\n\t\t// displays have that many more pixels in the same advertised space.\n\n\t\t// Resizing should reset the state (excanvas seems to be buggy though)\n\n\t\tif (this.width != width) {\n\t\t\telement.width = width * pixelRatio;\n\t\t\telement.style.width = width + \"px\";\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tif (this.height != height) {\n\t\t\telement.height = height * pixelRatio;\n\t\t\telement.style.height = height + \"px\";\n\t\t\tthis.height = height;\n\t\t}\n\n\t\t// Save the context, so we can reset in case we get replotted.  The\n\t\t// restore ensure that we're really back at the initial state, and\n\t\t// should be safe even if we haven't saved the initial state yet.\n\n\t\tcontext.restore();\n\t\tcontext.save();\n\n\t\t// Scale the coordinate space to match the display density; so even though we\n\t\t// may have twice as many pixels, we still want lines and other drawing to\n\t\t// appear at the same size; the extra pixels will just make them crisper.\n\n\t\tcontext.scale(pixelRatio, pixelRatio);\n\t};\n\n\t// Clears the entire canvas area, not including any overlaid HTML text\n\n\tCanvas.prototype.clear = function() {\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\t};\n\n\t// Finishes rendering the canvas, including managing the text overlay.\n\n\tCanvas.prototype.render = function() {\n\n\t\tvar cache = this._textCache;\n\n\t\t// For each text layer, add elements marked as active that haven't\n\t\t// already been rendered, and remove those that are no longer active.\n\n\t\tfor (var layerKey in cache) {\n\t\t\tif (hasOwnProperty.call(cache, layerKey)) {\n\n\t\t\t\tvar layer = this.getTextLayer(layerKey),\n\t\t\t\t\tlayerCache = cache[layerKey];\n\n\t\t\t\tlayer.hide();\n\n\t\t\t\tfor (var styleKey in layerCache) {\n\t\t\t\t\tif (hasOwnProperty.call(layerCache, styleKey)) {\n\t\t\t\t\t\tvar styleCache = layerCache[styleKey];\n\t\t\t\t\t\tfor (var key in styleCache) {\n\t\t\t\t\t\t\tif (hasOwnProperty.call(styleCache, key)) {\n\n\t\t\t\t\t\t\t\tvar positions = styleCache[key].positions;\n\n\t\t\t\t\t\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\t\t\t\t\t\tif (position.active) {\n\t\t\t\t\t\t\t\t\t\tif (!position.rendered) {\n\t\t\t\t\t\t\t\t\t\t\tlayer.append(position.element);\n\t\t\t\t\t\t\t\t\t\t\tposition.rendered = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tpositions.splice(i--, 1);\n\t\t\t\t\t\t\t\t\t\tif (position.rendered) {\n\t\t\t\t\t\t\t\t\t\t\tposition.element.detach();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (positions.length == 0) {\n\t\t\t\t\t\t\t\t\tdelete styleCache[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlayer.show();\n\t\t\t}\n\t\t}\n\t};\n\n\t// Creates (if necessary) and returns the text overlay container.\n\t//\n\t// @param {string} classes String of space-separated CSS classes used to\n\t//     uniquely identify the text layer.\n\t// @return {object} The jQuery-wrapped text-layer div.\n\n\tCanvas.prototype.getTextLayer = function(classes) {\n\n\t\tvar layer = this.text[classes];\n\n\t\t// Create the text layer if it doesn't exist\n\n\t\tif (layer == null) {\n\n\t\t\t// Create the text layer container, if it doesn't exist\n\n\t\t\tif (this.textContainer == null) {\n\t\t\t\tthis.textContainer = $(\"<div class='flot-text'></div>\")\n\t\t\t\t\t.css({\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t'font-size': \"smaller\",\n\t\t\t\t\t\tcolor: \"#545454\"\n\t\t\t\t\t})\n\t\t\t\t\t.insertAfter(this.element);\n\t\t\t}\n\n\t\t\tlayer = this.text[classes] = $(\"<div></div>\")\n\t\t\t\t.addClass(classes)\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tright: 0\n\t\t\t\t})\n\t\t\t\t.appendTo(this.textContainer);\n\t\t}\n\n\t\treturn layer;\n\t};\n\n\t// Creates (if necessary) and returns a text info object.\n\t//\n\t// The object looks like this:\n\t//\n\t// {\n\t//     width: Width of the text's wrapper div.\n\t//     height: Height of the text's wrapper div.\n\t//     element: The jQuery-wrapped HTML div containing the text.\n\t//     positions: Array of positions at which this text is drawn.\n\t// }\n\t//\n\t// The positions array contains objects that look like this:\n\t//\n\t// {\n\t//     active: Flag indicating whether the text should be visible.\n\t//     rendered: Flag indicating whether the text is currently visible.\n\t//     element: The jQuery-wrapped HTML div containing the text.\n\t//     x: X coordinate at which to draw the text.\n\t//     y: Y coordinate at which to draw the text.\n\t// }\n\t//\n\t// Each position after the first receives a clone of the original element.\n\t//\n\t// The idea is that that the width, height, and general 'identity' of the\n\t// text is constant no matter where it is placed; the placements are a\n\t// secondary property.\n\t//\n\t// Canvas maintains a cache of recently-used text info objects; getTextInfo\n\t// either returns the cached element or creates a new entry.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {string} text Text string to retrieve info for.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which to rotate the text, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\t// @param {number=} width Maximum width of the text before it wraps.\n\t// @return {object} a text info object.\n\n\tCanvas.prototype.getTextInfo = function(layer, text, font, angle, width) {\n\n\t\tvar textStyle, layerCache, styleCache, info;\n\n\t\t// Cast the value to a string, in case we were given a number or such\n\n\t\ttext = \"\" + text;\n\n\t\t// If the font is a font-spec object, generate a CSS font definition\n\n\t\tif (typeof font === \"object\") {\n\t\t\ttextStyle = font.style + \" \" + font.variant + \" \" + font.weight + \" \" + font.size + \"px/\" + font.lineHeight + \"px \" + font.family;\n\t\t} else {\n\t\t\ttextStyle = font;\n\t\t}\n\n\t\t// Retrieve (or create) the cache for the text's layer and styles\n\n\t\tlayerCache = this._textCache[layer];\n\n\t\tif (layerCache == null) {\n\t\t\tlayerCache = this._textCache[layer] = {};\n\t\t}\n\n\t\tstyleCache = layerCache[textStyle];\n\n\t\tif (styleCache == null) {\n\t\t\tstyleCache = layerCache[textStyle] = {};\n\t\t}\n\n\t\tinfo = styleCache[text];\n\n\t\t// If we can't find a matching element in our cache, create a new one\n\n\t\tif (info == null) {\n\n\t\t\tvar element = $(\"<div></div>\").html(text)\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t'max-width': width,\n\t\t\t\t\ttop: -9999\n\t\t\t\t})\n\t\t\t\t.appendTo(this.getTextLayer(layer));\n\n\t\t\tif (typeof font === \"object\") {\n\t\t\t\telement.css({\n\t\t\t\t\tfont: textStyle,\n\t\t\t\t\tcolor: font.color\n\t\t\t\t});\n\t\t\t} else if (typeof font === \"string\") {\n\t\t\t\telement.addClass(font);\n\t\t\t}\n\n\t\t\tinfo = styleCache[text] = {\n\t\t\t\twidth: element.outerWidth(true),\n\t\t\t\theight: element.outerHeight(true),\n\t\t\t\telement: element,\n\t\t\t\tpositions: []\n\t\t\t};\n\n\t\t\telement.detach();\n\t\t}\n\n\t\treturn info;\n\t};\n\n\t// Adds a text string to the canvas text overlay.\n\t//\n\t// The text isn't drawn immediately; it is marked as rendering, which will\n\t// result in its addition to the canvas on the next render pass.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {number} x X coordinate at which to draw the text.\n\t// @param {number} y Y coordinate at which to draw the text.\n\t// @param {string} text Text string to draw.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which to rotate the text, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\t// @param {number=} width Maximum width of the text before it wraps.\n\t// @param {string=} halign Horizontal alignment of the text; either \"left\",\n\t//     \"center\" or \"right\".\n\t// @param {string=} valign Vertical alignment of the text; either \"top\",\n\t//     \"middle\" or \"bottom\".\n\n\tCanvas.prototype.addText = function(layer, x, y, text, font, angle, width, halign, valign) {\n\n\t\tvar info = this.getTextInfo(layer, text, font, angle, width),\n\t\t\tpositions = info.positions;\n\n\t\t// Tweak the div's position to match the text's alignment\n\n\t\tif (halign == \"center\") {\n\t\t\tx -= info.width / 2;\n\t\t} else if (halign == \"right\") {\n\t\t\tx -= info.width;\n\t\t}\n\n\t\tif (valign == \"middle\") {\n\t\t\ty -= info.height / 2;\n\t\t} else if (valign == \"bottom\") {\n\t\t\ty -= info.height;\n\t\t}\n\n\t\t// Determine whether this text already exists at this position.\n\t\t// If so, mark it for inclusion in the next render pass.\n\n\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\tif (position.x == x && position.y == y) {\n\t\t\t\tposition.active = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If the text doesn't exist at this position, create a new entry\n\n\t\t// For the very first position we'll re-use the original element,\n\t\t// while for subsequent ones we'll clone it.\n\n\t\tposition = {\n\t\t\tactive: true,\n\t\t\trendered: false,\n\t\t\telement: positions.length ? info.element.clone() : info.element,\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\n\t\tpositions.push(position);\n\n\t\t// Move the element to its final position within the container\n\n\t\tposition.element.css({\n\t\t\ttop: Math.round(y),\n\t\t\tleft: Math.round(x),\n\t\t\t'text-align': halign\t// In case the text wraps\n\t\t});\n\t};\n\n\t// Removes one or more text strings from the canvas text overlay.\n\t//\n\t// If no parameters are given, all text within the layer is removed.\n\t//\n\t// Note that the text is not immediately removed; it is simply marked as\n\t// inactive, which will result in its removal on the next render pass.\n\t// This avoids the performance penalty for 'clear and redraw' behavior,\n\t// where we potentially get rid of all text on a layer, but will likely\n\t// add back most or all of it later, as when redrawing axes, for example.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {number=} x X coordinate of the text.\n\t// @param {number=} y Y coordinate of the text.\n\t// @param {string=} text Text string to remove.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which the text is rotated, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\n\tCanvas.prototype.removeText = function(layer, x, y, text, font, angle) {\n\t\tif (text == null) {\n\t\t\tvar layerCache = this._textCache[layer];\n\t\t\tif (layerCache != null) {\n\t\t\t\tfor (var styleKey in layerCache) {\n\t\t\t\t\tif (hasOwnProperty.call(layerCache, styleKey)) {\n\t\t\t\t\t\tvar styleCache = layerCache[styleKey];\n\t\t\t\t\t\tfor (var key in styleCache) {\n\t\t\t\t\t\t\tif (hasOwnProperty.call(styleCache, key)) {\n\t\t\t\t\t\t\t\tvar positions = styleCache[key].positions;\n\t\t\t\t\t\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\t\t\t\t\t\tposition.active = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar positions = this.getTextInfo(layer, text, font, angle).positions;\n\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\tif (position.x == x && position.y == y) {\n\t\t\t\t\tposition.active = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// The top-level container for the entire plot.\n\n    function Plot(placeholder, data_, options_, plugins) {\n        // data is on the form:\n        //   [ series1, series2 ... ]\n        // where series is either just the data as [ [x1, y1], [x2, y2], ... ]\n        // or { data: [ [x1, y1], [x2, y2], ... ], label: \"some label\", ... }\n\n        var series = [],\n            options = {\n                // the color theme used for graphs\n                colors: [\"#edc240\", \"#afd8f8\", \"#cb4b4b\", \"#4da74d\", \"#9440ed\"],\n                legend: {\n                    show: true,\n                    noColumns: 1, // number of colums in legend table\n                    labelFormatter: null, // fn: string -> string\n                    labelBoxBorderColor: \"#ccc\", // border color for the little label boxes\n                    container: null, // container (as jQuery object) to put legend in, null means default on top of graph\n                    position: \"ne\", // position of default legend container within plot\n                    margin: 5, // distance from grid edge to default legend container within plot\n                    backgroundColor: null, // null means auto-detect\n                    backgroundOpacity: 0.85, // set to 0 to avoid background\n                    sorted: null    // default to no legend sorting\n                },\n                xaxis: {\n                    show: null, // null = auto-detect, true = always, false = never\n                    position: \"bottom\", // or \"top\"\n                    mode: null, // null or \"time\"\n                    font: null, // null (derived from CSS in placeholder) or object like { size: 11, lineHeight: 13, style: \"italic\", weight: \"bold\", family: \"sans-serif\", variant: \"small-caps\" }\n                    color: null, // base color, labels, ticks\n                    tickColor: null, // possibly different color of ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    transform: null, // null or f: number -> number to transform axis\n                    inverseTransform: null, // if transform is set, this should be the inverse function\n                    min: null, // min. value to show, null means set automatically\n                    max: null, // max. value to show, null means set automatically\n                    autoscaleMargin: null, // margin in % to add if auto-setting min/max\n                    ticks: null, // either [1, 3] or [[1, \"a\"], 3] or (fn: axis info -> ticks) or app. number of ticks for auto-ticks\n                    tickFormatter: null, // fn: number -> string\n                    labelWidth: null, // size of tick labels in pixels\n                    labelHeight: null,\n                    reserveSpace: null, // whether to reserve space even if axis isn't shown\n                    tickLength: null, // size in pixels of ticks, or \"full\" for whole line\n                    alignTicksWithAxis: null, // axis number or null for no sync\n                    tickDecimals: null, // no. of decimals, null means auto\n                    tickSize: null, // number or [number, \"unit\"]\n                    minTickSize: null // number or [number, \"unit\"]\n                },\n                yaxis: {\n                    autoscaleMargin: 0.02,\n                    position: \"left\" // or \"right\"\n                },\n                xaxes: [],\n                yaxes: [],\n                series: {\n                    points: {\n                        show: false,\n                        radius: 3,\n                        lineWidth: 2, // in pixels\n                        fill: true,\n                        fillColor: \"#ffffff\",\n                        symbol: \"circle\" // or callback\n                    },\n                    lines: {\n                        // we don't put in show: false so we can see\n                        // whether lines were actively disabled\n                        lineWidth: 2, // in pixels\n                        fill: false,\n                        fillColor: null,\n                        steps: false\n                        // Omit 'zero', so we can later default its value to\n                        // match that of the 'fill' option.\n                    },\n                    bars: {\n                        show: false,\n                        lineWidth: 2, // in pixels\n                        barWidth: 1, // in units of the x axis\n                        fill: true,\n                        fillColor: null,\n                        align: \"left\", // \"left\", \"right\", or \"center\"\n                        horizontal: false,\n                        zero: true\n                    },\n                    shadowSize: 3,\n                    highlightColor: null\n                },\n                grid: {\n                    show: true,\n                    aboveData: false,\n                    color: \"#545454\", // primary color used for outline and labels\n                    backgroundColor: null, // null for transparent, else color\n                    borderColor: null, // set if different from the grid color\n                    tickColor: null, // color for the ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    margin: 0, // distance from the canvas edge to the grid\n                    labelMargin: 5, // in pixels\n                    axisMargin: 8, // in pixels\n                    borderWidth: 2, // in pixels\n                    minBorderMargin: null, // in pixels, null means taken from points radius\n                    markings: null, // array of ranges or fn: axes -> array of ranges\n                    markingsColor: \"#f4f4f4\",\n                    markingsLineWidth: 2,\n                    // interactive stuff\n                    clickable: false,\n                    hoverable: false,\n                    autoHighlight: true, // highlight in case mouse is near\n                    mouseActiveRadius: 10 // how far the mouse can be away to activate an item\n                },\n                interaction: {\n                    redrawOverlayInterval: 1000/60 // time between updates, -1 means in same flow\n                },\n                hooks: {}\n            },\n        surface = null,     // the canvas for the plot itself\n        overlay = null,     // canvas for interactive stuff on top of plot\n        eventHolder = null, // jQuery object that events should be bound to\n        ctx = null, octx = null,\n        xaxes = [], yaxes = [],\n        plotOffset = { left: 0, right: 0, top: 0, bottom: 0},\n        plotWidth = 0, plotHeight = 0,\n        hooks = {\n            processOptions: [],\n            processRawData: [],\n            processDatapoints: [],\n            processOffset: [],\n            drawBackground: [],\n            drawSeries: [],\n            draw: [],\n            bindEvents: [],\n            drawOverlay: [],\n            shutdown: []\n        },\n        plot = this;\n\n        // public functions\n        plot.setData = setData;\n        plot.setupGrid = setupGrid;\n        plot.draw = draw;\n        plot.getPlaceholder = function() { return placeholder; };\n        plot.getCanvas = function() { return surface.element; };\n        plot.getPlotOffset = function() { return plotOffset; };\n        plot.width = function () { return plotWidth; };\n        plot.height = function () { return plotHeight; };\n        plot.offset = function () {\n            var o = eventHolder.offset();\n            o.left += plotOffset.left;\n            o.top += plotOffset.top;\n            return o;\n        };\n        plot.getData = function () { return series; };\n        plot.getAxes = function () {\n            var res = {}, i;\n            $.each(xaxes.concat(yaxes), function (_, axis) {\n                if (axis)\n                    res[axis.direction + (axis.n != 1 ? axis.n : \"\") + \"axis\"] = axis;\n            });\n            return res;\n        };\n        plot.getXAxes = function () { return xaxes; };\n        plot.getYAxes = function () { return yaxes; };\n        plot.c2p = canvasToAxisCoords;\n        plot.p2c = axisToCanvasCoords;\n        plot.getOptions = function () { return options; };\n        plot.highlight = highlight;\n        plot.unhighlight = unhighlight;\n        plot.triggerRedrawOverlay = triggerRedrawOverlay;\n        plot.pointOffset = function(point) {\n            return {\n                left: parseInt(xaxes[axisNumber(point, \"x\") - 1].p2c(+point.x) + plotOffset.left, 10),\n                top: parseInt(yaxes[axisNumber(point, \"y\") - 1].p2c(+point.y) + plotOffset.top, 10)\n            };\n        };\n        plot.shutdown = shutdown;\n        plot.destroy = function () {\n            shutdown();\n            placeholder.removeData(\"plot\").empty();\n\n            series = [];\n            options = null;\n            surface = null;\n            overlay = null;\n            eventHolder = null;\n            ctx = null;\n            octx = null;\n            xaxes = [];\n            yaxes = [];\n            hooks = null;\n            highlights = [];\n            plot = null;\n        };\n        plot.resize = function () {\n        \tvar width = placeholder.width(),\n        \t\theight = placeholder.height();\n            surface.resize(width, height);\n            overlay.resize(width, height);\n        };\n\n        // public attributes\n        plot.hooks = hooks;\n\n        // initialize\n        initPlugins(plot);\n        parseOptions(options_);\n        setupCanvases();\n        setData(data_);\n        setupGrid();\n        draw();\n        bindEvents();\n\n\n        function executeHooks(hook, args) {\n            args = [plot].concat(args);\n            for (var i = 0; i < hook.length; ++i)\n                hook[i].apply(this, args);\n        }\n\n        function initPlugins() {\n\n            // References to key classes, allowing plugins to modify them\n\n            var classes = {\n                Canvas: Canvas\n            };\n\n            for (var i = 0; i < plugins.length; ++i) {\n                var p = plugins[i];\n                p.init(plot, classes);\n                if (p.options)\n                    $.extend(true, options, p.options);\n            }\n        }\n\n        function parseOptions(opts) {\n\n            $.extend(true, options, opts);\n\n            // $.extend merges arrays, rather than replacing them.  When less\n            // colors are provided than the size of the default palette, we\n            // end up with those colors plus the remaining defaults, which is\n            // not expected behavior; avoid it by replacing them here.\n\n            if (opts && opts.colors) {\n            \toptions.colors = opts.colors;\n            }\n\n            if (options.xaxis.color == null)\n                options.xaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            if (options.yaxis.color == null)\n                options.yaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n\n            if (options.xaxis.tickColor == null) // grid.tickColor for back-compatibility\n                options.xaxis.tickColor = options.grid.tickColor || options.xaxis.color;\n            if (options.yaxis.tickColor == null) // grid.tickColor for back-compatibility\n                options.yaxis.tickColor = options.grid.tickColor || options.yaxis.color;\n\n            if (options.grid.borderColor == null)\n                options.grid.borderColor = options.grid.color;\n            if (options.grid.tickColor == null)\n                options.grid.tickColor = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n\n            // Fill in defaults for axis options, including any unspecified\n            // font-spec fields, if a font-spec was provided.\n\n            // If no x/y axis options were provided, create one of each anyway,\n            // since the rest of the code assumes that they exist.\n\n            var i, axisOptions, axisCount,\n                fontSize = placeholder.css(\"font-size\"),\n                fontSizeDefault = fontSize ? +fontSize.replace(\"px\", \"\") : 13,\n                fontDefaults = {\n                    style: placeholder.css(\"font-style\"),\n                    size: Math.round(0.8 * fontSizeDefault),\n                    variant: placeholder.css(\"font-variant\"),\n                    weight: placeholder.css(\"font-weight\"),\n                    family: placeholder.css(\"font-family\")\n                };\n\n            axisCount = options.xaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n\n                axisOptions = options.xaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.xaxis, axisOptions);\n                options.xaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            axisCount = options.yaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n\n                axisOptions = options.yaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.yaxis, axisOptions);\n                options.yaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            // backwards compatibility, to be removed in future\n            if (options.xaxis.noTicks && options.xaxis.ticks == null)\n                options.xaxis.ticks = options.xaxis.noTicks;\n            if (options.yaxis.noTicks && options.yaxis.ticks == null)\n                options.yaxis.ticks = options.yaxis.noTicks;\n            if (options.x2axis) {\n                options.xaxes[1] = $.extend(true, {}, options.xaxis, options.x2axis);\n                options.xaxes[1].position = \"top\";\n                // Override the inherit to allow the axis to auto-scale\n                if (options.x2axis.min == null) {\n                    options.xaxes[1].min = null;\n                }\n                if (options.x2axis.max == null) {\n                    options.xaxes[1].max = null;\n                }\n            }\n            if (options.y2axis) {\n                options.yaxes[1] = $.extend(true, {}, options.yaxis, options.y2axis);\n                options.yaxes[1].position = \"right\";\n                // Override the inherit to allow the axis to auto-scale\n                if (options.y2axis.min == null) {\n                    options.yaxes[1].min = null;\n                }\n                if (options.y2axis.max == null) {\n                    options.yaxes[1].max = null;\n                }\n            }\n            if (options.grid.coloredAreas)\n                options.grid.markings = options.grid.coloredAreas;\n            if (options.grid.coloredAreasColor)\n                options.grid.markingsColor = options.grid.coloredAreasColor;\n            if (options.lines)\n                $.extend(true, options.series.lines, options.lines);\n            if (options.points)\n                $.extend(true, options.series.points, options.points);\n            if (options.bars)\n                $.extend(true, options.series.bars, options.bars);\n            if (options.shadowSize != null)\n                options.series.shadowSize = options.shadowSize;\n            if (options.highlightColor != null)\n                options.series.highlightColor = options.highlightColor;\n\n            // save options on axes for future reference\n            for (i = 0; i < options.xaxes.length; ++i)\n                getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];\n            for (i = 0; i < options.yaxes.length; ++i)\n                getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];\n\n            // add hooks from options\n            for (var n in hooks)\n                if (options.hooks[n] && options.hooks[n].length)\n                    hooks[n] = hooks[n].concat(options.hooks[n]);\n\n            executeHooks(hooks.processOptions, [options]);\n        }\n\n        function setData(d) {\n            series = parseData(d);\n            fillInSeriesOptions();\n            processData();\n        }\n\n        function parseData(d) {\n            var res = [];\n            for (var i = 0; i < d.length; ++i) {\n                var s = $.extend(true, {}, options.series);\n\n                if (d[i].data != null) {\n                    s.data = d[i].data; // move the data instead of deep-copy\n                    delete d[i].data;\n\n                    $.extend(true, s, d[i]);\n\n                    d[i].data = s.data;\n                }\n                else\n                    s.data = d[i];\n                res.push(s);\n            }\n\n            return res;\n        }\n\n        function axisNumber(obj, coord) {\n            var a = obj[coord + \"axis\"];\n            if (typeof a == \"object\") // if we got a real axis, extract number\n                a = a.n;\n            if (typeof a != \"number\")\n                a = 1; // default to first axis\n            return a;\n        }\n\n        function allAxes() {\n            // return flat array without annoying null entries\n            return $.grep(xaxes.concat(yaxes), function (a) { return a; });\n        }\n\n        function canvasToAxisCoords(pos) {\n            // return an object with x/y corresponding to all used axes\n            var res = {}, i, axis;\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used)\n                    res[\"x\" + axis.n] = axis.c2p(pos.left);\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used)\n                    res[\"y\" + axis.n] = axis.c2p(pos.top);\n            }\n\n            if (res.x1 !== undefined)\n                res.x = res.x1;\n            if (res.y1 !== undefined)\n                res.y = res.y1;\n\n            return res;\n        }\n\n        function axisToCanvasCoords(pos) {\n            // get canvas coords from the first pair of x/y found in pos\n            var res = {}, i, axis, key;\n\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    key = \"x\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"x\";\n\n                    if (pos[key] != null) {\n                        res.left = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    key = \"y\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"y\";\n\n                    if (pos[key] != null) {\n                        res.top = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            return res;\n        }\n\n        function getOrCreateAxis(axes, number) {\n            if (!axes[number - 1])\n                axes[number - 1] = {\n                    n: number, // save the number for future reference\n                    direction: axes == xaxes ? \"x\" : \"y\",\n                    options: $.extend(true, {}, axes == xaxes ? options.xaxis : options.yaxis)\n                };\n\n            return axes[number - 1];\n        }\n\n        function fillInSeriesOptions() {\n\n            var neededColors = series.length, maxIndex = -1, i;\n\n            // Subtract the number of series that already have fixed colors or\n            // color indexes from the number that we still need to generate.\n\n            for (i = 0; i < series.length; ++i) {\n                var sc = series[i].color;\n                if (sc != null) {\n                    neededColors--;\n                    if (typeof sc == \"number\" && sc > maxIndex) {\n                        maxIndex = sc;\n                    }\n                }\n            }\n\n            // If any of the series have fixed color indexes, then we need to\n            // generate at least as many colors as the highest index.\n\n            if (neededColors <= maxIndex) {\n                neededColors = maxIndex + 1;\n            }\n\n            // Generate all the colors, using first the option colors and then\n            // variations on those colors once they're exhausted.\n\n            var c, colors = [], colorPool = options.colors,\n                colorPoolSize = colorPool.length, variation = 0;\n\n            for (i = 0; i < neededColors; i++) {\n\n                c = $.color.parse(colorPool[i % colorPoolSize] || \"#666\");\n\n                // Each time we exhaust the colors in the pool we adjust\n                // a scaling factor used to produce more variations on\n                // those colors. The factor alternates negative/positive\n                // to produce lighter/darker colors.\n\n                // Reset the variation after every few cycles, or else\n                // it will end up producing only white or black colors.\n\n                if (i % colorPoolSize == 0 && i) {\n                    if (variation >= 0) {\n                        if (variation < 0.5) {\n                            variation = -variation - 0.2;\n                        } else variation = 0;\n                    } else variation = -variation;\n                }\n\n                colors[i] = c.scale('rgb', 1 + variation);\n            }\n\n            // Finalize the series options, filling in their colors\n\n            var colori = 0, s;\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                // assign colors\n                if (s.color == null) {\n                    s.color = colors[colori].toString();\n                    ++colori;\n                }\n                else if (typeof s.color == \"number\")\n                    s.color = colors[s.color].toString();\n\n                // turn on lines automatically in case nothing is set\n                if (s.lines.show == null) {\n                    var v, show = true;\n                    for (v in s)\n                        if (s[v] && s[v].show) {\n                            show = false;\n                            break;\n                        }\n                    if (show)\n                        s.lines.show = true;\n                }\n\n                // If nothing was provided for lines.zero, default it to match\n                // lines.fill, since areas by default should extend to zero.\n\n                if (s.lines.zero == null) {\n                    s.lines.zero = !!s.lines.fill;\n                }\n\n                // setup axes\n                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, \"x\"));\n                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, \"y\"));\n            }\n        }\n\n        function processData() {\n            var topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                fakeInfinity = Number.MAX_VALUE,\n                i, j, k, m, length,\n                s, points, ps, x, y, axis, val, f, p,\n                data, format;\n\n            function updateAxis(axis, min, max) {\n                if (min < axis.datamin && min != -fakeInfinity)\n                    axis.datamin = min;\n                if (max > axis.datamax && max != fakeInfinity)\n                    axis.datamax = max;\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                // init axis\n                axis.datamin = topSentry;\n                axis.datamax = bottomSentry;\n                axis.used = false;\n            });\n\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                s.datapoints = { points: [] };\n\n                executeHooks(hooks.processRawData, [ s, s.data, s.datapoints ]);\n            }\n\n            // first pass: clean and copy data\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                data = s.data;\n                format = s.datapoints.format;\n\n                if (!format) {\n                    format = [];\n                    // find out how to copy\n                    format.push({ x: true, number: true, required: true });\n                    format.push({ y: true, number: true, required: true });\n\n                    if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                        var autoscale = !!((s.bars.show && s.bars.zero) || (s.lines.show && s.lines.zero));\n                        format.push({ y: true, number: true, required: false, defaultValue: 0, autoscale: autoscale });\n                        if (s.bars.horizontal) {\n                            delete format[format.length - 1].y;\n                            format[format.length - 1].x = true;\n                        }\n                    }\n\n                    s.datapoints.format = format;\n                }\n\n                if (s.datapoints.pointsize != null)\n                    continue; // already filled in\n\n                s.datapoints.pointsize = format.length;\n\n                ps = s.datapoints.pointsize;\n                points = s.datapoints.points;\n\n                var insertSteps = s.lines.show && s.lines.steps;\n                s.xaxis.used = s.yaxis.used = true;\n\n                for (j = k = 0; j < data.length; ++j, k += ps) {\n                    p = data[j];\n\n                    var nullify = p == null;\n                    if (!nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = p[m];\n                            f = format[m];\n\n                            if (f) {\n                                if (f.number && val != null) {\n                                    val = +val; // convert to number\n                                    if (isNaN(val))\n                                        val = null;\n                                    else if (val == Infinity)\n                                        val = fakeInfinity;\n                                    else if (val == -Infinity)\n                                        val = -fakeInfinity;\n                                }\n\n                                if (val == null) {\n                                    if (f.required)\n                                        nullify = true;\n\n                                    if (f.defaultValue != null)\n                                        val = f.defaultValue;\n                                }\n                            }\n\n                            points[k + m] = val;\n                        }\n                    }\n\n                    if (nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = points[k + m];\n                            if (val != null) {\n                                f = format[m];\n                                // extract min/max info\n                                if (f.autoscale !== false) {\n                                    if (f.x) {\n                                        updateAxis(s.xaxis, val, val);\n                                    }\n                                    if (f.y) {\n                                        updateAxis(s.yaxis, val, val);\n                                    }\n                                }\n                            }\n                            points[k + m] = null;\n                        }\n                    }\n                    else {\n                        // a little bit of line specific stuff that\n                        // perhaps shouldn't be here, but lacking\n                        // better means...\n                        if (insertSteps && k > 0\n                            && points[k - ps] != null\n                            && points[k - ps] != points[k]\n                            && points[k - ps + 1] != points[k + 1]) {\n                            // copy the point to make room for a middle point\n                            for (m = 0; m < ps; ++m)\n                                points[k + ps + m] = points[k + m];\n\n                            // middle point has same y\n                            points[k + 1] = points[k - ps + 1];\n\n                            // we've added a point, better reflect that\n                            k += ps;\n                        }\n                    }\n                }\n            }\n\n            // give the hooks a chance to run\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                executeHooks(hooks.processDatapoints, [ s, s.datapoints]);\n            }\n\n            // second pass: find datamax/datamin for auto-scaling\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points;\n                ps = s.datapoints.pointsize;\n                format = s.datapoints.format;\n\n                var xmin = topSentry, ymin = topSentry,\n                    xmax = bottomSentry, ymax = bottomSentry;\n\n                for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                    for (m = 0; m < ps; ++m) {\n                        val = points[j + m];\n                        f = format[m];\n                        if (!f || f.autoscale === false || val == fakeInfinity || val == -fakeInfinity)\n                            continue;\n\n                        if (f.x) {\n                            if (val < xmin)\n                                xmin = val;\n                            if (val > xmax)\n                                xmax = val;\n                        }\n                        if (f.y) {\n                            if (val < ymin)\n                                ymin = val;\n                            if (val > ymax)\n                                ymax = val;\n                        }\n                    }\n                }\n\n                if (s.bars.show) {\n                    // make sure we got room for the bar on the dancing floor\n                    var delta;\n\n                    switch (s.bars.align) {\n                        case \"left\":\n                            delta = 0;\n                            break;\n                        case \"right\":\n                            delta = -s.bars.barWidth;\n                            break;\n                        default:\n                            delta = -s.bars.barWidth / 2;\n                    }\n\n                    if (s.bars.horizontal) {\n                        ymin += delta;\n                        ymax += delta + s.bars.barWidth;\n                    }\n                    else {\n                        xmin += delta;\n                        xmax += delta + s.bars.barWidth;\n                    }\n                }\n\n                updateAxis(s.xaxis, xmin, xmax);\n                updateAxis(s.yaxis, ymin, ymax);\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                if (axis.datamin == topSentry)\n                    axis.datamin = null;\n                if (axis.datamax == bottomSentry)\n                    axis.datamax = null;\n            });\n        }\n\n        function setupCanvases() {\n\n            // Make sure the placeholder is clear of everything except canvases\n            // from a previous plot in this container that we'll try to re-use.\n\n            placeholder.css(\"padding\", 0) // padding messes up the positioning\n                .children().filter(function(){\n                    return !$(this).hasClass(\"flot-overlay\") && !$(this).hasClass('flot-base');\n                }).remove();\n\n            if (placeholder.css(\"position\") == 'static')\n                placeholder.css(\"position\", \"relative\"); // for positioning labels and overlay\n\n            surface = new Canvas(\"flot-base\", placeholder);\n            overlay = new Canvas(\"flot-overlay\", placeholder); // overlay canvas for interactive features\n\n            ctx = surface.context;\n            octx = overlay.context;\n\n            // define which element we're listening for events on\n            eventHolder = $(overlay.element).unbind();\n\n            // If we're re-using a plot object, shut down the old one\n\n            var existing = placeholder.data(\"plot\");\n\n            if (existing) {\n                existing.shutdown();\n                overlay.clear();\n            }\n\n            // save in case we get replotted\n            placeholder.data(\"plot\", plot);\n        }\n\n        function bindEvents() {\n            // bind events\n            if (options.grid.hoverable) {\n                eventHolder.mousemove(onMouseMove);\n\n                // Use bind, rather than .mouseleave, because we officially\n                // still support jQuery 1.2.6, which doesn't define a shortcut\n                // for mouseenter or mouseleave.  This was a bug/oversight that\n                // was fixed somewhere around 1.3.x.  We can return to using\n                // .mouseleave when we drop support for 1.2.6.\n\n                eventHolder.bind(\"mouseleave\", onMouseLeave);\n            }\n\n            if (options.grid.clickable)\n                eventHolder.click(onClick);\n\n            executeHooks(hooks.bindEvents, [eventHolder]);\n        }\n\n        function shutdown() {\n            if (redrawTimeout)\n                clearTimeout(redrawTimeout);\n\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mouseleave\", onMouseLeave);\n            eventHolder.unbind(\"click\", onClick);\n\n            executeHooks(hooks.shutdown, [eventHolder]);\n        }\n\n        function setTransformationHelpers(axis) {\n            // set helper functions on the axis, assumes plot area\n            // has been computed already\n\n            function identity(x) { return x; }\n\n            var s, m, t = axis.options.transform || identity,\n                it = axis.options.inverseTransform;\n\n            // precompute how much the axis is scaling a point\n            // in canvas space\n            if (axis.direction == \"x\") {\n                s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));\n                m = Math.min(t(axis.max), t(axis.min));\n            }\n            else {\n                s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));\n                s = -s;\n                m = Math.max(t(axis.max), t(axis.min));\n            }\n\n            // data point to canvas coordinate\n            if (t == identity) // slight optimization\n                axis.p2c = function (p) { return (p - m) * s; };\n            else\n                axis.p2c = function (p) { return (t(p) - m) * s; };\n            // canvas coordinate to data point\n            if (!it)\n                axis.c2p = function (c) { return m + c / s; };\n            else\n                axis.c2p = function (c) { return it(m + c / s); };\n        }\n\n        function measureTickLabels(axis) {\n\n            var opts = axis.options,\n                ticks = axis.ticks || [],\n                labelWidth = opts.labelWidth || 0,\n                labelHeight = opts.labelHeight || 0,\n                maxWidth = labelWidth || (axis.direction == \"x\" ? Math.floor(surface.width / (ticks.length || 1)) : null),\n                legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                font = opts.font || \"flot-tick-label tickLabel\";\n\n            for (var i = 0; i < ticks.length; ++i) {\n\n                var t = ticks[i];\n\n                if (!t.label)\n                    continue;\n\n                var info = surface.getTextInfo(layer, t.label, font, null, maxWidth);\n\n                labelWidth = Math.max(labelWidth, info.width);\n                labelHeight = Math.max(labelHeight, info.height);\n            }\n\n            axis.labelWidth = opts.labelWidth || labelWidth;\n            axis.labelHeight = opts.labelHeight || labelHeight;\n        }\n\n        function allocateAxisBoxFirstPhase(axis) {\n            // find the bounding box of the axis by looking at label\n            // widths/heights and ticks, make room by diminishing the\n            // plotOffset; this first phase only looks at one\n            // dimension per axis, the other dimension depends on the\n            // other axes so will have to wait\n\n            var lw = axis.labelWidth,\n                lh = axis.labelHeight,\n                pos = axis.options.position,\n                isXAxis = axis.direction === \"x\",\n                tickLength = axis.options.tickLength,\n                axisMargin = options.grid.axisMargin,\n                padding = options.grid.labelMargin,\n                innermost = true,\n                outermost = true,\n                first = true,\n                found = false;\n\n            // Determine the axis's position in its direction and on its side\n\n            $.each(isXAxis ? xaxes : yaxes, function(i, a) {\n                if (a && (a.show || a.reserveSpace)) {\n                    if (a === axis) {\n                        found = true;\n                    } else if (a.options.position === pos) {\n                        if (found) {\n                            outermost = false;\n                        } else {\n                            innermost = false;\n                        }\n                    }\n                    if (!found) {\n                        first = false;\n                    }\n                }\n            });\n\n            // The outermost axis on each side has no margin\n\n            if (outermost) {\n                axisMargin = 0;\n            }\n\n            // The ticks for the first axis in each direction stretch across\n\n            if (tickLength == null) {\n                tickLength = first ? \"full\" : 5;\n            }\n\n            if (!isNaN(+tickLength))\n                padding += +tickLength;\n\n            if (isXAxis) {\n                lh += padding;\n\n                if (pos == \"bottom\") {\n                    plotOffset.bottom += lh + axisMargin;\n                    axis.box = { top: surface.height - plotOffset.bottom, height: lh };\n                }\n                else {\n                    axis.box = { top: plotOffset.top + axisMargin, height: lh };\n                    plotOffset.top += lh + axisMargin;\n                }\n            }\n            else {\n                lw += padding;\n\n                if (pos == \"left\") {\n                    axis.box = { left: plotOffset.left + axisMargin, width: lw };\n                    plotOffset.left += lw + axisMargin;\n                }\n                else {\n                    plotOffset.right += lw + axisMargin;\n                    axis.box = { left: surface.width - plotOffset.right, width: lw };\n                }\n            }\n\n             // save for future reference\n            axis.position = pos;\n            axis.tickLength = tickLength;\n            axis.box.padding = padding;\n            axis.innermost = innermost;\n        }\n\n        function allocateAxisBoxSecondPhase(axis) {\n            // now that all axis boxes have been placed in one\n            // dimension, we can set the remaining dimension coordinates\n            if (axis.direction == \"x\") {\n                axis.box.left = plotOffset.left - axis.labelWidth / 2;\n                axis.box.width = surface.width - plotOffset.left - plotOffset.right + axis.labelWidth;\n            }\n            else {\n                axis.box.top = plotOffset.top - axis.labelHeight / 2;\n                axis.box.height = surface.height - plotOffset.bottom - plotOffset.top + axis.labelHeight;\n            }\n        }\n\n        function adjustLayoutForThingsStickingOut() {\n            // possibly adjust plot offset to ensure everything stays\n            // inside the canvas and isn't clipped off\n\n            var minMargin = options.grid.minBorderMargin,\n                axis, i;\n\n            // check stuff from the plot (FIXME: this should just read\n            // a value from the series, otherwise it's impossible to\n            // customize)\n            if (minMargin == null) {\n                minMargin = 0;\n                for (i = 0; i < series.length; ++i)\n                    minMargin = Math.max(minMargin, 2 * (series[i].points.radius + series[i].points.lineWidth/2));\n            }\n\n            var margins = {\n                left: minMargin,\n                right: minMargin,\n                top: minMargin,\n                bottom: minMargin\n            };\n\n            // check axis labels, note we don't check the actual\n            // labels but instead use the overall width/height to not\n            // jump as much around with replots\n            $.each(allAxes(), function (_, axis) {\n                if (axis.reserveSpace && axis.ticks && axis.ticks.length) {\n                    if (axis.direction === \"x\") {\n                        margins.left = Math.max(margins.left, axis.labelWidth / 2);\n                        margins.right = Math.max(margins.right, axis.labelWidth / 2);\n                    } else {\n                        margins.bottom = Math.max(margins.bottom, axis.labelHeight / 2);\n                        margins.top = Math.max(margins.top, axis.labelHeight / 2);\n                    }\n                }\n            });\n\n            plotOffset.left = Math.ceil(Math.max(margins.left, plotOffset.left));\n            plotOffset.right = Math.ceil(Math.max(margins.right, plotOffset.right));\n            plotOffset.top = Math.ceil(Math.max(margins.top, plotOffset.top));\n            plotOffset.bottom = Math.ceil(Math.max(margins.bottom, plotOffset.bottom));\n        }\n\n        function setupGrid() {\n            var i, axes = allAxes(), showGrid = options.grid.show;\n\n            // Initialize the plot's offset from the edge of the canvas\n\n            for (var a in plotOffset) {\n                var margin = options.grid.margin || 0;\n                plotOffset[a] = typeof margin == \"number\" ? margin : margin[a] || 0;\n            }\n\n            executeHooks(hooks.processOffset, [plotOffset]);\n\n            // If the grid is visible, add its border width to the offset\n\n            for (var a in plotOffset) {\n                if(typeof(options.grid.borderWidth) == \"object\") {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth[a] : 0;\n                }\n                else {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth : 0;\n                }\n            }\n\n            $.each(axes, function (_, axis) {\n                var axisOpts = axis.options;\n                axis.show = axisOpts.show == null ? axis.used : axisOpts.show;\n                axis.reserveSpace = axisOpts.reserveSpace == null ? axis.show : axisOpts.reserveSpace;\n                setRange(axis);\n            });\n\n            if (showGrid) {\n\n                var allocatedAxes = $.grep(axes, function (axis) {\n                    return axis.show || axis.reserveSpace;\n                });\n\n                $.each(allocatedAxes, function (_, axis) {\n                    // make the ticks\n                    setupTickGeneration(axis);\n                    setTicks(axis);\n                    snapRangeToTicks(axis, axis.ticks);\n                    // find labelWidth/Height for axis\n                    measureTickLabels(axis);\n                });\n\n                // with all dimensions calculated, we can compute the\n                // axis bounding boxes, start from the outside\n                // (reverse order)\n                for (i = allocatedAxes.length - 1; i >= 0; --i)\n                    allocateAxisBoxFirstPhase(allocatedAxes[i]);\n\n                // make sure we've got enough space for things that\n                // might stick out\n                adjustLayoutForThingsStickingOut();\n\n                $.each(allocatedAxes, function (_, axis) {\n                    allocateAxisBoxSecondPhase(axis);\n                });\n            }\n\n            plotWidth = surface.width - plotOffset.left - plotOffset.right;\n            plotHeight = surface.height - plotOffset.bottom - plotOffset.top;\n\n            // now we got the proper plot dimensions, we can compute the scaling\n            $.each(axes, function (_, axis) {\n                setTransformationHelpers(axis);\n            });\n\n            if (showGrid) {\n                drawAxisLabels();\n            }\n\n            insertLegend();\n        }\n\n        function setRange(axis) {\n            var opts = axis.options,\n                min = +(opts.min != null ? opts.min : axis.datamin),\n                max = +(opts.max != null ? opts.max : axis.datamax),\n                delta = max - min;\n\n            if (delta == 0.0) {\n                // degenerate case\n                var widen = max == 0 ? 1 : 0.01;\n\n                if (opts.min == null)\n                    min -= widen;\n                // always widen max if we couldn't widen min to ensure we\n                // don't fall into min == max which doesn't work\n                if (opts.max == null || opts.min != null)\n                    max += widen;\n            }\n            else {\n                // consider autoscaling\n                var margin = opts.autoscaleMargin;\n                if (margin != null) {\n                    if (opts.min == null) {\n                        min -= delta * margin;\n                        // make sure we don't go below zero if all values\n                        // are positive\n                        if (min < 0 && axis.datamin != null && axis.datamin >= 0)\n                            min = 0;\n                    }\n                    if (opts.max == null) {\n                        max += delta * margin;\n                        if (max > 0 && axis.datamax != null && axis.datamax <= 0)\n                            max = 0;\n                    }\n                }\n            }\n            axis.min = min;\n            axis.max = max;\n        }\n\n        function setupTickGeneration(axis) {\n            var opts = axis.options;\n\n            // estimate number of ticks\n            var noTicks;\n            if (typeof opts.ticks == \"number\" && opts.ticks > 0)\n                noTicks = opts.ticks;\n            else\n                // heuristic based on the model a*sqrt(x) fitted to\n                // some data points that seemed reasonable\n                noTicks = 0.3 * Math.sqrt(axis.direction == \"x\" ? surface.width : surface.height);\n\n            var delta = (axis.max - axis.min) / noTicks,\n                dec = -Math.floor(Math.log(delta) / Math.LN10),\n                maxDec = opts.tickDecimals;\n\n            if (maxDec != null && dec > maxDec) {\n                dec = maxDec;\n            }\n\n            var magn = Math.pow(10, -dec),\n                norm = delta / magn, // norm is between 1.0 and 10.0\n                size;\n\n            if (norm < 1.5) {\n                size = 1;\n            } else if (norm < 3) {\n                size = 2;\n                // special case for 2.5, requires an extra decimal\n                if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n                    size = 2.5;\n                    ++dec;\n                }\n            } else if (norm < 7.5) {\n                size = 5;\n            } else {\n                size = 10;\n            }\n\n            size *= magn;\n\n            if (opts.minTickSize != null && size < opts.minTickSize) {\n                size = opts.minTickSize;\n            }\n\n            axis.delta = delta;\n            axis.tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\n            axis.tickSize = opts.tickSize || size;\n\n            // Time mode was moved to a plug-in in 0.8, and since so many people use it\n            // we'll add an especially friendly reminder to make sure they included it.\n\n            if (opts.mode == \"time\" && !axis.tickGenerator) {\n                throw new Error(\"Time mode requires the flot.time plugin.\");\n            }\n\n            // Flot supports base-10 axes; any other mode else is handled by a plug-in,\n            // like flot.time.js.\n\n            if (!axis.tickGenerator) {\n\n                axis.tickGenerator = function (axis) {\n\n                    var ticks = [],\n                        start = floorInBase(axis.min, axis.tickSize),\n                        i = 0,\n                        v = Number.NaN,\n                        prev;\n\n                    do {\n                        prev = v;\n                        v = start + i * axis.tickSize;\n                        ticks.push(v);\n                        ++i;\n                    } while (v < axis.max && v != prev);\n                    return ticks;\n                };\n\n\t\t\t\taxis.tickFormatter = function (value, axis) {\n\n\t\t\t\t\tvar factor = axis.tickDecimals ? Math.pow(10, axis.tickDecimals) : 1;\n\t\t\t\t\tvar formatted = \"\" + Math.round(value * factor) / factor;\n\n\t\t\t\t\t// If tickDecimals was specified, ensure that we have exactly that\n\t\t\t\t\t// much precision; otherwise default to the value's own precision.\n\n\t\t\t\t\tif (axis.tickDecimals != null) {\n\t\t\t\t\t\tvar decimal = formatted.indexOf(\".\");\n\t\t\t\t\t\tvar precision = decimal == -1 ? 0 : formatted.length - decimal - 1;\n\t\t\t\t\t\tif (precision < axis.tickDecimals) {\n\t\t\t\t\t\t\treturn (precision ? formatted : formatted + \".\") + (\"\" + factor).substr(1, axis.tickDecimals - precision);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n                    return formatted;\n                };\n            }\n\n            if ($.isFunction(opts.tickFormatter))\n                axis.tickFormatter = function (v, axis) { return \"\" + opts.tickFormatter(v, axis); };\n\n            if (opts.alignTicksWithAxis != null) {\n                var otherAxis = (axis.direction == \"x\" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];\n                if (otherAxis && otherAxis.used && otherAxis != axis) {\n                    // consider snapping min/max to outermost nice ticks\n                    var niceTicks = axis.tickGenerator(axis);\n                    if (niceTicks.length > 0) {\n                        if (opts.min == null)\n                            axis.min = Math.min(axis.min, niceTicks[0]);\n                        if (opts.max == null && niceTicks.length > 1)\n                            axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);\n                    }\n\n                    axis.tickGenerator = function (axis) {\n                        // copy ticks, scaled to this axis\n                        var ticks = [], v, i;\n                        for (i = 0; i < otherAxis.ticks.length; ++i) {\n                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);\n                            v = axis.min + v * (axis.max - axis.min);\n                            ticks.push(v);\n                        }\n                        return ticks;\n                    };\n\n                    // we might need an extra decimal since forced\n                    // ticks don't necessarily fit naturally\n                    if (!axis.mode && opts.tickDecimals == null) {\n                        var extraDec = Math.max(0, -Math.floor(Math.log(axis.delta) / Math.LN10) + 1),\n                            ts = axis.tickGenerator(axis);\n\n                        // only proceed if the tick interval rounded\n                        // with an extra decimal doesn't give us a\n                        // zero at end\n                        if (!(ts.length > 1 && /\\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec))))\n                            axis.tickDecimals = extraDec;\n                    }\n                }\n            }\n        }\n\n        function setTicks(axis) {\n            var oticks = axis.options.ticks, ticks = [];\n            if (oticks == null || (typeof oticks == \"number\" && oticks > 0))\n                ticks = axis.tickGenerator(axis);\n            else if (oticks) {\n                if ($.isFunction(oticks))\n                    // generate the ticks\n                    ticks = oticks(axis);\n                else\n                    ticks = oticks;\n            }\n\n            // clean up/labelify the supplied ticks, copy them over\n            var i, v;\n            axis.ticks = [];\n            for (i = 0; i < ticks.length; ++i) {\n                var label = null;\n                var t = ticks[i];\n                if (typeof t == \"object\") {\n                    v = +t[0];\n                    if (t.length > 1)\n                        label = t[1];\n                }\n                else\n                    v = +t;\n                if (label == null)\n                    label = axis.tickFormatter(v, axis);\n                if (!isNaN(v))\n                    axis.ticks.push({ v: v, label: label });\n            }\n        }\n\n        function snapRangeToTicks(axis, ticks) {\n            if (axis.options.autoscaleMargin && ticks.length > 0) {\n                // snap to ticks\n                if (axis.options.min == null)\n                    axis.min = Math.min(axis.min, ticks[0].v);\n                if (axis.options.max == null && ticks.length > 1)\n                    axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);\n            }\n        }\n\n        function draw() {\n\n            surface.clear();\n\n            executeHooks(hooks.drawBackground, [ctx]);\n\n            var grid = options.grid;\n\n            // draw background, if any\n            if (grid.show && grid.backgroundColor)\n                drawBackground();\n\n            if (grid.show && !grid.aboveData) {\n                drawGrid();\n            }\n\n            for (var i = 0; i < series.length; ++i) {\n                executeHooks(hooks.drawSeries, [ctx, series[i]]);\n                drawSeries(series[i]);\n            }\n\n            executeHooks(hooks.draw, [ctx]);\n\n            if (grid.show && grid.aboveData) {\n                drawGrid();\n            }\n\n            surface.render();\n\n            // A draw implies that either the axes or data have changed, so we\n            // should probably update the overlay highlights as well.\n\n            triggerRedrawOverlay();\n        }\n\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = allAxes();\n\n            for (var i = 0; i < axes.length; ++i) {\n                axis = axes[i];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? xaxes[0] : yaxes[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return { from: from, to: to, axis: axis };\n        }\n\n        function drawBackground() {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, \"rgba(255, 255, 255, 0)\");\n            ctx.fillRect(0, 0, plotWidth, plotHeight);\n            ctx.restore();\n        }\n\n        function drawGrid() {\n            var i, axes, bw, bc;\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // draw markings\n            var markings = options.grid.markings;\n            if (markings) {\n                if ($.isFunction(markings)) {\n                    axes = plot.getAxes();\n                    // xmin etc. is backwards compatibility, to be\n                    // removed in the future\n                    axes.xmin = axes.xaxis.min;\n                    axes.xmax = axes.xaxis.max;\n                    axes.ymin = axes.yaxis.min;\n                    axes.ymax = axes.yaxis.max;\n\n                    markings = markings(axes);\n                }\n\n                for (i = 0; i < markings.length; ++i) {\n                    var m = markings[i],\n                        xrange = extractRange(m, \"x\"),\n                        yrange = extractRange(m, \"y\");\n\n                    // fill in missing\n                    if (xrange.from == null)\n                        xrange.from = xrange.axis.min;\n                    if (xrange.to == null)\n                        xrange.to = xrange.axis.max;\n                    if (yrange.from == null)\n                        yrange.from = yrange.axis.min;\n                    if (yrange.to == null)\n                        yrange.to = yrange.axis.max;\n\n                    // clip\n                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max ||\n                        yrange.to < yrange.axis.min || yrange.from > yrange.axis.max)\n                        continue;\n\n                    xrange.from = Math.max(xrange.from, xrange.axis.min);\n                    xrange.to = Math.min(xrange.to, xrange.axis.max);\n                    yrange.from = Math.max(yrange.from, yrange.axis.min);\n                    yrange.to = Math.min(yrange.to, yrange.axis.max);\n\n                    var xequal = xrange.from === xrange.to,\n                        yequal = yrange.from === yrange.to;\n\n                    if (xequal && yequal) {\n                        continue;\n                    }\n\n                    // then draw\n                    xrange.from = Math.floor(xrange.axis.p2c(xrange.from));\n                    xrange.to = Math.floor(xrange.axis.p2c(xrange.to));\n                    yrange.from = Math.floor(yrange.axis.p2c(yrange.from));\n                    yrange.to = Math.floor(yrange.axis.p2c(yrange.to));\n\n                    if (xequal || yequal) {\n                        var lineWidth = m.lineWidth || options.grid.markingsLineWidth,\n                            subPixel = lineWidth % 2 ? 0.5 : 0;\n                        ctx.beginPath();\n                        ctx.strokeStyle = m.color || options.grid.markingsColor;\n                        ctx.lineWidth = lineWidth;\n                        if (xequal) {\n                            ctx.moveTo(xrange.to + subPixel, yrange.from);\n                            ctx.lineTo(xrange.to + subPixel, yrange.to);\n                        } else {\n                            ctx.moveTo(xrange.from, yrange.to + subPixel);\n                            ctx.lineTo(xrange.to, yrange.to + subPixel);                            \n                        }\n                        ctx.stroke();\n                    } else {\n                        ctx.fillStyle = m.color || options.grid.markingsColor;\n                        ctx.fillRect(xrange.from, yrange.to,\n                                     xrange.to - xrange.from,\n                                     yrange.from - yrange.to);\n                    }\n                }\n            }\n\n            // draw the ticks\n            axes = allAxes();\n            bw = options.grid.borderWidth;\n\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box,\n                    t = axis.tickLength, x, y, xoff, yoff;\n                if (!axis.show || axis.ticks.length == 0)\n                    continue;\n\n                ctx.lineWidth = 1;\n\n                // find the edges\n                if (axis.direction == \"x\") {\n                    x = 0;\n                    if (t == \"full\")\n                        y = (axis.position == \"top\" ? 0 : plotHeight);\n                    else\n                        y = box.top - plotOffset.top + (axis.position == \"top\" ? box.height : 0);\n                }\n                else {\n                    y = 0;\n                    if (t == \"full\")\n                        x = (axis.position == \"left\" ? 0 : plotWidth);\n                    else\n                        x = box.left - plotOffset.left + (axis.position == \"left\" ? box.width : 0);\n                }\n\n                // draw tick bar\n                if (!axis.innermost) {\n                    ctx.strokeStyle = axis.options.color;\n                    ctx.beginPath();\n                    xoff = yoff = 0;\n                    if (axis.direction == \"x\")\n                        xoff = plotWidth + 1;\n                    else\n                        yoff = plotHeight + 1;\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\") {\n                            y = Math.floor(y) + 0.5;\n                        } else {\n                            x = Math.floor(x) + 0.5;\n                        }\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                    ctx.stroke();\n                }\n\n                // draw ticks\n\n                ctx.strokeStyle = axis.options.tickColor;\n\n                ctx.beginPath();\n                for (i = 0; i < axis.ticks.length; ++i) {\n                    var v = axis.ticks[i].v;\n\n                    xoff = yoff = 0;\n\n                    if (isNaN(v) || v < axis.min || v > axis.max\n                        // skip those lying on the axes if we got a border\n                        || (t == \"full\"\n                            && ((typeof bw == \"object\" && bw[axis.position] > 0) || bw > 0)\n                            && (v == axis.min || v == axis.max)))\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        x = axis.p2c(v);\n                        yoff = t == \"full\" ? -plotHeight : t;\n\n                        if (axis.position == \"top\")\n                            yoff = -yoff;\n                    }\n                    else {\n                        y = axis.p2c(v);\n                        xoff = t == \"full\" ? -plotWidth : t;\n\n                        if (axis.position == \"left\")\n                            xoff = -xoff;\n                    }\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\")\n                            x = Math.floor(x) + 0.5;\n                        else\n                            y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                }\n\n                ctx.stroke();\n            }\n\n\n            // draw border\n            if (bw) {\n                // If either borderWidth or borderColor is an object, then draw the border\n                // line by line instead of as one rectangle\n                bc = options.grid.borderColor;\n                if(typeof bw == \"object\" || typeof bc == \"object\") {\n                    if (typeof bw !== \"object\") {\n                        bw = {top: bw, right: bw, bottom: bw, left: bw};\n                    }\n                    if (typeof bc !== \"object\") {\n                        bc = {top: bc, right: bc, bottom: bc, left: bc};\n                    }\n\n                    if (bw.top > 0) {\n                        ctx.strokeStyle = bc.top;\n                        ctx.lineWidth = bw.top;\n                        ctx.beginPath();\n                        ctx.moveTo(0 - bw.left, 0 - bw.top/2);\n                        ctx.lineTo(plotWidth, 0 - bw.top/2);\n                        ctx.stroke();\n                    }\n\n                    if (bw.right > 0) {\n                        ctx.strokeStyle = bc.right;\n                        ctx.lineWidth = bw.right;\n                        ctx.beginPath();\n                        ctx.moveTo(plotWidth + bw.right / 2, 0 - bw.top);\n                        ctx.lineTo(plotWidth + bw.right / 2, plotHeight);\n                        ctx.stroke();\n                    }\n\n                    if (bw.bottom > 0) {\n                        ctx.strokeStyle = bc.bottom;\n                        ctx.lineWidth = bw.bottom;\n                        ctx.beginPath();\n                        ctx.moveTo(plotWidth + bw.right, plotHeight + bw.bottom / 2);\n                        ctx.lineTo(0, plotHeight + bw.bottom / 2);\n                        ctx.stroke();\n                    }\n\n                    if (bw.left > 0) {\n                        ctx.strokeStyle = bc.left;\n                        ctx.lineWidth = bw.left;\n                        ctx.beginPath();\n                        ctx.moveTo(0 - bw.left/2, plotHeight + bw.bottom);\n                        ctx.lineTo(0- bw.left/2, 0);\n                        ctx.stroke();\n                    }\n                }\n                else {\n                    ctx.lineWidth = bw;\n                    ctx.strokeStyle = options.grid.borderColor;\n                    ctx.strokeRect(-bw/2, -bw/2, plotWidth + bw, plotHeight + bw);\n                }\n            }\n\n            ctx.restore();\n        }\n\n        function drawAxisLabels() {\n\n            $.each(allAxes(), function (_, axis) {\n                var box = axis.box,\n                    legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                    layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                    font = axis.options.font || \"flot-tick-label tickLabel\",\n                    tick, x, y, halign, valign;\n\n                // Remove text before checking for axis.show and ticks.length;\n                // otherwise plugins, like flot-tickrotor, that draw their own\n                // tick labels will end up with both theirs and the defaults.\n\n                surface.removeText(layer);\n\n                if (!axis.show || axis.ticks.length == 0)\n                    return;\n\n                for (var i = 0; i < axis.ticks.length; ++i) {\n\n                    tick = axis.ticks[i];\n                    if (!tick.label || tick.v < axis.min || tick.v > axis.max)\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        halign = \"center\";\n                        x = plotOffset.left + axis.p2c(tick.v);\n                        if (axis.position == \"bottom\") {\n                            y = box.top + box.padding;\n                        } else {\n                            y = box.top + box.height - box.padding;\n                            valign = \"bottom\";\n                        }\n                    } else {\n                        valign = \"middle\";\n                        y = plotOffset.top + axis.p2c(tick.v);\n                        if (axis.position == \"left\") {\n                            x = box.left + box.width - box.padding;\n                            halign = \"right\";\n                        } else {\n                            x = box.left + box.padding;\n                        }\n                    }\n\n                    surface.addText(layer, x, y, tick.label, font, null, null, halign, valign);\n                }\n            });\n        }\n\n        function drawSeries(series) {\n            if (series.lines.show)\n                drawSeriesLines(series);\n            if (series.bars.show)\n                drawSeriesBars(series);\n            if (series.points.show)\n                drawSeriesPoints(series);\n        }\n\n        function drawSeriesLines(series) {\n            function plotLine(datapoints, xoffset, yoffset, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    prevx = null, prevy = null;\n\n                ctx.beginPath();\n                for (var i = ps; i < points.length; i += ps) {\n                    var x1 = points[i - ps], y1 = points[i - ps + 1],\n                        x2 = points[i], y2 = points[i + 1];\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min) {\n                        if (y2 < axisy.min)\n                            continue;   // line segment is outside\n                        // compute new intersection point\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min) {\n                        if (y1 < axisy.min)\n                            continue;\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max) {\n                        if (y2 > axisy.max)\n                            continue;\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max) {\n                        if (y1 > axisy.max)\n                            continue;\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (x1 != prevx || y1 != prevy)\n                        ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n\n                    prevx = x2;\n                    prevy = y2;\n                    ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);\n                }\n                ctx.stroke();\n            }\n\n            function plotLineArea(datapoints, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    bottom = Math.min(Math.max(0, axisy.min), axisy.max),\n                    i = 0, top, areaOpen = false,\n                    ypos = 1, segmentStart = 0, segmentEnd = 0;\n\n                // we process each segment in two turns, first forward\n                // direction to sketch out top, then once we hit the\n                // end we go backwards to sketch the bottom\n                while (true) {\n                    if (ps > 0 && i > points.length + ps)\n                        break;\n\n                    i += ps; // ps is negative if going backwards\n\n                    var x1 = points[i - ps],\n                        y1 = points[i - ps + ypos],\n                        x2 = points[i], y2 = points[i + ypos];\n\n                    if (areaOpen) {\n                        if (ps > 0 && x1 != null && x2 == null) {\n                            // at turning point\n                            segmentEnd = i;\n                            ps = -ps;\n                            ypos = 2;\n                            continue;\n                        }\n\n                        if (ps < 0 && i == segmentStart + ps) {\n                            // done with the reverse sweep\n                            ctx.fill();\n                            areaOpen = false;\n                            ps = -ps;\n                            ypos = 1;\n                            i = segmentStart = segmentEnd + ps;\n                            continue;\n                        }\n                    }\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip x values\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (!areaOpen) {\n                        // open area\n                        ctx.beginPath();\n                        ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));\n                        areaOpen = true;\n                    }\n\n                    // now first check the case where both is outside\n                    if (y1 >= axisy.max && y2 >= axisy.max) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));\n                        continue;\n                    }\n                    else if (y1 <= axisy.min && y2 <= axisy.min) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));\n                        continue;\n                    }\n\n                    // else it's a bit more complicated, there might\n                    // be a flat maxed out rectangle first, then a\n                    // triangular cutout or reverse; to find these\n                    // keep track of the current x values\n                    var x1old = x1, x2old = x2;\n\n                    // clip the y values, without shortcutting, we\n                    // go through all cases in turn\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // if the x value was changed we got a rectangle\n                    // to fill\n                    if (x1 != x1old) {\n                        ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));\n                        // it goes to (x1, y1), but we fill that below\n                    }\n\n                    // fill triangular section, this sometimes result\n                    // in redundant points if (x1, y1) hasn't changed\n                    // from previous line to, but we just ignore that\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n\n                    // fill the other rectangle if it's there\n                    if (x2 != x2old) {\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n                        ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));\n                    }\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n            ctx.lineJoin = \"round\";\n\n            var lw = series.lines.lineWidth,\n                sw = series.shadowSize;\n            // FIXME: consider another form of shadow when filling is turned on\n            if (lw > 0 && sw > 0) {\n                // draw shadow as a thick and thin line with transparency\n                ctx.lineWidth = sw;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                // position shadow at angle from the mid of line\n                var angle = Math.PI/18;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2), series.xaxis, series.yaxis);\n                ctx.lineWidth = sw/2;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4), series.xaxis, series.yaxis);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight);\n            if (fillStyle) {\n                ctx.fillStyle = fillStyle;\n                plotLineArea(series.datapoints, series.xaxis, series.yaxis);\n            }\n\n            if (lw > 0)\n                plotLine(series.datapoints, 0, 0, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function drawSeriesPoints(series) {\n            function plotPoints(datapoints, radius, fillStyle, offset, shadow, axisx, axisy, symbol) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    var x = points[i], y = points[i + 1];\n                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                        continue;\n\n                    ctx.beginPath();\n                    x = axisx.p2c(x);\n                    y = axisy.p2c(y) + offset;\n                    if (symbol == \"circle\")\n                        ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);\n                    else\n                        symbol(ctx, x, y, radius, shadow);\n                    ctx.closePath();\n\n                    if (fillStyle) {\n                        ctx.fillStyle = fillStyle;\n                        ctx.fill();\n                    }\n                    ctx.stroke();\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var lw = series.points.lineWidth,\n                sw = series.shadowSize,\n                radius = series.points.radius,\n                symbol = series.points.symbol;\n\n            // If the user sets the line width to 0, we change it to a very \n            // small value. A line width of 0 seems to force the default of 1.\n            // Doing the conditional here allows the shadow setting to still be \n            // optional even with a lineWidth of 0.\n\n            if( lw == 0 )\n                lw = 0.0001;\n\n            if (lw > 0 && sw > 0) {\n                // draw shadow in two steps\n                var w = sw / 2;\n                ctx.lineWidth = w;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                plotPoints(series.datapoints, radius, null, w + w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n\n                ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                plotPoints(series.datapoints, radius, null, w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            plotPoints(series.datapoints, radius,\n                       getFillStyle(series.points, series.color), 0, false,\n                       series.xaxis, series.yaxis, symbol);\n            ctx.restore();\n        }\n\n        function drawBar(x, y, b, barLeft, barRight, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {\n            var left, right, bottom, top,\n                drawLeft, drawRight, drawTop, drawBottom,\n                tmp;\n\n            // in horizontal mode, we start the bar from the left\n            // instead of from the bottom so it appears to be\n            // horizontal rather than vertical\n            if (horizontal) {\n                drawBottom = drawRight = drawTop = true;\n                drawLeft = false;\n                left = b;\n                right = x;\n                top = y + barLeft;\n                bottom = y + barRight;\n\n                // account for negative bars\n                if (right < left) {\n                    tmp = right;\n                    right = left;\n                    left = tmp;\n                    drawLeft = true;\n                    drawRight = false;\n                }\n            }\n            else {\n                drawLeft = drawRight = drawTop = true;\n                drawBottom = false;\n                left = x + barLeft;\n                right = x + barRight;\n                bottom = b;\n                top = y;\n\n                // account for negative bars\n                if (top < bottom) {\n                    tmp = top;\n                    top = bottom;\n                    bottom = tmp;\n                    drawBottom = true;\n                    drawTop = false;\n                }\n            }\n\n            // clip\n            if (right < axisx.min || left > axisx.max ||\n                top < axisy.min || bottom > axisy.max)\n                return;\n\n            if (left < axisx.min) {\n                left = axisx.min;\n                drawLeft = false;\n            }\n\n            if (right > axisx.max) {\n                right = axisx.max;\n                drawRight = false;\n            }\n\n            if (bottom < axisy.min) {\n                bottom = axisy.min;\n                drawBottom = false;\n            }\n\n            if (top > axisy.max) {\n                top = axisy.max;\n                drawTop = false;\n            }\n\n            left = axisx.p2c(left);\n            bottom = axisy.p2c(bottom);\n            right = axisx.p2c(right);\n            top = axisy.p2c(top);\n\n            // fill the bar\n            if (fillStyleCallback) {\n                c.fillStyle = fillStyleCallback(bottom, top);\n                c.fillRect(left, top, right - left, bottom - top)\n            }\n\n            // draw outline\n            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {\n                c.beginPath();\n\n                // FIXME: inline moveTo is buggy with excanvas\n                c.moveTo(left, bottom);\n                if (drawLeft)\n                    c.lineTo(left, top);\n                else\n                    c.moveTo(left, top);\n                if (drawTop)\n                    c.lineTo(right, top);\n                else\n                    c.moveTo(right, top);\n                if (drawRight)\n                    c.lineTo(right, bottom);\n                else\n                    c.moveTo(right, bottom);\n                if (drawBottom)\n                    c.lineTo(left, bottom);\n                else\n                    c.moveTo(left, bottom);\n                c.stroke();\n            }\n        }\n\n        function drawSeriesBars(series) {\n            function plotBars(datapoints, barLeft, barRight, fillStyleCallback, axisx, axisy) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    if (points[i] == null)\n                        continue;\n                    drawBar(points[i], points[i + 1], points[i + 2], barLeft, barRight, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // FIXME: figure out a way to add shadows (for instance along the right edge)\n            ctx.lineWidth = series.bars.lineWidth;\n            ctx.strokeStyle = series.color;\n\n            var barLeft;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -series.bars.barWidth;\n                    break;\n                default:\n                    barLeft = -series.bars.barWidth / 2;\n            }\n\n            var fillStyleCallback = series.bars.fill ? function (bottom, top) { return getFillStyle(series.bars, series.color, bottom, top); } : null;\n            plotBars(series.datapoints, barLeft, barLeft + series.bars.barWidth, fillStyleCallback, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function getFillStyle(filloptions, seriesColor, bottom, top) {\n            var fill = filloptions.fill;\n            if (!fill)\n                return null;\n\n            if (filloptions.fillColor)\n                return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);\n\n            var c = $.color.parse(seriesColor);\n            c.a = typeof fill == \"number\" ? fill : 0.4;\n            c.normalize();\n            return c.toString();\n        }\n\n        function insertLegend() {\n\n            if (options.legend.container != null) {\n                $(options.legend.container).html(\"\");\n            } else {\n                placeholder.find(\".legend\").remove();\n            }\n\n            if (!options.legend.show) {\n                return;\n            }\n\n            var fragments = [], entries = [], rowStarted = false,\n                lf = options.legend.labelFormatter, s, label;\n\n            // Build a list of legend entries, with each having a label and a color\n\n            for (var i = 0; i < series.length; ++i) {\n                s = series[i];\n                if (s.label) {\n                    label = lf ? lf(s.label, s) : s.label;\n                    if (label) {\n                        entries.push({\n                            label: label,\n                            color: s.color\n                        });\n                    }\n                }\n            }\n\n            // Sort the legend using either the default or a custom comparator\n\n            if (options.legend.sorted) {\n                if ($.isFunction(options.legend.sorted)) {\n                    entries.sort(options.legend.sorted);\n                } else if (options.legend.sorted == \"reverse\") {\n                \tentries.reverse();\n                } else {\n                    var ascending = options.legend.sorted != \"descending\";\n                    entries.sort(function(a, b) {\n                        return a.label == b.label ? 0 : (\n                            (a.label < b.label) != ascending ? 1 : -1   // Logical XOR\n                        );\n                    });\n                }\n            }\n\n            // Generate markup for the list of entries, in their final order\n\n            for (var i = 0; i < entries.length; ++i) {\n\n                var entry = entries[i];\n\n                if (i % options.legend.noColumns == 0) {\n                    if (rowStarted)\n                        fragments.push('</tr>');\n                    fragments.push('<tr>');\n                    rowStarted = true;\n                }\n\n                fragments.push(\n                    '<td class=\"legendColorBox\"><div style=\"border:1px solid ' + options.legend.labelBoxBorderColor + ';padding:1px\"><div style=\"width:4px;height:0;border:5px solid ' + entry.color + ';overflow:hidden\"></div></div></td>' +\n                    '<td class=\"legendLabel\">' + entry.label + '</td>'\n                );\n            }\n\n            if (rowStarted)\n                fragments.push('</tr>');\n\n            if (fragments.length == 0)\n                return;\n\n            var table = '<table style=\"font-size:smaller;color:' + options.grid.color + '\">' + fragments.join(\"\") + '</table>';\n            if (options.legend.container != null)\n                $(options.legend.container).html(table);\n            else {\n                var pos = \"\",\n                    p = options.legend.position,\n                    m = options.legend.margin;\n                if (m[0] == null)\n                    m = [m, m];\n                if (p.charAt(0) == \"n\")\n                    pos += 'top:' + (m[1] + plotOffset.top) + 'px;';\n                else if (p.charAt(0) == \"s\")\n                    pos += 'bottom:' + (m[1] + plotOffset.bottom) + 'px;';\n                if (p.charAt(1) == \"e\")\n                    pos += 'right:' + (m[0] + plotOffset.right) + 'px;';\n                else if (p.charAt(1) == \"w\")\n                    pos += 'left:' + (m[0] + plotOffset.left) + 'px;';\n                var legend = $('<div class=\"legend\">' + table.replace('style=\"', 'style=\"position:absolute;' + pos +';') + '</div>').appendTo(placeholder);\n                if (options.legend.backgroundOpacity != 0.0) {\n                    // put in the transparent background\n                    // separately to avoid blended labels and\n                    // label boxes\n                    var c = options.legend.backgroundColor;\n                    if (c == null) {\n                        c = options.grid.backgroundColor;\n                        if (c && typeof c == \"string\")\n                            c = $.color.parse(c);\n                        else\n                            c = $.color.extract(legend, 'background-color');\n                        c.a = 1;\n                        c = c.toString();\n                    }\n                    var div = legend.children();\n                    $('<div style=\"position:absolute;width:' + div.width() + 'px;height:' + div.height() + 'px;' + pos +'background-color:' + c + ';\"> </div>').prependTo(legend).css('opacity', options.legend.backgroundOpacity);\n                }\n            }\n        }\n\n\n        // interactive features\n\n        var highlights = [],\n            redrawTimeout = null;\n\n        // returns the data item the mouse is over, or null if none is found\n        function findNearbyItem(mouseX, mouseY, seriesFilter) {\n            var maxDistance = options.grid.mouseActiveRadius,\n                smallestDistance = maxDistance * maxDistance + 1,\n                item = null, foundPoint = false, i, j, ps;\n\n            for (i = series.length - 1; i >= 0; --i) {\n                if (!seriesFilter(series[i]))\n                    continue;\n\n                var s = series[i],\n                    axisx = s.xaxis,\n                    axisy = s.yaxis,\n                    points = s.datapoints.points,\n                    mx = axisx.c2p(mouseX), // precompute some stuff to make the loop faster\n                    my = axisy.c2p(mouseY),\n                    maxx = maxDistance / axisx.scale,\n                    maxy = maxDistance / axisy.scale;\n\n                ps = s.datapoints.pointsize;\n                // with inverse transforms, we can't use the maxx/maxy\n                // optimization, sadly\n                if (axisx.options.inverseTransform)\n                    maxx = Number.MAX_VALUE;\n                if (axisy.options.inverseTransform)\n                    maxy = Number.MAX_VALUE;\n\n                if (s.lines.show || s.points.show) {\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1];\n                        if (x == null)\n                            continue;\n\n                        // For points and lines, the cursor must be within a\n                        // certain distance to the data point\n                        if (x - mx > maxx || x - mx < -maxx ||\n                            y - my > maxy || y - my < -maxy)\n                            continue;\n\n                        // We have to calculate distances in pixels, not in\n                        // data units, because the scales of the axes may be different\n                        var dx = Math.abs(axisx.p2c(x) - mouseX),\n                            dy = Math.abs(axisy.p2c(y) - mouseY),\n                            dist = dx * dx + dy * dy; // we save the sqrt\n\n                        // use <= to ensure last point takes precedence\n                        // (last generally means on top of)\n                        if (dist < smallestDistance) {\n                            smallestDistance = dist;\n                            item = [i, j / ps];\n                        }\n                    }\n                }\n\n                if (s.bars.show && !item) { // no other point can be nearby\n\n                    var barLeft, barRight;\n\n                    switch (s.bars.align) {\n                        case \"left\":\n                            barLeft = 0;\n                            break;\n                        case \"right\":\n                            barLeft = -s.bars.barWidth;\n                            break;\n                        default:\n                            barLeft = -s.bars.barWidth / 2;\n                    }\n\n                    barRight = barLeft + s.bars.barWidth;\n\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1], b = points[j + 2];\n                        if (x == null)\n                            continue;\n\n                        // for a bar graph, the cursor must be inside the bar\n                        if (series[i].bars.horizontal ?\n                            (mx <= Math.max(b, x) && mx >= Math.min(b, x) &&\n                             my >= y + barLeft && my <= y + barRight) :\n                            (mx >= x + barLeft && mx <= x + barRight &&\n                             my >= Math.min(b, y) && my <= Math.max(b, y)))\n                                item = [i, j / ps];\n                    }\n                }\n            }\n\n            if (item) {\n                i = item[0];\n                j = item[1];\n                ps = series[i].datapoints.pointsize;\n\n                return { datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),\n                         dataIndex: j,\n                         series: series[i],\n                         seriesIndex: i };\n            }\n\n            return null;\n        }\n\n        function onMouseMove(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return s[\"hoverable\"] != false; });\n        }\n\n        function onMouseLeave(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return false; });\n        }\n\n        function onClick(e) {\n            triggerClickHoverEvent(\"plotclick\", e,\n                                   function (s) { return s[\"clickable\"] != false; });\n        }\n\n        // trigger click or hover event (they send the same parameters\n        // so we share their code)\n        function triggerClickHoverEvent(eventname, event, seriesFilter) {\n            var offset = eventHolder.offset(),\n                canvasX = event.pageX - offset.left - plotOffset.left,\n                canvasY = event.pageY - offset.top - plotOffset.top,\n            pos = canvasToAxisCoords({ left: canvasX, top: canvasY });\n\n            pos.pageX = event.pageX;\n            pos.pageY = event.pageY;\n\n            var item = findNearbyItem(canvasX, canvasY, seriesFilter);\n\n            if (item) {\n                // fill in mouse pos for any listeners out there\n                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left + plotOffset.left, 10);\n                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top + plotOffset.top, 10);\n            }\n\n            if (options.grid.autoHighlight) {\n                // clear auto-highlights\n                for (var i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if (h.auto == eventname &&\n                        !(item && h.series == item.series &&\n                          h.point[0] == item.datapoint[0] &&\n                          h.point[1] == item.datapoint[1]))\n                        unhighlight(h.series, h.point);\n                }\n\n                if (item)\n                    highlight(item.series, item.datapoint, eventname);\n            }\n\n            placeholder.trigger(eventname, [ pos, item ]);\n        }\n\n        function triggerRedrawOverlay() {\n            var t = options.interaction.redrawOverlayInterval;\n            if (t == -1) {      // skip event queue\n                drawOverlay();\n                return;\n            }\n\n            if (!redrawTimeout)\n                redrawTimeout = setTimeout(drawOverlay, t);\n        }\n\n        function drawOverlay() {\n            redrawTimeout = null;\n\n            // draw highlights\n            octx.save();\n            overlay.clear();\n            octx.translate(plotOffset.left, plotOffset.top);\n\n            var i, hi;\n            for (i = 0; i < highlights.length; ++i) {\n                hi = highlights[i];\n\n                if (hi.series.bars.show)\n                    drawBarHighlight(hi.series, hi.point);\n                else\n                    drawPointHighlight(hi.series, hi.point);\n            }\n            octx.restore();\n\n            executeHooks(hooks.drawOverlay, [octx]);\n        }\n\n        function highlight(s, point, auto) {\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i == -1) {\n                highlights.push({ series: s, point: point, auto: auto });\n\n                triggerRedrawOverlay();\n            }\n            else if (!auto)\n                highlights[i].auto = false;\n        }\n\n        function unhighlight(s, point) {\n            if (s == null && point == null) {\n                highlights = [];\n                triggerRedrawOverlay();\n                return;\n            }\n\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i != -1) {\n                highlights.splice(i, 1);\n\n                triggerRedrawOverlay();\n            }\n        }\n\n        function indexOfHighlight(s, p) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series == s && h.point[0] == p[0]\n                    && h.point[1] == p[1])\n                    return i;\n            }\n            return -1;\n        }\n\n        function drawPointHighlight(series, point) {\n            var x = point[0], y = point[1],\n                axisx = series.xaxis, axisy = series.yaxis,\n                highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString();\n\n            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                return;\n\n            var pointRadius = series.points.radius + series.points.lineWidth / 2;\n            octx.lineWidth = pointRadius;\n            octx.strokeStyle = highlightColor;\n            var radius = 1.5 * pointRadius;\n            x = axisx.p2c(x);\n            y = axisy.p2c(y);\n\n            octx.beginPath();\n            if (series.points.symbol == \"circle\")\n                octx.arc(x, y, radius, 0, 2 * Math.PI, false);\n            else\n                series.points.symbol(octx, x, y, radius, false);\n            octx.closePath();\n            octx.stroke();\n        }\n\n        function drawBarHighlight(series, point) {\n            var highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString(),\n                fillStyle = highlightColor,\n                barLeft;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -series.bars.barWidth;\n                    break;\n                default:\n                    barLeft = -series.bars.barWidth / 2;\n            }\n\n            octx.lineWidth = series.bars.lineWidth;\n            octx.strokeStyle = highlightColor;\n\n            drawBar(point[0], point[1], point[2] || 0, barLeft, barLeft + series.bars.barWidth,\n                    function () { return fillStyle; }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);\n        }\n\n        function getColorOrGradient(spec, bottom, top, defaultColor) {\n            if (typeof spec == \"string\")\n                return spec;\n            else {\n                // assume this is a gradient spec; IE currently only\n                // supports a simple vertical gradient properly, so that's\n                // what we support too\n                var gradient = ctx.createLinearGradient(0, top, 0, bottom);\n\n                for (var i = 0, l = spec.colors.length; i < l; ++i) {\n                    var c = spec.colors[i];\n                    if (typeof c != \"string\") {\n                        var co = $.color.parse(defaultColor);\n                        if (c.brightness != null)\n                            co = co.scale('rgb', c.brightness);\n                        if (c.opacity != null)\n                            co.a *= c.opacity;\n                        c = co.toString();\n                    }\n                    gradient.addColorStop(i / (l - 1), c);\n                }\n\n                return gradient;\n            }\n        }\n    }\n\n    // Add the plot function to the top level of the jQuery object\n\n    $.plot = function(placeholder, data, options) {\n        //var t0 = new Date();\n        var plot = new Plot($(placeholder), data, options, $.plot.plugins);\n        //(window.console ? console.log : alert)(\"time used (msecs): \" + ((new Date()).getTime() - t0.getTime()));\n        return plot;\n    };\n\n    $.plot.version = \"0.8.3\";\n\n    $.plot.plugins = [];\n\n    // Also add the plot function as a chainable property\n\n    $.fn.plot = function(data, options) {\n        return this.each(function() {\n            $.plot(this, data, options);\n        });\n    };\n\n    // round to nearby lower multiple of base\n    function floorInBase(n, base) {\n        return base * Math.floor(n / base);\n    }\n\n})(jQuery);\n","/* Pretty handling of time axes.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nSet axis.mode to \"time\" to enable. See the section \"Time series data\" in\nAPI.txt for details.\n\n*/\n\n(function($) {\n\n\tvar options = {\n\t\txaxis: {\n\t\t\ttimezone: null,\t\t// \"browser\" for local to the client or timezone for timezone-js\n\t\t\ttimeformat: null,\t// format string to use\n\t\t\ttwelveHourClock: false,\t// 12 or 24 time in time mode\n\t\t\tmonthNames: null\t// list of names of months\n\t\t}\n\t};\n\n\t// round to nearby lower multiple of base\n\n\tfunction floorInBase(n, base) {\n\t\treturn base * Math.floor(n / base);\n\t}\n\n\t// Returns a string with the date d formatted according to fmt.\n\t// A subset of the Open Group's strftime format is supported.\n\n\tfunction formatDate(d, fmt, monthNames, dayNames) {\n\n\t\tif (typeof d.strftime == \"function\") {\n\t\t\treturn d.strftime(fmt);\n\t\t}\n\n\t\tvar leftPad = function(n, pad) {\n\t\t\tn = \"\" + n;\n\t\t\tpad = \"\" + (pad == null ? \"0\" : pad);\n\t\t\treturn n.length == 1 ? pad + n : n;\n\t\t};\n\n\t\tvar r = [];\n\t\tvar escape = false;\n\t\tvar hours = d.getHours();\n\t\tvar isAM = hours < 12;\n\n\t\tif (monthNames == null) {\n\t\t\tmonthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\t}\n\n\t\tif (dayNames == null) {\n\t\t\tdayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\t\t}\n\n\t\tvar hours12;\n\n\t\tif (hours > 12) {\n\t\t\thours12 = hours - 12;\n\t\t} else if (hours == 0) {\n\t\t\thours12 = 12;\n\t\t} else {\n\t\t\thours12 = hours;\n\t\t}\n\n\t\tfor (var i = 0; i < fmt.length; ++i) {\n\n\t\t\tvar c = fmt.charAt(i);\n\n\t\t\tif (escape) {\n\t\t\t\tswitch (c) {\n\t\t\t\t\tcase 'a': c = \"\" + dayNames[d.getDay()]; break;\n\t\t\t\t\tcase 'b': c = \"\" + monthNames[d.getMonth()]; break;\n\t\t\t\t\tcase 'd': c = leftPad(d.getDate()); break;\n\t\t\t\t\tcase 'e': c = leftPad(d.getDate(), \" \"); break;\n\t\t\t\t\tcase 'h':\t// For back-compat with 0.7; remove in 1.0\n\t\t\t\t\tcase 'H': c = leftPad(hours); break;\n\t\t\t\t\tcase 'I': c = leftPad(hours12); break;\n\t\t\t\t\tcase 'l': c = leftPad(hours12, \" \"); break;\n\t\t\t\t\tcase 'm': c = leftPad(d.getMonth() + 1); break;\n\t\t\t\t\tcase 'M': c = leftPad(d.getMinutes()); break;\n\t\t\t\t\t// quarters not in Open Group's strftime specification\n\t\t\t\t\tcase 'q':\n\t\t\t\t\t\tc = \"\" + (Math.floor(d.getMonth() / 3) + 1); break;\n\t\t\t\t\tcase 'S': c = leftPad(d.getSeconds()); break;\n\t\t\t\t\tcase 'y': c = leftPad(d.getFullYear() % 100); break;\n\t\t\t\t\tcase 'Y': c = \"\" + d.getFullYear(); break;\n\t\t\t\t\tcase 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n\t\t\t\t\tcase 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n\t\t\t\t\tcase 'w': c = \"\" + d.getDay(); break;\n\t\t\t\t}\n\t\t\t\tr.push(c);\n\t\t\t\tescape = false;\n\t\t\t} else {\n\t\t\t\tif (c == \"%\") {\n\t\t\t\t\tescape = true;\n\t\t\t\t} else {\n\t\t\t\t\tr.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn r.join(\"\");\n\t}\n\n\t// To have a consistent view of time-based data independent of which time\n\t// zone the client happens to be in we need a date-like object independent\n\t// of time zones.  This is done through a wrapper that only calls the UTC\n\t// versions of the accessor methods.\n\n\tfunction makeUtcWrapper(d) {\n\n\t\tfunction addProxyMethod(sourceObj, sourceMethod, targetObj, targetMethod) {\n\t\t\tsourceObj[sourceMethod] = function() {\n\t\t\t\treturn targetObj[targetMethod].apply(targetObj, arguments);\n\t\t\t};\n\t\t};\n\n\t\tvar utc = {\n\t\t\tdate: d\n\t\t};\n\n\t\t// support strftime, if found\n\n\t\tif (d.strftime != undefined) {\n\t\t\taddProxyMethod(utc, \"strftime\", d, \"strftime\");\n\t\t}\n\n\t\taddProxyMethod(utc, \"getTime\", d, \"getTime\");\n\t\taddProxyMethod(utc, \"setTime\", d, \"setTime\");\n\n\t\tvar props = [\"Date\", \"Day\", \"FullYear\", \"Hours\", \"Milliseconds\", \"Minutes\", \"Month\", \"Seconds\"];\n\n\t\tfor (var p = 0; p < props.length; p++) {\n\t\t\taddProxyMethod(utc, \"get\" + props[p], d, \"getUTC\" + props[p]);\n\t\t\taddProxyMethod(utc, \"set\" + props[p], d, \"setUTC\" + props[p]);\n\t\t}\n\n\t\treturn utc;\n\t};\n\n\t// select time zone strategy.  This returns a date-like object tied to the\n\t// desired timezone\n\n\tfunction dateGenerator(ts, opts) {\n\t\tif (opts.timezone == \"browser\") {\n\t\t\treturn new Date(ts);\n\t\t} else if (!opts.timezone || opts.timezone == \"utc\") {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t} else if (typeof timezoneJS != \"undefined\" && typeof timezoneJS.Date != \"undefined\") {\n\t\t\tvar d = new timezoneJS.Date();\n\t\t\t// timezone-js is fickle, so be sure to set the time zone before\n\t\t\t// setting the time.\n\t\t\td.setTimezone(opts.timezone);\n\t\t\td.setTime(ts);\n\t\t\treturn d;\n\t\t} else {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t}\n\t}\n\t\n\t// map of app. size of time units in milliseconds\n\n\tvar timeUnitSize = {\n\t\t\"second\": 1000,\n\t\t\"minute\": 60 * 1000,\n\t\t\"hour\": 60 * 60 * 1000,\n\t\t\"day\": 24 * 60 * 60 * 1000,\n\t\t\"month\": 30 * 24 * 60 * 60 * 1000,\n\t\t\"quarter\": 3 * 30 * 24 * 60 * 60 * 1000,\n\t\t\"year\": 365.2425 * 24 * 60 * 60 * 1000\n\t};\n\n\t// the allowed tick sizes, after 1 year we use\n\t// an integer algorithm\n\n\tvar baseSpec = [\n\t\t[1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n\t\t[30, \"second\"], \n\t\t[1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n\t\t[30, \"minute\"], \n\t\t[1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n\t\t[8, \"hour\"], [12, \"hour\"],\n\t\t[1, \"day\"], [2, \"day\"], [3, \"day\"],\n\t\t[0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n\t\t[2, \"month\"]\n\t];\n\n\t// we don't know which variant(s) we'll need yet, but generating both is\n\t// cheap\n\n\tvar specMonths = baseSpec.concat([[3, \"month\"], [6, \"month\"],\n\t\t[1, \"year\"]]);\n\tvar specQuarters = baseSpec.concat([[1, \"quarter\"], [2, \"quarter\"],\n\t\t[1, \"year\"]]);\n\n\tfunction init(plot) {\n\t\tplot.hooks.processOptions.push(function (plot, options) {\n\t\t\t$.each(plot.getAxes(), function(axisName, axis) {\n\n\t\t\t\tvar opts = axis.options;\n\n\t\t\t\tif (opts.mode == \"time\") {\n\t\t\t\t\taxis.tickGenerator = function(axis) {\n\n\t\t\t\t\t\tvar ticks = [];\n\t\t\t\t\t\tvar d = dateGenerator(axis.min, opts);\n\t\t\t\t\t\tvar minSize = 0;\n\n\t\t\t\t\t\t// make quarter use a possibility if quarters are\n\t\t\t\t\t\t// mentioned in either of these options\n\n\t\t\t\t\t\tvar spec = (opts.tickSize && opts.tickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ||\n\t\t\t\t\t\t\t(opts.minTickSize && opts.minTickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ? specQuarters : specMonths;\n\n\t\t\t\t\t\tif (opts.minTickSize != null) {\n\t\t\t\t\t\t\tif (typeof opts.tickSize == \"number\") {\n\t\t\t\t\t\t\t\tminSize = opts.tickSize;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tminSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var i = 0; i < spec.length - 1; ++i) {\n\t\t\t\t\t\t\tif (axis.delta < (spec[i][0] * timeUnitSize[spec[i][1]]\n\t\t\t\t\t\t\t\t\t\t\t  + spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2\n\t\t\t\t\t\t\t\t&& spec[i][0] * timeUnitSize[spec[i][1]] >= minSize) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar size = spec[i][0];\n\t\t\t\t\t\tvar unit = spec[i][1];\n\n\t\t\t\t\t\t// special-case the possibility of several years\n\n\t\t\t\t\t\tif (unit == \"year\") {\n\n\t\t\t\t\t\t\t// if given a minTickSize in years, just use it,\n\t\t\t\t\t\t\t// ensuring that it's an integer\n\n\t\t\t\t\t\t\tif (opts.minTickSize != null && opts.minTickSize[1] == \"year\") {\n\t\t\t\t\t\t\t\tsize = Math.floor(opts.minTickSize[0]);\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar magn = Math.pow(10, Math.floor(Math.log(axis.delta / timeUnitSize.year) / Math.LN10));\n\t\t\t\t\t\t\t\tvar norm = (axis.delta / timeUnitSize.year) / magn;\n\n\t\t\t\t\t\t\t\tif (norm < 1.5) {\n\t\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t\t} else if (norm < 3) {\n\t\t\t\t\t\t\t\t\tsize = 2;\n\t\t\t\t\t\t\t\t} else if (norm < 7.5) {\n\t\t\t\t\t\t\t\t\tsize = 5;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsize = 10;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsize *= magn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// minimum size for years is 1\n\n\t\t\t\t\t\t\tif (size < 1) {\n\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taxis.tickSize = opts.tickSize || [size, unit];\n\t\t\t\t\t\tvar tickSize = axis.tickSize[0];\n\t\t\t\t\t\tunit = axis.tickSize[1];\n\n\t\t\t\t\t\tvar step = tickSize * timeUnitSize[unit];\n\n\t\t\t\t\t\tif (unit == \"second\") {\n\t\t\t\t\t\t\td.setSeconds(floorInBase(d.getSeconds(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"minute\") {\n\t\t\t\t\t\t\td.setMinutes(floorInBase(d.getMinutes(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"hour\") {\n\t\t\t\t\t\t\td.setHours(floorInBase(d.getHours(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"month\") {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"quarter\") {\n\t\t\t\t\t\t\td.setMonth(3 * floorInBase(d.getMonth() / 3,\n\t\t\t\t\t\t\t\ttickSize));\n\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\td.setFullYear(floorInBase(d.getFullYear(), tickSize));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset smaller components\n\n\t\t\t\t\t\td.setMilliseconds(0);\n\n\t\t\t\t\t\tif (step >= timeUnitSize.minute) {\n\t\t\t\t\t\t\td.setSeconds(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.hour) {\n\t\t\t\t\t\t\td.setMinutes(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day) {\n\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day * 4) {\n\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.month * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.quarter * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 6));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.year) {\n\t\t\t\t\t\t\td.setMonth(0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar carry = 0;\n\t\t\t\t\t\tvar v = Number.NaN;\n\t\t\t\t\t\tvar prev;\n\n\t\t\t\t\t\tdo {\n\n\t\t\t\t\t\t\tprev = v;\n\t\t\t\t\t\t\tv = d.getTime();\n\t\t\t\t\t\t\tticks.push(v);\n\n\t\t\t\t\t\t\tif (unit == \"month\" || unit == \"quarter\") {\n\t\t\t\t\t\t\t\tif (tickSize < 1) {\n\n\t\t\t\t\t\t\t\t\t// a bit complicated - we'll divide the\n\t\t\t\t\t\t\t\t\t// month/quarter up but we need to take\n\t\t\t\t\t\t\t\t\t// care of fractions so we don't end up in\n\t\t\t\t\t\t\t\t\t// the middle of a day\n\n\t\t\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t\t\t\tvar start = d.getTime();\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\t(unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t\tvar end = d.getTime();\n\t\t\t\t\t\t\t\t\td.setTime(v + carry * timeUnitSize.hour + (end - start) * tickSize);\n\t\t\t\t\t\t\t\t\tcarry = d.getHours();\n\t\t\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\ttickSize * (unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\t\td.setFullYear(d.getFullYear() + tickSize);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\td.setTime(v + step);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (v < axis.max && v != prev);\n\n\t\t\t\t\t\treturn ticks;\n\t\t\t\t\t};\n\n\t\t\t\t\taxis.tickFormatter = function (v, axis) {\n\n\t\t\t\t\t\tvar d = dateGenerator(v, axis.options);\n\n\t\t\t\t\t\t// first check global format\n\n\t\t\t\t\t\tif (opts.timeformat != null) {\n\t\t\t\t\t\t\treturn formatDate(d, opts.timeformat, opts.monthNames, opts.dayNames);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// possibly use quarters if quarters are mentioned in\n\t\t\t\t\t\t// any of these places\n\n\t\t\t\t\t\tvar useQuarters = (axis.options.tickSize &&\n\t\t\t\t\t\t\t\taxis.options.tickSize[1] == \"quarter\") ||\n\t\t\t\t\t\t\t(axis.options.minTickSize &&\n\t\t\t\t\t\t\t\taxis.options.minTickSize[1] == \"quarter\");\n\n\t\t\t\t\t\tvar t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n\t\t\t\t\t\tvar span = axis.max - axis.min;\n\t\t\t\t\t\tvar suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n\t\t\t\t\t\tvar hourCode = (opts.twelveHourClock) ? \"%I\" : \"%H\";\n\t\t\t\t\t\tvar fmt;\n\n\t\t\t\t\t\tif (t < timeUnitSize.minute) {\n\t\t\t\t\t\t\tfmt = hourCode + \":%M:%S\" + suffix;\n\t\t\t\t\t\t} else if (t < timeUnitSize.day) {\n\t\t\t\t\t\t\tif (span < 2 * timeUnitSize.day) {\n\t\t\t\t\t\t\t\tfmt = hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %d \" + hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (t < timeUnitSize.month) {\n\t\t\t\t\t\t\tfmt = \"%b %d\";\n\t\t\t\t\t\t} else if ((useQuarters && t < timeUnitSize.quarter) ||\n\t\t\t\t\t\t\t(!useQuarters && t < timeUnitSize.year)) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"%b\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (useQuarters && t < timeUnitSize.year) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"Q%q\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"Q%q %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfmt = \"%Y\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar rt = formatDate(d, fmt, opts.monthNames, opts.dayNames);\n\n\t\t\t\t\t\treturn rt;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: 'time',\n\t\tversion: '1.0'\n\t});\n\n\t// Time-axis support used to be in Flot core, which exposed the\n\t// formatDate function on the plot object.  Various plugins depend\n\t// on the function, so we need to re-expose it here.\n\n\t$.plot.formatDate = formatDate;\n\t$.plot.dateGenerator = dateGenerator;\n\n})(jQuery);\n","module.exports = require('./lib/gravatar');\n","var md5 = require('blueimp-md5'),\n    querystring = require('querystring'),\n    MD5_REGEX = /^[0-9a-f]{32}$/;\n\nfunction params(options) {\n  var params = {}, removing = {protocol:1, format:1};\n  for (var key in options) {\n    if (!removing[key]) params[key] = options[key];\n  }\n  return params;\n}\nfunction proto(options, protocol) {\n  if (!options) return;\n  if(typeof options.protocol === 'boolean') return options.protocol;\n  return options.protocol === \"http\" ? false\n       : options.protocol === \"https\" ? true\n       : undefined;\n}\nfunction getHash(email){\n  email = (typeof email === 'string') ? email.trim().toLowerCase() : 'unspecified';\n  return email.match(MD5_REGEX) ? email : md5(email);\n}\n\nfunction getQueryString(options){\n  var queryData = querystring.stringify(params(options));\n  return (queryData && \"?\" + queryData) || \"\";\n}\n\nvar gravatar = module.exports = {\n\n    url: function (email, options, protocol) {\n      var baseURL = \"//www.gravatar.com/avatar/\";\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/avatar/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) protocol = proto(options);\n        if(typeof protocol !== 'undefined') {\n          baseURL = protocol ? \"https://s.gravatar.com/avatar/\" : 'http://www.gravatar.com/avatar/';\n        }\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + query;\n    },\n\n    profile_url: function (email, options, https) {\n      var format = options != undefined && options.format != undefined ?  String(options.format) : 'json'\n      var baseURL\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) https = proto(options);\n        var baseURL = (https && \"https://secure.gravatar.com/\") || 'http://www.gravatar.com/';\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + '.' + format + query;\n    }\n};\n","module.exports = require('./js')\n","/*\n * File: iframeResizer.contentWindow.js\n * Desc: Include this file in any page being loaded into an iframe\n *       to force the iframe to resize to the content size.\n * Requires: iframeResizer.js on host page.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n *\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function (undefined) {\n  if (typeof window === 'undefined') return // don't run for server side render\n\n  var autoResize = true,\n    base = 10,\n    bodyBackground = '',\n    bodyMargin = 0,\n    bodyMarginStr = '',\n    bodyObserver = null,\n    bodyPadding = '',\n    calculateWidth = false,\n    doubleEventList = { resize: 1, click: 1 },\n    eventCancelTimer = 128,\n    firstRun = true,\n    height = 1,\n    heightCalcModeDefault = 'bodyOffset',\n    heightCalcMode = heightCalcModeDefault,\n    initLock = true,\n    initMsg = '',\n    inPageLinks = {},\n    interval = 32,\n    intervalTimer = null,\n    logging = false,\n    mouseEvents = false,\n    msgID = '[iFrameSizer]', // Must match host page msg ID\n    msgIdLen = msgID.length,\n    myID = '',\n    resetRequiredMethods = {\n      max: 1,\n      min: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n    resizeFrom = 'child',\n    sendPermit = true,\n    target = window.parent,\n    targetOriginDefault = '*',\n    tolerance = 0,\n    triggerLocked = false,\n    triggerLockedTimer = null,\n    throttledTimer = 16,\n    width = 1,\n    widthCalcModeDefault = 'scroll',\n    widthCalcMode = widthCalcModeDefault,\n    win = window,\n    onMessage = function () {\n      warn('onMessage function not defined')\n    },\n    onReady = function () {},\n    onPageInfo = function () {},\n    customCalcMethods = {\n      height: function () {\n        warn('Custom height calculation function not defined')\n        return document.documentElement.offsetHeight\n      },\n      width: function () {\n        warn('Custom width calculation function not defined')\n        return document.body.scrollWidth\n      }\n    },\n    eventHandlersByName = {},\n    passiveSupported = false\n\n  function noop() {}\n\n  try {\n    var options = Object.create(\n      {},\n      {\n        passive: {\n          get: function () {\n            passiveSupported = true\n          }\n        }\n      }\n    )\n    window.addEventListener('test', noop, options)\n    window.removeEventListener('test', noop, options)\n  } catch (error) {\n    /* */\n  }\n\n  function addEventListener(el, evt, func, options) {\n    el.addEventListener(evt, func, passiveSupported ? options || {} : false)\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false)\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  // Based on underscore.js\n  function throttle(func) {\n    var context,\n      args,\n      result,\n      timeout = null,\n      previous = 0,\n      later = function () {\n        previous = Date.now()\n        timeout = null\n        result = func.apply(context, args)\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null\n        }\n      }\n\n    return function () {\n      var now = Date.now()\n\n      if (!previous) {\n        previous = now\n      }\n\n      var remaining = throttledTimer - (now - previous)\n\n      context = this\n      args = arguments\n\n      if (remaining <= 0 || remaining > throttledTimer) {\n        if (timeout) {\n          clearTimeout(timeout)\n          timeout = null\n        }\n\n        previous = now\n        result = func.apply(context, args)\n\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null\n        }\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining)\n      }\n\n      return result\n    }\n  }\n\n  function formatLogMsg(msg) {\n    return msgID + '[' + myID + '] ' + msg\n  }\n\n  function log(msg) {\n    if (logging && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.log(formatLogMsg(msg))\n    }\n  }\n\n  function warn(msg) {\n    if ('object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.warn(formatLogMsg(msg))\n    }\n  }\n\n  function init() {\n    readDataFromParent()\n    log('Initialising iFrame (' + window.location.href + ')')\n    readDataFromPage()\n    setMargin()\n    setBodyStyle('background', bodyBackground)\n    setBodyStyle('padding', bodyPadding)\n    injectClearFixIntoBodyElement()\n    checkHeightMode()\n    checkWidthMode()\n    stopInfiniteResizingOfIFrame()\n    setupPublicMethods()\n    setupMouseEvents()\n    startEventListeners()\n    inPageLinks = setupInPageLinks()\n    sendSize('init', 'Init message from host page')\n    onReady()\n  }\n\n  function readDataFromParent() {\n    function strBool(str) {\n      return 'true' === str\n    }\n\n    var data = initMsg.substr(msgIdLen).split(':')\n\n    myID = data[0]\n    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin // For V1 compatibility\n    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth\n    logging = undefined !== data[3] ? strBool(data[3]) : logging\n    interval = undefined !== data[4] ? Number(data[4]) : interval\n    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize\n    bodyMarginStr = data[7]\n    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode\n    bodyBackground = data[9]\n    bodyPadding = data[10]\n    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance\n    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false\n    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom\n    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode\n    mouseEvents = undefined !== data[15] ? Boolean(data[15]) : mouseEvents\n  }\n\n  function depricate(key) {\n    var splitName = key.split('Callback')\n\n    if (splitName.length === 2) {\n      var name =\n        'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1)\n      this[name] = this[key]\n      delete this[key]\n      warn(\n        \"Deprecated: '\" +\n          key +\n          \"' has been renamed '\" +\n          name +\n          \"'. The old method will be removed in the next major version.\"\n      )\n    }\n  }\n\n  function readDataFromPage() {\n    function readData() {\n      var data = window.iFrameResizer\n\n      log('Reading data from page: ' + JSON.stringify(data))\n      Object.keys(data).forEach(depricate, data)\n\n      onMessage = 'onMessage' in data ? data.onMessage : onMessage\n      onReady = 'onReady' in data ? data.onReady : onReady\n      targetOriginDefault =\n        'targetOrigin' in data ? data.targetOrigin : targetOriginDefault\n      heightCalcMode =\n        'heightCalculationMethod' in data\n          ? data.heightCalculationMethod\n          : heightCalcMode\n      widthCalcMode =\n        'widthCalculationMethod' in data\n          ? data.widthCalculationMethod\n          : widthCalcMode\n    }\n\n    function setupCustomCalcMethods(calcMode, calcFunc) {\n      if ('function' === typeof calcMode) {\n        log('Setup custom ' + calcFunc + 'CalcMethod')\n        customCalcMethods[calcFunc] = calcMode\n        calcMode = 'custom'\n      }\n\n      return calcMode\n    }\n\n    if (\n      'iFrameResizer' in window &&\n      Object === window.iFrameResizer.constructor\n    ) {\n      readData()\n      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height')\n      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width')\n    }\n\n    log('TargetOrigin for parent set to: ' + targetOriginDefault)\n  }\n\n  function chkCSS(attr, value) {\n    if (-1 !== value.indexOf('-')) {\n      warn('Negative CSS value ignored for ' + attr)\n      value = ''\n    }\n    return value\n  }\n\n  function setBodyStyle(attr, value) {\n    if (undefined !== value && '' !== value && 'null' !== value) {\n      document.body.style[attr] = value\n      log('Body ' + attr + ' set to \"' + value + '\"')\n    }\n  }\n\n  function setMargin() {\n    // If called via V1 script, convert bodyMargin from int to str\n    if (undefined === bodyMarginStr) {\n      bodyMarginStr = bodyMargin + 'px'\n    }\n\n    setBodyStyle('margin', chkCSS('margin', bodyMarginStr))\n  }\n\n  function stopInfiniteResizingOfIFrame() {\n    document.documentElement.style.height = ''\n    document.body.style.height = ''\n    log('HTML & body height set to \"auto\"')\n  }\n\n  function manageTriggerEvent(options) {\n    var listener = {\n      add: function (eventName) {\n        function handleEvent() {\n          sendSize(options.eventName, options.eventType)\n        }\n\n        eventHandlersByName[eventName] = handleEvent\n\n        addEventListener(window, eventName, handleEvent, { passive: true })\n      },\n      remove: function (eventName) {\n        var handleEvent = eventHandlersByName[eventName]\n        delete eventHandlersByName[eventName]\n\n        removeEventListener(window, eventName, handleEvent)\n      }\n    }\n\n    if (options.eventNames && Array.prototype.map) {\n      options.eventName = options.eventNames[0]\n      options.eventNames.map(listener[options.method])\n    } else {\n      listener[options.method](options.eventName)\n    }\n\n    log(\n      capitalizeFirstLetter(options.method) +\n        ' event listener: ' +\n        options.eventType\n    )\n  }\n\n  function manageEventListeners(method) {\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Start',\n      eventNames: ['animationstart', 'webkitAnimationStart']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Iteration',\n      eventNames: ['animationiteration', 'webkitAnimationIteration']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation End',\n      eventNames: ['animationend', 'webkitAnimationEnd']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Input',\n      eventName: 'input'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Up',\n      eventName: 'mouseup'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Down',\n      eventName: 'mousedown'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Orientation Change',\n      eventName: 'orientationchange'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Print',\n      eventName: ['afterprint', 'beforeprint']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Ready State Change',\n      eventName: 'readystatechange'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Start',\n      eventName: 'touchstart'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch End',\n      eventName: 'touchend'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Cancel',\n      eventName: 'touchcancel'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Start',\n      eventNames: [\n        'transitionstart',\n        'webkitTransitionStart',\n        'MSTransitionStart',\n        'oTransitionStart',\n        'otransitionstart'\n      ]\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Iteration',\n      eventNames: [\n        'transitioniteration',\n        'webkitTransitionIteration',\n        'MSTransitionIteration',\n        'oTransitionIteration',\n        'otransitioniteration'\n      ]\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition End',\n      eventNames: [\n        'transitionend',\n        'webkitTransitionEnd',\n        'MSTransitionEnd',\n        'oTransitionEnd',\n        'otransitionend'\n      ]\n    })\n    if ('child' === resizeFrom) {\n      manageTriggerEvent({\n        method: method,\n        eventType: 'IFrame Resized',\n        eventName: 'resize'\n      })\n    }\n  }\n\n  function checkCalcMode(calcMode, calcModeDefault, modes, type) {\n    if (calcModeDefault !== calcMode) {\n      if (!(calcMode in modes)) {\n        warn(\n          calcMode + ' is not a valid option for ' + type + 'CalculationMethod.'\n        )\n        calcMode = calcModeDefault\n      }\n      log(type + ' calculation method set to \"' + calcMode + '\"')\n    }\n\n    return calcMode\n  }\n\n  function checkHeightMode() {\n    heightCalcMode = checkCalcMode(\n      heightCalcMode,\n      heightCalcModeDefault,\n      getHeight,\n      'height'\n    )\n  }\n\n  function checkWidthMode() {\n    widthCalcMode = checkCalcMode(\n      widthCalcMode,\n      widthCalcModeDefault,\n      getWidth,\n      'width'\n    )\n  }\n\n  function startEventListeners() {\n    if (true === autoResize) {\n      manageEventListeners('add')\n      setupMutationObserver()\n    } else {\n      log('Auto Resize disabled')\n    }\n  }\n\n  //   function stopMsgsToParent() {\n  //     log('Disable outgoing messages')\n  //     sendPermit = false\n  //   }\n\n  //   function removeMsgListener() {\n  //     log('Remove event listener: Message')\n  //     removeEventListener(window, 'message', receiver)\n  //   }\n\n  function disconnectMutationObserver() {\n    if (null !== bodyObserver) {\n      /* istanbul ignore next */ // Not testable in PhantonJS\n      bodyObserver.disconnect()\n    }\n  }\n\n  function stopEventListeners() {\n    manageEventListeners('remove')\n    disconnectMutationObserver()\n    clearInterval(intervalTimer)\n  }\n\n  //   function teardown() {\n  //     stopMsgsToParent()\n  //     removeMsgListener()\n  //     if (true === autoResize) stopEventListeners()\n  //   }\n\n  function injectClearFixIntoBodyElement() {\n    var clearFix = document.createElement('div')\n    clearFix.style.clear = 'both'\n    // Guard against the following having been globally redefined in CSS.\n    clearFix.style.display = 'block'\n    clearFix.style.height = '0'\n    document.body.appendChild(clearFix)\n  }\n\n  function setupInPageLinks() {\n    function getPagePosition() {\n      return {\n        x:\n          window.pageXOffset !== undefined\n            ? window.pageXOffset\n            : document.documentElement.scrollLeft,\n        y:\n          window.pageYOffset !== undefined\n            ? window.pageYOffset\n            : document.documentElement.scrollTop\n      }\n    }\n\n    function getElementPosition(el) {\n      var elPosition = el.getBoundingClientRect(),\n        pagePosition = getPagePosition()\n\n      return {\n        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),\n        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget(target) {\n        var jumpPosition = getElementPosition(target)\n\n        log(\n          'Moving to in page link (#' +\n            hash +\n            ') at x: ' +\n            jumpPosition.x +\n            ' y: ' +\n            jumpPosition.y\n        )\n        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset') // X&Y reversed at sendMsg uses height/width\n      }\n\n      var hash = location.split('#')[1] || location, // Remove # if present\n        hashData = decodeURIComponent(hash),\n        target =\n          document.getElementById(hashData) ||\n          document.getElementsByName(hashData)[0]\n\n      if (undefined !== target) {\n        jumpToTarget(target)\n      } else {\n        log(\n          'In page link (#' +\n            hash +\n            ') not found in iFrame, so sending to parent'\n        )\n        sendMsg(0, 0, 'inPageLink', '#' + hash)\n      }\n    }\n\n    function checkLocationHash() {\n      var hash = window.location.hash\n      var href = window.location.href\n\n      if ('' !== hash && '#' !== hash) {\n        findTarget(href)\n      }\n    }\n\n    function bindAnchors() {\n      function setupLink(el) {\n        function linkClicked(e) {\n          e.preventDefault()\n\n          /* jshint validthis:true */\n          findTarget(this.getAttribute('href'))\n        }\n\n        if ('#' !== el.getAttribute('href')) {\n          addEventListener(el, 'click', linkClicked)\n        }\n      }\n\n      Array.prototype.forEach.call(\n        document.querySelectorAll('a[href^=\"#\"]'),\n        setupLink\n      )\n    }\n\n    function bindLocationHash() {\n      addEventListener(window, 'hashchange', checkLocationHash)\n    }\n\n    function initCheck() {\n      // Check if page loaded with location hash after init resize\n      setTimeout(checkLocationHash, eventCancelTimer)\n    }\n\n    function enableInPageLinks() {\n      /* istanbul ignore else */ // Not testable in phantonJS\n      if (Array.prototype.forEach && document.querySelectorAll) {\n        log('Setting up location.hash handlers')\n        bindAnchors()\n        bindLocationHash()\n        initCheck()\n      } else {\n        warn(\n          'In page linking not fully supported in this browser! (See README.md for IE8 workaround)'\n        )\n      }\n    }\n\n    if (inPageLinks.enable) {\n      enableInPageLinks()\n    } else {\n      log('In page linking not enabled')\n    }\n\n    return {\n      findTarget: findTarget\n    }\n  }\n\n  function setupMouseEvents() {\n    if (mouseEvents !== true) return\n\n    function sendMouse(e) {\n      sendMsg(0, 0, e.type, e.screenY + ':' + e.screenX)\n    }\n\n    function addMouseListener(evt, name) {\n      log('Add event listener: ' + name)\n      addEventListener(window.document, evt, sendMouse)\n    }\n\n    addMouseListener('mouseenter', 'Mouse Enter')\n    addMouseListener('mouseleave', 'Mouse Leave')\n  }\n\n  function setupPublicMethods() {\n    log('Enable public methods')\n\n    win.parentIFrame = {\n      autoResize: function autoResizeF(resize) {\n        if (true === resize && false === autoResize) {\n          autoResize = true\n          startEventListeners()\n        } else if (false === resize && true === autoResize) {\n          autoResize = false\n          stopEventListeners()\n        }\n        sendMsg(0, 0, 'autoResize', JSON.stringify(autoResize))\n        return autoResize\n      },\n\n      close: function closeF() {\n        sendMsg(0, 0, 'close')\n        // teardown()\n      },\n\n      getId: function getIdF() {\n        return myID\n      },\n\n      getPageInfo: function getPageInfoF(callback) {\n        if ('function' === typeof callback) {\n          onPageInfo = callback\n          sendMsg(0, 0, 'pageInfo')\n        } else {\n          onPageInfo = function () {}\n          sendMsg(0, 0, 'pageInfoStop')\n        }\n      },\n\n      moveToAnchor: function moveToAnchorF(hash) {\n        inPageLinks.findTarget(hash)\n      },\n\n      reset: function resetF() {\n        resetIFrame('parentIFrame.reset')\n      },\n\n      scrollTo: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollTo') // X&Y reversed at sendMsg uses height/width\n      },\n\n      scrollToOffset: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollToOffset') // X&Y reversed at sendMsg uses height/width\n      },\n\n      sendMessage: function sendMessageF(msg, targetOrigin) {\n        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin)\n      },\n\n      setHeightCalculationMethod: function setHeightCalculationMethodF(\n        heightCalculationMethod\n      ) {\n        heightCalcMode = heightCalculationMethod\n        checkHeightMode()\n      },\n\n      setWidthCalculationMethod: function setWidthCalculationMethodF(\n        widthCalculationMethod\n      ) {\n        widthCalcMode = widthCalculationMethod\n        checkWidthMode()\n      },\n\n      setTargetOrigin: function setTargetOriginF(targetOrigin) {\n        log('Set targetOrigin: ' + targetOrigin)\n        targetOriginDefault = targetOrigin\n      },\n\n      size: function sizeF(customHeight, customWidth) {\n        var valString =\n          '' + (customHeight || '') + (customWidth ? ',' + customWidth : '')\n        sendSize(\n          'size',\n          'parentIFrame.size(' + valString + ')',\n          customHeight,\n          customWidth\n        )\n      }\n    }\n  }\n\n  function initInterval() {\n    if (0 !== interval) {\n      log('setInterval: ' + interval + 'ms')\n      intervalTimer = setInterval(function () {\n        sendSize('interval', 'setInterval: ' + interval)\n      }, Math.abs(interval))\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function setupBodyMutationObserver() {\n    function addImageLoadListners(mutation) {\n      function addImageLoadListener(element) {\n        if (false === element.complete) {\n          log('Attach listeners to ' + element.src)\n          element.addEventListener('load', imageLoaded, false)\n          element.addEventListener('error', imageError, false)\n          elements.push(element)\n        }\n      }\n\n      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\n        addImageLoadListener(mutation.target)\n      } else if (mutation.type === 'childList') {\n        Array.prototype.forEach.call(\n          mutation.target.querySelectorAll('img'),\n          addImageLoadListener\n        )\n      }\n    }\n\n    function removeFromArray(element) {\n      elements.splice(elements.indexOf(element), 1)\n    }\n\n    function removeImageLoadListener(element) {\n      log('Remove listeners from ' + element.src)\n      element.removeEventListener('load', imageLoaded, false)\n      element.removeEventListener('error', imageError, false)\n      removeFromArray(element)\n    }\n\n    function imageEventTriggered(event, type, typeDesc) {\n      removeImageLoadListener(event.target)\n      sendSize(type, typeDesc + ': ' + event.target.src)\n    }\n\n    function imageLoaded(event) {\n      imageEventTriggered(event, 'imageLoad', 'Image loaded')\n    }\n\n    function imageError(event) {\n      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed')\n    }\n\n    function mutationObserved(mutations) {\n      sendSize(\n        'mutationObserver',\n        'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type\n      )\n\n      // Deal with WebKit / Blink asyncing image loading when tags are injected into the page\n      mutations.forEach(addImageLoadListners)\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n        config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        }\n\n      observer = new MutationObserver(mutationObserved)\n\n      log('Create body MutationObserver')\n      observer.observe(target, config)\n\n      return observer\n    }\n\n    var elements = [],\n      MutationObserver =\n        window.MutationObserver || window.WebKitMutationObserver,\n      observer = createMutationObserver()\n\n    return {\n      disconnect: function () {\n        if ('disconnect' in observer) {\n          log('Disconnect body MutationObserver')\n          observer.disconnect()\n          elements.forEach(removeImageLoadListener)\n        }\n      }\n    }\n  }\n\n  function setupMutationObserver() {\n    var forceIntervalTimer = 0 > interval\n\n    // Not testable in PhantomJS\n    /* istanbul ignore if */ if (\n      window.MutationObserver ||\n      window.WebKitMutationObserver\n    ) {\n      if (forceIntervalTimer) {\n        initInterval()\n      } else {\n        bodyObserver = setupBodyMutationObserver()\n      }\n    } else {\n      log('MutationObserver not supported in this browser!')\n      initInterval()\n    }\n  }\n\n  // document.documentElement.offsetHeight is not reliable, so\n  // we have to jump through hoops to get a better value.\n  function getComputedStyle(prop, el) {\n    var retVal = 0\n    el = el || document.body // Not testable in phantonJS\n\n    retVal = document.defaultView.getComputedStyle(el, null)\n    retVal = null !== retVal ? retVal[prop] : 0\n\n    return parseInt(retVal, base)\n  }\n\n  function chkEventThottle(timer) {\n    if (timer > throttledTimer / 2) {\n      throttledTimer = 2 * timer\n      log('Event throttle increased to ' + throttledTimer + 'ms')\n    }\n  }\n\n  // Idea from https://github.com/guardian/iframe-messenger\n  function getMaxElement(side, elements) {\n    var elementsLength = elements.length,\n      elVal = 0,\n      maxVal = 0,\n      Side = capitalizeFirstLetter(side),\n      timer = Date.now()\n\n    for (var i = 0; i < elementsLength; i++) {\n      elVal =\n        elements[i].getBoundingClientRect()[side] +\n        getComputedStyle('margin' + Side, elements[i])\n      if (elVal > maxVal) {\n        maxVal = elVal\n      }\n    }\n\n    timer = Date.now() - timer\n\n    log('Parsed ' + elementsLength + ' HTML elements')\n    log('Element position calculated in ' + timer + 'ms')\n\n    chkEventThottle(timer)\n\n    return maxVal\n  }\n\n  function getAllMeasurements(dimensions) {\n    return [\n      dimensions.bodyOffset(),\n      dimensions.bodyScroll(),\n      dimensions.documentElementOffset(),\n      dimensions.documentElementScroll()\n    ]\n  }\n\n  function getTaggedElements(side, tag) {\n    function noTaggedElementsFound() {\n      warn('No tagged elements (' + tag + ') found on page')\n      return document.querySelectorAll('body *')\n    }\n\n    var elements = document.querySelectorAll('[' + tag + ']')\n\n    if (elements.length === 0) noTaggedElementsFound()\n\n    return getMaxElement(side, elements)\n  }\n\n  function getAllElements() {\n    return document.querySelectorAll('body *')\n  }\n\n  var getHeight = {\n      bodyOffset: function getBodyOffsetHeight() {\n        return (\n          document.body.offsetHeight +\n          getComputedStyle('marginTop') +\n          getComputedStyle('marginBottom')\n        )\n      },\n\n      offset: function () {\n        return getHeight.bodyOffset() // Backwards compatability\n      },\n\n      bodyScroll: function getBodyScrollHeight() {\n        return document.body.scrollHeight\n      },\n\n      custom: function getCustomWidth() {\n        return customCalcMethods.height()\n      },\n\n      documentElementOffset: function getDEOffsetHeight() {\n        return document.documentElement.offsetHeight\n      },\n\n      documentElementScroll: function getDEScrollHeight() {\n        return document.documentElement.scrollHeight\n      },\n\n      max: function getMaxHeight() {\n        return Math.max.apply(null, getAllMeasurements(getHeight))\n      },\n\n      min: function getMinHeight() {\n        return Math.min.apply(null, getAllMeasurements(getHeight))\n      },\n\n      grow: function growHeight() {\n        return getHeight.max() // Run max without the forced downsizing\n      },\n\n      lowestElement: function getBestHeight() {\n        return Math.max(\n          getHeight.bodyOffset() || getHeight.documentElementOffset(),\n          getMaxElement('bottom', getAllElements())\n        )\n      },\n\n      taggedElement: function getTaggedElementsHeight() {\n        return getTaggedElements('bottom', 'data-iframe-height')\n      }\n    },\n    getWidth = {\n      bodyScroll: function getBodyScrollWidth() {\n        return document.body.scrollWidth\n      },\n\n      bodyOffset: function getBodyOffsetWidth() {\n        return document.body.offsetWidth\n      },\n\n      custom: function getCustomWidth() {\n        return customCalcMethods.width()\n      },\n\n      documentElementScroll: function getDEScrollWidth() {\n        return document.documentElement.scrollWidth\n      },\n\n      documentElementOffset: function getDEOffsetWidth() {\n        return document.documentElement.offsetWidth\n      },\n\n      scroll: function getMaxWidth() {\n        return Math.max(getWidth.bodyScroll(), getWidth.documentElementScroll())\n      },\n\n      max: function getMaxWidth() {\n        return Math.max.apply(null, getAllMeasurements(getWidth))\n      },\n\n      min: function getMinWidth() {\n        return Math.min.apply(null, getAllMeasurements(getWidth))\n      },\n\n      rightMostElement: function rightMostElement() {\n        return getMaxElement('right', getAllElements())\n      },\n\n      taggedElement: function getTaggedElementsWidth() {\n        return getTaggedElements('right', 'data-iframe-width')\n      }\n    }\n\n  function sizeIFrame(\n    triggerEvent,\n    triggerEventDesc,\n    customHeight,\n    customWidth\n  ) {\n    function resizeIFrame() {\n      height = currentHeight\n      width = currentWidth\n\n      sendMsg(height, width, triggerEvent)\n    }\n\n    function isSizeChangeDetected() {\n      function checkTolarance(a, b) {\n        var retVal = Math.abs(a - b) <= tolerance\n        return !retVal\n      }\n\n      currentHeight =\n        undefined !== customHeight ? customHeight : getHeight[heightCalcMode]()\n      currentWidth =\n        undefined !== customWidth ? customWidth : getWidth[widthCalcMode]()\n\n      return (\n        checkTolarance(height, currentHeight) ||\n        (calculateWidth && checkTolarance(width, currentWidth))\n      )\n    }\n\n    function isForceResizableEvent() {\n      return !(triggerEvent in { init: 1, interval: 1, size: 1 })\n    }\n\n    function isForceResizableCalcMode() {\n      return (\n        heightCalcMode in resetRequiredMethods ||\n        (calculateWidth && widthCalcMode in resetRequiredMethods)\n      )\n    }\n\n    function logIgnored() {\n      log('No change in size detected')\n    }\n\n    function checkDownSizing() {\n      if (isForceResizableEvent() && isForceResizableCalcMode()) {\n        resetIFrame(triggerEventDesc)\n      } else if (!(triggerEvent in { interval: 1 })) {\n        logIgnored()\n      }\n    }\n\n    var currentHeight, currentWidth\n\n    if (isSizeChangeDetected() || 'init' === triggerEvent) {\n      lockTrigger()\n      resizeIFrame()\n    } else {\n      checkDownSizing()\n    }\n  }\n\n  var sizeIFrameThrottled = throttle(sizeIFrame)\n\n  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function recordTrigger() {\n      if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {\n        log('Trigger event: ' + triggerEventDesc)\n      }\n    }\n\n    function isDoubleFiredEvent() {\n      return triggerLocked && triggerEvent in doubleEventList\n    }\n\n    if (!isDoubleFiredEvent()) {\n      recordTrigger()\n      if (triggerEvent === 'init') {\n        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth)\n      } else {\n        sizeIFrameThrottled(\n          triggerEvent,\n          triggerEventDesc,\n          customHeight,\n          customWidth\n        )\n      }\n    } else {\n      log('Trigger event cancelled: ' + triggerEvent)\n    }\n  }\n\n  function lockTrigger() {\n    if (!triggerLocked) {\n      triggerLocked = true\n      log('Trigger event lock on')\n    }\n    clearTimeout(triggerLockedTimer)\n    triggerLockedTimer = setTimeout(function () {\n      triggerLocked = false\n      log('Trigger event lock off')\n      log('--')\n    }, eventCancelTimer)\n  }\n\n  function triggerReset(triggerEvent) {\n    height = getHeight[heightCalcMode]()\n    width = getWidth[widthCalcMode]()\n\n    sendMsg(height, width, triggerEvent)\n  }\n\n  function resetIFrame(triggerEventDesc) {\n    var hcm = heightCalcMode\n    heightCalcMode = heightCalcModeDefault\n\n    log('Reset trigger event: ' + triggerEventDesc)\n    lockTrigger()\n    triggerReset('reset')\n\n    heightCalcMode = hcm\n  }\n\n  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {\n    function setTargetOrigin() {\n      if (undefined === targetOrigin) {\n        targetOrigin = targetOriginDefault\n      } else {\n        log('Message targetOrigin: ' + targetOrigin)\n      }\n    }\n\n    function sendToParent() {\n      var size = height + ':' + width,\n        message =\n          myID +\n          ':' +\n          size +\n          ':' +\n          triggerEvent +\n          (undefined !== msg ? ':' + msg : '')\n\n      log('Sending message to host page (' + message + ')')\n      target.postMessage(msgID + message, targetOrigin)\n    }\n\n    if (true === sendPermit) {\n      setTargetOrigin()\n      sendToParent()\n    }\n  }\n\n  function receiver(event) {\n    var processRequestFromParent = {\n      init: function initFromParent() {\n        initMsg = event.data\n        target = event.source\n\n        init()\n        firstRun = false\n        setTimeout(function () {\n          initLock = false\n        }, eventCancelTimer)\n      },\n\n      reset: function resetFromParent() {\n        if (!initLock) {\n          log('Page size reset by host page')\n          triggerReset('resetPage')\n        } else {\n          log('Page reset ignored by init')\n        }\n      },\n\n      resize: function resizeFromParent() {\n        sendSize('resizeParent', 'Parent window requested size check')\n      },\n\n      moveToAnchor: function moveToAnchorF() {\n        inPageLinks.findTarget(getData())\n      },\n      inPageLink: function inPageLinkF() {\n        this.moveToAnchor()\n      }, // Backward compatability\n\n      pageInfo: function pageInfoFromParent() {\n        var msgBody = getData()\n        log('PageInfoFromParent called from parent: ' + msgBody)\n        onPageInfo(JSON.parse(msgBody))\n        log(' --')\n      },\n\n      message: function messageFromParent() {\n        var msgBody = getData()\n\n        log('onMessage called from parent: ' + msgBody)\n        // eslint-disable-next-line sonarjs/no-extra-arguments\n        onMessage(JSON.parse(msgBody))\n        log(' --')\n      }\n    }\n\n    function isMessageForUs() {\n      return msgID === ('' + event.data).substr(0, msgIdLen) // ''+ Protects against non-string messages\n    }\n\n    function getMessageType() {\n      return event.data.split(']')[1].split(':')[0]\n    }\n\n    function getData() {\n      return event.data.substr(event.data.indexOf(':') + 1)\n    }\n\n    function isMiddleTier() {\n      return (\n        (!(typeof module !== 'undefined' && module.exports) &&\n          'iFrameResize' in window) ||\n        ('jQuery' in window && 'iFrameResize' in window.jQuery.prototype)\n      )\n    }\n\n    function isInitMsg() {\n      // Test if this message is from a child below us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      return event.data.split(':')[2] in { true: 1, false: 1 }\n    }\n\n    function callFromParent() {\n      var messageType = getMessageType()\n\n      if (messageType in processRequestFromParent) {\n        processRequestFromParent[messageType]()\n      } else if (!isMiddleTier() && !isInitMsg()) {\n        warn('Unexpected message (' + event.data + ')')\n      }\n    }\n\n    function processMessage() {\n      if (false === firstRun) {\n        callFromParent()\n      } else if (isInitMsg()) {\n        processRequestFromParent.init()\n      } else {\n        log(\n          'Ignored message of type \"' +\n            getMessageType() +\n            '\". Received before initialization.'\n        )\n      }\n    }\n\n    if (isMessageForUs()) {\n      processMessage()\n    }\n  }\n\n  // Normally the parent kicks things off when it detects the iFrame has loaded.\n  // If this script is async-loaded, then tell parent page to retry init.\n  function chkLateLoaded() {\n    if ('loading' !== document.readyState) {\n      window.parent.postMessage('[iFrameResizerChild]Ready', '*')\n    }\n  }\n\n  addEventListener(window, 'message', receiver)\n  addEventListener(window, 'readystatechange', chkLateLoaded)\n  chkLateLoaded()\n\n  \n})()\n","/*\n * File: iframeResizer.js\n * Desc: Force iframes to size to content.\n * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Reed Dadoune - reed@dadoune.com\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function (undefined) {\n  if (typeof window === 'undefined') return // don't run for server side render\n\n  var count = 0,\n    logEnabled = false,\n    hiddenCheckEnabled = false,\n    msgHeader = 'message',\n    msgHeaderLen = msgHeader.length,\n    msgId = '[iFrameSizer]', // Must match iframe msg ID\n    msgIdLen = msgId.length,\n    pagePosition = null,\n    requestAnimationFrame = window.requestAnimationFrame,\n    resetRequiredMethods = {\n      max: 1,\n      scroll: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n    settings = {},\n    timer = null,\n    defaults = {\n      autoResize: true,\n      bodyBackground: null,\n      bodyMargin: null,\n      bodyMarginV1: 8,\n      bodyPadding: null,\n      checkOrigin: true,\n      inPageLinks: false,\n      enablePublicMethods: true,\n      heightCalculationMethod: 'bodyOffset',\n      id: 'iFrameResizer',\n      interval: 32,\n      log: false,\n      maxHeight: Infinity,\n      maxWidth: Infinity,\n      minHeight: 0,\n      minWidth: 0,\n      mouseEvents: true,\n      resizeFrom: 'parent',\n      scrolling: false,\n      sizeHeight: true,\n      sizeWidth: false,\n      warningTimeout: 5000,\n      tolerance: 0,\n      widthCalculationMethod: 'scroll',\n      onClose: function () {\n        return true\n      },\n      onClosed: function () {},\n      onInit: function () {},\n      onMessage: function () {\n        warn('onMessage function not defined')\n      },\n      onMouseEnter: function () {},\n      onMouseLeave: function () {},\n      onResized: function () {},\n      onScroll: function () {\n        return true\n      }\n    }\n\n  function getMutationObserver() {\n    return (\n      window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    )\n  }\n\n  function addEventListener(el, evt, func) {\n    el.addEventListener(evt, func, false)\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false)\n  }\n\n  function setupRequestAnimationFrame() {\n    var vendors = ['moz', 'webkit', 'o', 'ms']\n    var x\n\n    // Remove vendor prefixing if prefixed and break early if not\n    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']\n    }\n\n    if (!requestAnimationFrame) {\n      log('setup', 'RequestAnimationFrame not supported')\n    } else {\n      // Firefox extension content-scripts have a globalThis object that is not the same as window.\n      // Binding `requestAnimationFrame` to window allows the function to work and prevents errors\n      // being thrown when run in that context, and should be a no-op in every other context.\n      requestAnimationFrame = requestAnimationFrame.bind(window)\n    }\n  }\n\n  function getMyID(iframeId) {\n    var retStr = 'Host page: ' + iframeId\n\n    if (window.top !== window.self) {\n      retStr =\n        window.parentIFrame && window.parentIFrame.getId\n          ? window.parentIFrame.getId() + ': ' + iframeId\n          : 'Nested host page: ' + iframeId\n    }\n\n    return retStr\n  }\n\n  function formatLogHeader(iframeId) {\n    return msgId + '[' + getMyID(iframeId) + ']'\n  }\n\n  function isLogEnabled(iframeId) {\n    return settings[iframeId] ? settings[iframeId].log : logEnabled\n  }\n\n  function log(iframeId, msg) {\n    output('log', iframeId, msg, isLogEnabled(iframeId))\n  }\n\n  function info(iframeId, msg) {\n    output('info', iframeId, msg, isLogEnabled(iframeId))\n  }\n\n  function warn(iframeId, msg) {\n    output('warn', iframeId, msg, true)\n  }\n\n  function output(type, iframeId, msg, enabled) {\n    if (true === enabled && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console[type](formatLogHeader(iframeId), msg)\n    }\n  }\n\n  function iFrameListener(event) {\n    function resizeIFrame() {\n      function resize() {\n        setSize(messageData)\n        setPagePosition(iframeId)\n        on('onResized', messageData)\n      }\n\n      ensureInRange('Height')\n      ensureInRange('Width')\n\n      syncResize(resize, messageData, 'init')\n    }\n\n    function processMsg() {\n      var data = msg.substr(msgIdLen).split(':')\n      var height = data[1] ? parseInt(data[1], 10) : 0\n      var iframe = settings[data[0]] && settings[data[0]].iframe\n      var compStyle = getComputedStyle(iframe)\n\n      return {\n        iframe: iframe,\n        id: data[0],\n        height: height + getPaddingEnds(compStyle) + getBorderEnds(compStyle),\n        width: data[2],\n        type: data[3]\n      }\n    }\n\n    function getPaddingEnds(compStyle) {\n      if (compStyle.boxSizing !== 'border-box') {\n        return 0\n      }\n      var top = compStyle.paddingTop ? parseInt(compStyle.paddingTop, 10) : 0\n      var bot = compStyle.paddingBottom\n        ? parseInt(compStyle.paddingBottom, 10)\n        : 0\n      return top + bot\n    }\n\n    function getBorderEnds(compStyle) {\n      if (compStyle.boxSizing !== 'border-box') {\n        return 0\n      }\n      var top = compStyle.borderTopWidth\n        ? parseInt(compStyle.borderTopWidth, 10)\n        : 0\n      var bot = compStyle.borderBottomWidth\n        ? parseInt(compStyle.borderBottomWidth, 10)\n        : 0\n      return top + bot\n    }\n\n    function ensureInRange(Dimension) {\n      var max = Number(settings[iframeId]['max' + Dimension]),\n        min = Number(settings[iframeId]['min' + Dimension]),\n        dimension = Dimension.toLowerCase(),\n        size = Number(messageData[dimension])\n\n      log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max)\n\n      if (size < min) {\n        size = min\n        log(iframeId, 'Set ' + dimension + ' to min value')\n      }\n\n      if (size > max) {\n        size = max\n        log(iframeId, 'Set ' + dimension + ' to max value')\n      }\n\n      messageData[dimension] = '' + size\n    }\n\n    function isMessageFromIFrame() {\n      function checkAllowedOrigin() {\n        function checkList() {\n          var i = 0,\n            retCode = false\n\n          log(\n            iframeId,\n            'Checking connection is from allowed list of origins: ' +\n              checkOrigin\n          )\n\n          for (; i < checkOrigin.length; i++) {\n            if (checkOrigin[i] === origin) {\n              retCode = true\n              break\n            }\n          }\n          return retCode\n        }\n\n        function checkSingle() {\n          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost\n          log(iframeId, 'Checking connection is from: ' + remoteHost)\n          return origin === remoteHost\n        }\n\n        return checkOrigin.constructor === Array ? checkList() : checkSingle()\n      }\n\n      var origin = event.origin,\n        checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin\n\n      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n        throw new Error(\n          'Unexpected message received from: ' +\n            origin +\n            ' for ' +\n            messageData.iframe.id +\n            '. Message was: ' +\n            event.data +\n            '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'\n        )\n      }\n\n      return true\n    }\n\n    function isMessageForUs() {\n      return (\n        msgId === ('' + msg).substr(0, msgIdLen) &&\n        msg.substr(msgIdLen).split(':')[0] in settings\n      ) // ''+Protects against non-string msg\n    }\n\n    function isMessageFromMetaParent() {\n      // Test if this message is from a parent above us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      var retCode = messageData.type in { true: 1, false: 1, undefined: 1 }\n\n      if (retCode) {\n        log(iframeId, 'Ignoring init message from meta parent page')\n      }\n\n      return retCode\n    }\n\n    function getMsgBody(offset) {\n      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset)\n    }\n\n    function forwardMsgFromIFrame(msgBody) {\n      log(\n        iframeId,\n        'onMessage passed: {iframe: ' +\n          messageData.iframe.id +\n          ', message: ' +\n          msgBody +\n          '}'\n      )\n\n      on('onMessage', {\n        iframe: messageData.iframe,\n        message: JSON.parse(msgBody)\n      })\n\n      log(iframeId, '--')\n    }\n\n    function getPageInfo() {\n      var bodyPosition = document.body.getBoundingClientRect(),\n        iFramePosition = messageData.iframe.getBoundingClientRect()\n\n      return JSON.stringify({\n        iframeHeight: iFramePosition.height,\n        iframeWidth: iFramePosition.width,\n        clientHeight: Math.max(\n          document.documentElement.clientHeight,\n          window.innerHeight || 0\n        ),\n        clientWidth: Math.max(\n          document.documentElement.clientWidth,\n          window.innerWidth || 0\n        ),\n        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n        scrollTop: window.pageYOffset,\n        scrollLeft: window.pageXOffset,\n        documentHeight: document.documentElement.clientHeight,\n        documentWidth: document.documentElement.clientWidth,\n        windowHeight: window.innerHeight,\n        windowWidth: window.innerWidth\n      })\n    }\n\n    function sendPageInfoToIframe(iframe, iframeId) {\n      function debouncedTrigger() {\n        trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId)\n      }\n      debounceFrameEvents(debouncedTrigger, 32, iframeId)\n    }\n\n    function startPageInfoMonitor() {\n      function setListener(type, func) {\n        function sendPageInfo() {\n          if (settings[id]) {\n            sendPageInfoToIframe(settings[id].iframe, id)\n          } else {\n            stop()\n          }\n        }\n\n        ;['scroll', 'resize'].forEach(function (evt) {\n          log(id, type + evt + ' listener for sendPageInfo')\n          func(window, evt, sendPageInfo)\n        })\n      }\n\n      function stop() {\n        setListener('Remove ', removeEventListener)\n      }\n\n      function start() {\n        setListener('Add ', addEventListener)\n      }\n\n      var id = iframeId // Create locally scoped copy of iFrame ID\n\n      start()\n\n      if (settings[id]) {\n        settings[id].stopPageInfo = stop\n      }\n    }\n\n    function stopPageInfoMonitor() {\n      if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n        settings[iframeId].stopPageInfo()\n        delete settings[iframeId].stopPageInfo\n      }\n    }\n\n    function checkIFrameExists() {\n      var retBool = true\n\n      if (null === messageData.iframe) {\n        warn(iframeId, 'IFrame (' + messageData.id + ') not found')\n        retBool = false\n      }\n      return retBool\n    }\n\n    function getElementPosition(target) {\n      var iFramePosition = target.getBoundingClientRect()\n\n      getPagePosition(iframeId)\n\n      return {\n        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n      }\n    }\n\n    function scrollRequestFromChild(addOffset) {\n      /* istanbul ignore next */ // Not testable in Karma\n      function reposition() {\n        pagePosition = newPosition\n        scrollTo()\n        log(iframeId, '--')\n      }\n\n      function calcOffset() {\n        return {\n          x: Number(messageData.width) + offset.x,\n          y: Number(messageData.height) + offset.y\n        }\n      }\n\n      function scrollParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](\n            newPosition.x,\n            newPosition.y\n          )\n        } else {\n          warn(\n            iframeId,\n            'Unable to scroll to requested position, window.parentIFrame not found'\n          )\n        }\n      }\n\n      var offset = addOffset\n          ? getElementPosition(messageData.iframe)\n          : { x: 0, y: 0 },\n        newPosition = calcOffset()\n\n      log(\n        iframeId,\n        'Reposition requested from iFrame (offset x:' +\n          offset.x +\n          ' y:' +\n          offset.y +\n          ')'\n      )\n\n      if (window.top !== window.self) {\n        scrollParent()\n      } else {\n        reposition()\n      }\n    }\n\n    function scrollTo() {\n      if (false !== on('onScroll', pagePosition)) {\n        setPagePosition(iframeId)\n      } else {\n        unsetPagePosition()\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget() {\n        var jumpPosition = getElementPosition(target)\n\n        log(\n          iframeId,\n          'Moving to in page link (#' +\n            hash +\n            ') at x: ' +\n            jumpPosition.x +\n            ' y: ' +\n            jumpPosition.y\n        )\n        pagePosition = {\n          x: jumpPosition.x,\n          y: jumpPosition.y\n        }\n\n        scrollTo()\n        log(iframeId, '--')\n      }\n\n      function jumpToParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame.moveToAnchor(hash)\n        } else {\n          log(\n            iframeId,\n            'In page link #' +\n              hash +\n              ' not found and window.parentIFrame not found'\n          )\n        }\n      }\n\n      var hash = location.split('#')[1] || '',\n        hashData = decodeURIComponent(hash),\n        target =\n          document.getElementById(hashData) ||\n          document.getElementsByName(hashData)[0]\n\n      if (target) {\n        jumpToTarget()\n      } else if (window.top !== window.self) {\n        jumpToParent()\n      } else {\n        log(iframeId, 'In page link #' + hash + ' not found')\n      }\n    }\n\n    function onMouse(event) {\n      var mousePos = {}\n\n      if (Number(messageData.width) === 0 && Number(messageData.height) === 0) {\n        var data = getMsgBody(9).split(':')\n        mousePos = {\n          x: data[1],\n          y: data[0]\n        }\n      } else {\n        mousePos = {\n          x: messageData.width,\n          y: messageData.height\n        }\n      }\n\n      on(event, {\n        iframe: messageData.iframe,\n        screenX: Number(mousePos.x),\n        screenY: Number(mousePos.y),\n        type: messageData.type\n      })\n    }\n\n    function on(funcName, val) {\n      return chkEvent(iframeId, funcName, val)\n    }\n\n    function actionMsg() {\n      if (settings[iframeId] && settings[iframeId].firstRun) firstRun()\n\n      switch (messageData.type) {\n        case 'close':\n          closeIFrame(messageData.iframe)\n          break\n\n        case 'message':\n          forwardMsgFromIFrame(getMsgBody(6))\n          break\n\n        case 'mouseenter':\n          onMouse('onMouseEnter')\n          break\n\n        case 'mouseleave':\n          onMouse('onMouseLeave')\n          break\n\n        case 'autoResize':\n          settings[iframeId].autoResize = JSON.parse(getMsgBody(9))\n          break\n\n        case 'scrollTo':\n          scrollRequestFromChild(false)\n          break\n\n        case 'scrollToOffset':\n          scrollRequestFromChild(true)\n          break\n\n        case 'pageInfo':\n          sendPageInfoToIframe(\n            settings[iframeId] && settings[iframeId].iframe,\n            iframeId\n          )\n          startPageInfoMonitor()\n          break\n\n        case 'pageInfoStop':\n          stopPageInfoMonitor()\n          break\n\n        case 'inPageLink':\n          findTarget(getMsgBody(9))\n          break\n\n        case 'reset':\n          resetIFrame(messageData)\n          break\n\n        case 'init':\n          resizeIFrame()\n          on('onInit', messageData.iframe)\n          break\n\n        default:\n          if (\n            Number(messageData.width) === 0 &&\n            Number(messageData.height) === 0\n          ) {\n            warn(\n              'Unsupported message received (' +\n                messageData.type +\n                '), this is likely due to the iframe containing a later ' +\n                'version of iframe-resizer than the parent page'\n            )\n          } else {\n            resizeIFrame()\n          }\n      }\n    }\n\n    function hasSettings(iframeId) {\n      var retBool = true\n\n      if (!settings[iframeId]) {\n        retBool = false\n        warn(\n          messageData.type +\n            ' No settings for ' +\n            iframeId +\n            '. Message was: ' +\n            msg\n        )\n      }\n\n      return retBool\n    }\n\n    function iFrameReadyMsgReceived() {\n      // eslint-disable-next-line no-restricted-syntax, guard-for-in\n      for (var iframeId in settings) {\n        trigger(\n          'iFrame requested init',\n          createOutgoingMsg(iframeId),\n          settings[iframeId].iframe,\n          iframeId\n        )\n      }\n    }\n\n    function firstRun() {\n      if (settings[iframeId]) {\n        settings[iframeId].firstRun = false\n      }\n    }\n\n    var msg = event.data,\n      messageData = {},\n      iframeId = null\n\n    if ('[iFrameResizerChild]Ready' === msg) {\n      iFrameReadyMsgReceived()\n    } else if (isMessageForUs()) {\n      messageData = processMsg()\n      iframeId = messageData.id\n      if (settings[iframeId]) {\n        settings[iframeId].loaded = true\n      }\n\n      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n        log(iframeId, 'Received: ' + msg)\n\n        if (checkIFrameExists() && isMessageFromIFrame()) {\n          actionMsg()\n        }\n      }\n    } else {\n      info(iframeId, 'Ignored: ' + msg)\n    }\n  }\n\n  function chkEvent(iframeId, funcName, val) {\n    var func = null,\n      retVal = null\n\n    if (settings[iframeId]) {\n      func = settings[iframeId][funcName]\n\n      if ('function' === typeof func) {\n        retVal = func(val)\n      } else {\n        throw new TypeError(\n          funcName + ' on iFrame[' + iframeId + '] is not a function'\n        )\n      }\n    }\n\n    return retVal\n  }\n\n  function removeIframeListeners(iframe) {\n    var iframeId = iframe.id\n    delete settings[iframeId]\n  }\n\n  function closeIFrame(iframe) {\n    var iframeId = iframe.id\n    if (chkEvent(iframeId, 'onClose', iframeId) === false) {\n      log(iframeId, 'Close iframe cancelled by onClose event')\n      return\n    }\n    log(iframeId, 'Removing iFrame: ' + iframeId)\n\n    try {\n      // Catch race condition error with React\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe)\n      }\n    } catch (error) {\n      warn(error)\n    }\n\n    chkEvent(iframeId, 'onClosed', iframeId)\n    log(iframeId, '--')\n    removeIframeListeners(iframe)\n  }\n\n  function getPagePosition(iframeId) {\n    if (null === pagePosition) {\n      pagePosition = {\n        x:\n          window.pageXOffset !== undefined\n            ? window.pageXOffset\n            : document.documentElement.scrollLeft,\n        y:\n          window.pageYOffset !== undefined\n            ? window.pageYOffset\n            : document.documentElement.scrollTop\n      }\n      log(\n        iframeId,\n        'Get page position: ' + pagePosition.x + ',' + pagePosition.y\n      )\n    }\n  }\n\n  function setPagePosition(iframeId) {\n    if (null !== pagePosition) {\n      window.scrollTo(pagePosition.x, pagePosition.y)\n      log(\n        iframeId,\n        'Set page position: ' + pagePosition.x + ',' + pagePosition.y\n      )\n      unsetPagePosition()\n    }\n  }\n\n  function unsetPagePosition() {\n    pagePosition = null\n  }\n\n  function resetIFrame(messageData) {\n    function reset() {\n      setSize(messageData)\n      trigger('reset', 'reset', messageData.iframe, messageData.id)\n    }\n\n    log(\n      messageData.id,\n      'Size reset requested by ' +\n        ('init' === messageData.type ? 'host page' : 'iFrame')\n    )\n    getPagePosition(messageData.id)\n    syncResize(reset, messageData, 'reset')\n  }\n\n  function setSize(messageData) {\n    function setDimension(dimension) {\n      if (!messageData.id) {\n        log('undefined', 'messageData id not set')\n        return\n      }\n      messageData.iframe.style[dimension] = messageData[dimension] + 'px'\n      log(\n        messageData.id,\n        'IFrame (' +\n          iframeId +\n          ') ' +\n          dimension +\n          ' set to ' +\n          messageData[dimension] +\n          'px'\n      )\n    }\n\n    function chkZero(dimension) {\n      // FireFox sets dimension of hidden iFrames to zero.\n      // So if we detect that set up an event to check for\n      // when iFrame becomes visible.\n\n      /* istanbul ignore next */ // Not testable in PhantomJS\n      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n        hiddenCheckEnabled = true\n        log(iframeId, 'Hidden iFrame detected, creating visibility listener')\n        fixHiddenIFrames()\n      }\n    }\n\n    function processDimension(dimension) {\n      setDimension(dimension)\n      chkZero(dimension)\n    }\n\n    var iframeId = messageData.iframe.id\n\n    if (settings[iframeId]) {\n      if (settings[iframeId].sizeHeight) {\n        processDimension('height')\n      }\n      if (settings[iframeId].sizeWidth) {\n        processDimension('width')\n      }\n    }\n  }\n\n  function syncResize(func, messageData, doNotSync) {\n    /* istanbul ignore if */ // Not testable in PhantomJS\n    if (\n      doNotSync !== messageData.type &&\n      requestAnimationFrame &&\n      // including check for jasmine because had trouble getting spy to work in unit test using requestAnimationFrame\n      !window.jasmine\n    ) {\n      log(messageData.id, 'Requesting animation frame')\n      requestAnimationFrame(func)\n    } else {\n      func()\n    }\n  }\n\n  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n    function postMessageToIFrame() {\n      var target = settings[id] && settings[id].targetOrigin\n      log(\n        id,\n        '[' +\n          calleeMsg +\n          '] Sending msg to iframe[' +\n          id +\n          '] (' +\n          msg +\n          ') targetOrigin: ' +\n          target\n      )\n      iframe.contentWindow.postMessage(msgId + msg, target)\n    }\n\n    function iFrameNotFound() {\n      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found')\n    }\n\n    function chkAndSend() {\n      if (\n        iframe &&\n        'contentWindow' in iframe &&\n        null !== iframe.contentWindow\n      ) {\n        // Null test for PhantomJS\n        postMessageToIFrame()\n      } else {\n        iFrameNotFound()\n      }\n    }\n\n    function warnOnNoResponse() {\n      function warning() {\n        if (settings[id] && !settings[id].loaded && !errorShown) {\n          errorShown = true\n          warn(\n            id,\n            'IFrame has not responded within ' +\n              settings[id].warningTimeout / 1000 +\n              ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'\n          )\n        }\n      }\n\n      if (\n        !!noResponseWarning &&\n        settings[id] &&\n        !!settings[id].warningTimeout\n      ) {\n        settings[id].msgTimeout = setTimeout(\n          warning,\n          settings[id].warningTimeout\n        )\n      }\n    }\n\n    var errorShown = false\n\n    id = id || iframe.id\n\n    if (settings[id]) {\n      chkAndSend()\n      warnOnNoResponse()\n    }\n  }\n\n  function createOutgoingMsg(iframeId) {\n    return (\n      iframeId +\n      ':' +\n      settings[iframeId].bodyMarginV1 +\n      ':' +\n      settings[iframeId].sizeWidth +\n      ':' +\n      settings[iframeId].log +\n      ':' +\n      settings[iframeId].interval +\n      ':' +\n      settings[iframeId].enablePublicMethods +\n      ':' +\n      settings[iframeId].autoResize +\n      ':' +\n      settings[iframeId].bodyMargin +\n      ':' +\n      settings[iframeId].heightCalculationMethod +\n      ':' +\n      settings[iframeId].bodyBackground +\n      ':' +\n      settings[iframeId].bodyPadding +\n      ':' +\n      settings[iframeId].tolerance +\n      ':' +\n      settings[iframeId].inPageLinks +\n      ':' +\n      settings[iframeId].resizeFrom +\n      ':' +\n      settings[iframeId].widthCalculationMethod +\n      ':' +\n      settings[iframeId].mouseEvents\n    )\n  }\n\n  function isNumber(value) {\n    return typeof value === 'number'\n  }\n\n  function setupIFrame(iframe, options) {\n    function setLimits() {\n      function addStyle(style) {\n        var styleValue = settings[iframeId][style]\n        if (Infinity !== styleValue && 0 !== styleValue) {\n          iframe.style[style] = isNumber(styleValue)\n            ? styleValue + 'px'\n            : styleValue\n          log(iframeId, 'Set ' + style + ' = ' + iframe.style[style])\n        }\n      }\n\n      function chkMinMax(dimension) {\n        if (\n          settings[iframeId]['min' + dimension] >\n          settings[iframeId]['max' + dimension]\n        ) {\n          throw new Error(\n            'Value for min' +\n              dimension +\n              ' can not be greater than max' +\n              dimension\n          )\n        }\n      }\n\n      chkMinMax('Height')\n      chkMinMax('Width')\n\n      addStyle('maxHeight')\n      addStyle('minHeight')\n      addStyle('maxWidth')\n      addStyle('minWidth')\n    }\n\n    function newId() {\n      var id = (options && options.id) || defaults.id + count++\n      if (null !== document.getElementById(id)) {\n        id += count++\n      }\n      return id\n    }\n\n    function ensureHasId(iframeId) {\n      if ('' === iframeId) {\n        // eslint-disable-next-line no-multi-assign\n        iframe.id = iframeId = newId()\n        logEnabled = (options || {}).log\n        log(\n          iframeId,\n          'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')'\n        )\n      }\n\n      return iframeId\n    }\n\n    function setScrolling() {\n      log(\n        iframeId,\n        'IFrame scrolling ' +\n          (settings[iframeId] && settings[iframeId].scrolling\n            ? 'enabled'\n            : 'disabled') +\n          ' for ' +\n          iframeId\n      )\n      iframe.style.overflow =\n        false === (settings[iframeId] && settings[iframeId].scrolling)\n          ? 'hidden'\n          : 'auto'\n      switch (settings[iframeId] && settings[iframeId].scrolling) {\n        case 'omit':\n          break\n\n        case true:\n          iframe.scrolling = 'yes'\n          break\n\n        case false:\n          iframe.scrolling = 'no'\n          break\n\n        default:\n          iframe.scrolling = settings[iframeId]\n            ? settings[iframeId].scrolling\n            : 'no'\n      }\n    }\n\n    // The V1 iFrame script expects an int, where as in V2 expects a CSS\n    // string value such as '1px 3em', so if we have an int for V2, set V1=V2\n    // and then convert V2 to a string PX value.\n    function setupBodyMarginValues() {\n      if (\n        'number' ===\n          typeof (settings[iframeId] && settings[iframeId].bodyMargin) ||\n        '0' === (settings[iframeId] && settings[iframeId].bodyMargin)\n      ) {\n        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin\n        settings[iframeId].bodyMargin =\n          '' + settings[iframeId].bodyMargin + 'px'\n      }\n    }\n\n    function checkReset() {\n      // Reduce scope of firstRun to function, because IE8's JS execution\n      // context stack is borked and this value gets externally\n      // changed midway through running this function!!!\n      var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n        resetRequertMethod =\n          settings[iframeId] &&\n          settings[iframeId].heightCalculationMethod in resetRequiredMethods\n\n      if (!firstRun && resetRequertMethod) {\n        resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' })\n      }\n    }\n\n    function setupIFrameObject() {\n      if (settings[iframeId]) {\n        settings[iframeId].iframe.iFrameResizer = {\n          close: closeIFrame.bind(null, settings[iframeId].iframe),\n\n          removeListeners: removeIframeListeners.bind(\n            null,\n            settings[iframeId].iframe\n          ),\n\n          resize: trigger.bind(\n            null,\n            'Window resize',\n            'resize',\n            settings[iframeId].iframe\n          ),\n\n          moveToAnchor: function (anchor) {\n            trigger(\n              'Move to anchor',\n              'moveToAnchor:' + anchor,\n              settings[iframeId].iframe,\n              iframeId\n            )\n          },\n\n          sendMessage: function (message) {\n            message = JSON.stringify(message)\n            trigger(\n              'Send Message',\n              'message:' + message,\n              settings[iframeId].iframe,\n              iframeId\n            )\n          }\n        }\n      }\n    }\n\n    // We have to call trigger twice, as we can not be sure if all\n    // iframes have completed loading when this code runs. The\n    // event listener also catches the page changing in the iFrame.\n    function init(msg) {\n      function iFrameLoaded() {\n        trigger('iFrame.onload', msg, iframe, undefined, true)\n        checkReset()\n      }\n\n      function createDestroyObserver(MutationObserver) {\n        if (!iframe.parentNode) {\n          return\n        }\n\n        var destroyObserver = new MutationObserver(function (mutations) {\n          mutations.forEach(function (mutation) {\n            var removedNodes = Array.prototype.slice.call(mutation.removedNodes) // Transform NodeList into an Array\n            removedNodes.forEach(function (removedNode) {\n              if (removedNode === iframe) {\n                closeIFrame(iframe)\n              }\n            })\n          })\n        })\n        destroyObserver.observe(iframe.parentNode, {\n          childList: true\n        })\n      }\n\n      var MutationObserver = getMutationObserver()\n      if (MutationObserver) {\n        createDestroyObserver(MutationObserver)\n      }\n\n      addEventListener(iframe, 'load', iFrameLoaded)\n      trigger('init', msg, iframe, undefined, true)\n    }\n\n    function checkOptions(options) {\n      if ('object' !== typeof options) {\n        throw new TypeError('Options is not an object')\n      }\n    }\n\n    function copyOptions(options) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (var option in defaults) {\n        if (Object.prototype.hasOwnProperty.call(defaults, option)) {\n          settings[iframeId][option] = Object.prototype.hasOwnProperty.call(\n            options,\n            option\n          )\n            ? options[option]\n            : defaults[option]\n        }\n      }\n    }\n\n    function getTargetOrigin(remoteHost) {\n      return '' === remoteHost ||\n        null !== remoteHost.match(/^(about:blank|javascript:|file:\\/\\/)/)\n        ? '*'\n        : remoteHost\n    }\n\n    function depricate(key) {\n      var splitName = key.split('Callback')\n\n      if (splitName.length === 2) {\n        var name =\n          'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1)\n        this[name] = this[key]\n        delete this[key]\n        warn(\n          iframeId,\n          \"Deprecated: '\" +\n            key +\n            \"' has been renamed '\" +\n            name +\n            \"'. The old method will be removed in the next major version.\"\n        )\n      }\n    }\n\n    function processOptions(options) {\n      options = options || {}\n      settings[iframeId] = {\n        firstRun: true,\n        iframe: iframe,\n        remoteHost: iframe.src && iframe.src.split('/').slice(0, 3).join('/')\n      }\n\n      checkOptions(options)\n      Object.keys(options).forEach(depricate, options)\n      copyOptions(options)\n\n      if (settings[iframeId]) {\n        settings[iframeId].targetOrigin =\n          true === settings[iframeId].checkOrigin\n            ? getTargetOrigin(settings[iframeId].remoteHost)\n            : '*'\n      }\n    }\n\n    function beenHere() {\n      return iframeId in settings && 'iFrameResizer' in iframe\n    }\n\n    var iframeId = ensureHasId(iframe.id)\n\n    if (!beenHere()) {\n      processOptions(options)\n      setScrolling()\n      setLimits()\n      setupBodyMarginValues()\n      init(createOutgoingMsg(iframeId))\n      setupIFrameObject()\n    } else {\n      warn(iframeId, 'Ignored iFrame, already setup.')\n    }\n  }\n\n  function debouce(fn, time) {\n    if (null === timer) {\n      timer = setTimeout(function () {\n        timer = null\n        fn()\n      }, time)\n    }\n  }\n\n  var frameTimer = {}\n  function debounceFrameEvents(fn, time, frameId) {\n    if (!frameTimer[frameId]) {\n      frameTimer[frameId] = setTimeout(function () {\n        frameTimer[frameId] = null\n        fn()\n      }, time)\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n\n  function fixHiddenIFrames() {\n    function checkIFrames() {\n      function checkIFrame(settingId) {\n        function chkDimension(dimension) {\n          return (\n            '0px' ===\n            (settings[settingId] && settings[settingId].iframe.style[dimension])\n          )\n        }\n\n        function isVisible(el) {\n          return null !== el.offsetParent\n        }\n\n        if (\n          settings[settingId] &&\n          isVisible(settings[settingId].iframe) &&\n          (chkDimension('height') || chkDimension('width'))\n        ) {\n          trigger(\n            'Visibility change',\n            'resize',\n            settings[settingId].iframe,\n            settingId\n          )\n        }\n      }\n\n      Object.keys(settings).forEach(function (key) {\n        checkIFrame(key)\n      })\n    }\n\n    function mutationObserved(mutations) {\n      log(\n        'window',\n        'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type\n      )\n      debouce(checkIFrames, 16)\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n        config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        },\n        observer = new MutationObserver(mutationObserved)\n\n      observer.observe(target, config)\n    }\n\n    var MutationObserver = getMutationObserver()\n    if (MutationObserver) {\n      createMutationObserver()\n    }\n  }\n\n  function resizeIFrames(event) {\n    function resize() {\n      sendTriggerMsg('Window ' + event, 'resize')\n    }\n\n    log('window', 'Trigger event: ' + event)\n    debouce(resize, 16)\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function tabVisible() {\n    function resize() {\n      sendTriggerMsg('Tab Visable', 'resize')\n    }\n\n    if ('hidden' !== document.visibilityState) {\n      log('document', 'Trigger event: Visiblity change')\n      debouce(resize, 16)\n    }\n  }\n\n  function sendTriggerMsg(eventName, event) {\n    function isIFrameResizeEnabled(iframeId) {\n      return (\n        settings[iframeId] &&\n        'parent' === settings[iframeId].resizeFrom &&\n        settings[iframeId].autoResize &&\n        !settings[iframeId].firstRun\n      )\n    }\n\n    Object.keys(settings).forEach(function (iframeId) {\n      if (isIFrameResizeEnabled(iframeId)) {\n        trigger(eventName, event, settings[iframeId].iframe, iframeId)\n      }\n    })\n  }\n\n  function setupEventListeners() {\n    addEventListener(window, 'message', iFrameListener)\n\n    addEventListener(window, 'resize', function () {\n      resizeIFrames('resize')\n    })\n\n    addEventListener(document, 'visibilitychange', tabVisible)\n\n    addEventListener(document, '-webkit-visibilitychange', tabVisible)\n  }\n\n  function factory() {\n    function init(options, element) {\n      function chkType() {\n        if (!element.tagName) {\n          throw new TypeError('Object is not a valid DOM element')\n        } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n          throw new TypeError(\n            'Expected <IFRAME> tag, found <' + element.tagName + '>'\n          )\n        }\n      }\n\n      if (element) {\n        chkType()\n        setupIFrame(element, options)\n        iFrames.push(element)\n      }\n    }\n\n    function warnDeprecatedOptions(options) {\n      if (options && options.enablePublicMethods) {\n        warn(\n          'enablePublicMethods option has been removed, public methods are now always available in the iFrame'\n        )\n      }\n    }\n\n    var iFrames\n\n    setupRequestAnimationFrame()\n    setupEventListeners()\n\n    return function iFrameResizeF(options, target) {\n      iFrames = [] // Only return iFrames past in on this call\n\n      warnDeprecatedOptions(options)\n\n      switch (typeof target) {\n        case 'undefined':\n        case 'string':\n          Array.prototype.forEach.call(\n            document.querySelectorAll(target || 'iframe'),\n            init.bind(undefined, options)\n          )\n          break\n\n        case 'object':\n          init(options, target)\n          break\n\n        default:\n          throw new TypeError('Unexpected data type (' + typeof target + ')')\n      }\n\n      return iFrames\n    }\n  }\n\n  function createJQueryPublicMethod($) {\n    if (!$.fn) {\n      info('', 'Unable to bind to jQuery, it is not fully loaded.')\n    } else if (!$.fn.iFrameResize) {\n      $.fn.iFrameResize = function $iFrameResizeF(options) {\n        function init(index, element) {\n          setupIFrame(element, options)\n        }\n\n        return this.filter('iframe').each(init).end()\n      }\n    }\n  }\n\n  if (window.jQuery) {\n    createJQueryPublicMethod(window.jQuery)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory)\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // Node for browserfy\n    module.exports = factory()\n  }\n  window.iFrameResize = window.iFrameResize || factory()\n})()\n","var iframeResize = require('./iframeResizer')\n\nexports.iframeResize = iframeResize\nexports.iframeResizer = iframeResize // Backwards compatability\nexports.iframeResizerContentWindow = require('./iframeResizer.contentWindow')\n","/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = window[\"jQuery\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Plugins\nimport 'chosen-js';\nimport 'flot';\nimport 'flot-orderbars/js/jquery.flot.orderBars';\nimport 'flot/jquery.flot.time';\n\n// Give plugins.\nimport '../plugins/give-ajaxify-fields';\nimport '../plugins/selector-cache';\nimport '../plugins/repeatable-fields';\nimport '../plugins/give-hint.css';\nimport '../plugins/notice';\nimport GiveAPI from '../plugins/give-api/api';\nimport { initializeIframeResize } from '../plugins/form-template/utils';\n\nimport * as Modals from '../plugins/modal.js';\n\n// Give core.\nimport './admin-migrations';\nimport './admin-forms';\nimport './admin-settings';\nimport './admin-export';\nimport './admin-scripts';\nimport './admin-importer';\nimport './shortcode-button';\n\n// Form template.\nimport './form-template/edit-form';\n\n// Stripe core.\nimport './stripe-admin';\n\n// PayPal donations\nimport './paypal-commerce';\n\nimport '../../../../src/DonorDashboards/resources/js/admin';\n\nGiveAPI.modal = Modals;\nconst { init, fn, cache, modal, notice } = GiveAPI;\nwindow.Give = { init, fn, cache, modal, notice, initializeIframeResize };\n"],"names":["jQuery","document","ready","$","give_export_update_donation_form","$form","$container","find","select","prev","$search_field","variations","hasClass","response","addClass","remove","ajax","type","url","ajaxurl","data","action","s","fields","serialize","beforeSend","closest","empty","success","form_ids","length","prop","each","key","item","prepend","id","name","push","val","join","trigger","output_give_donations_fields","change","give_form_id","form_id","alert","Give","fn","getGlobalVar","standard_fields","standard_field_list","removeClass","index","value","append","hidden_fields","hidden_field_list","checkboxes","click","swapAndUpdateAttribute","reference","deselectAll","selectAll","attr","handle_default_radio","on","toggle_conditional_form_fields","price_option","price_option_val","show","hide","display_content","display_content_val","terms_option","terms_option_val","payment_display_option","payment_display_option_val","custom_amount_option","custom_amount_option_val","goal_option","goal_format","close_form_when_goal_achieved_option","close_form_when_goal_achieved_option_val","goal_format_val","goal_option_val","offline_customization_option","offline_customization_option_val","email_options","email_options_val","defaultNameTitlePrefixChecked","titlePrefixChecked","handle_repeatable_row_ID","text","row_group","object","row_id","event","row","set_row_ids","self","row_count","count_repeatable_rows","row_counter","row_largest_number","row_number","parseInt","misc_cleanup","this_val","removeAttr","handle_fields_visibility","handle_visibility","conditions","visible","Object","entries","forEach","field","inputs","input","fieldType","is","parents","toggle","GiveWarningAlert","GiveErrorAlert","GiveConfirmModal","give_setting_edit","addEventListener","give_import_donation_onload","give_on_core_settings_import_start","import_step","progress","dataType","width","percentage","modalContent","title","desc","cancelBtnTitle","render","window","location","error","give_import_core_settings_json_is_valid","give_start_importing_donations","give_on_donation_import_ajax","give_import_donation_csv_not_valid","give_import_donation_valid_csv","total_ajax","current","start","end","next","total","per_page","last","onload","give_import_donation_required_fields_check","give_import_donation_on_drop_down_change","querySelector","required_fields","submit","email","first_name","amount","form","querySelectorAll","classList","add","select_fields","Array","from","map","includes","getElementById","disabled","URLSearchParams","history","currentParams","search","has","newUrl","origin","pathname","replaceState","GiveShortcodeButton","setupChosen","accounting","gravatar","require","giveAjaxLoader","$parent","args","extend","wrapper","$loaderParent","$loader","give_dismiss_notice","give_remove_give_message","parameter","href","urlparts","split","undefined","replace","urlBase","shift","queryString","prefix","encodeURIComponent","pars","i","lastIndexOf","match","splice","pushState","enable_admin_datepicker","datepicker","inputDefaultDate","$clone","options","altFormat","onClose","selectedDate","inst","$input","clone","before","altField","setup_chosen_give_selects","$give_chosen_containers","chosen","no_results_text","evt","container","chosenText","get_search_text","$selectField","form_field","keyCode","result_highlight","search_results","lasteturn","result_select","css","give_unformat_currency","price","dp","unformat","toString","parseFloat","toFixed","GiveListDonation","init","deleteSingleDonation","resendSingleDonationReceipt","triggerSelector","modalWrapper","successConfirm","assign","el","Give_Edit_Donation","edit_address","add_note","remove_note","new_donor","resend_receipt","variable_price_list","$this","country","field_name","post","state_wrap","not","_typeof","states_found","default_state","show_field","e","preventDefault","save_note","postData","noteContainer","fail","console","log","always","noteTypeContainer","payment_id","note","give_vars","email_notification","donor_note","status","modal","donor_note_confirm_msg","border_color","setTimeout","that","note_id","variable_prices_html_container","trim","html","prices","$total_amount","Give_Settings","toggle_gateways","setting_change_country","toggle_options","main_setting_update_notice","verify_settings","saveButtonTriggered","changeAlert","detectSettingsChange","sequentialDonationIDPreview","checkbox","radio","checked","checked_cbs","count_cbs","replaceWith","emailAccess","fieldValueEmail","fieldValueRecaptcha","recaptcha","form_featured_image","field_value","terms_and_conditions","admin_notification","sequential_ordering","$setting_message","slideUp","success_setting","failure_setting","notice_html","$notice_container","after","unbind","bind","confirmationMessage","returnValue","settingsPage","on_load_value","target","on_change_value","$previewField","startingNumber","numberPadding","suffix","$donationID","padStart","RegExp","Give_Reports","date_options","donors_export","recount_stats","customer_export_option","price_options_select","all_prices","export_form","selected_type","submit_button","forms","dateSelector","notice_wrap","current_forms","selection","is_confirmed","has_errors","selected_form","Give_Export","dismiss_message","body","submitButton","parent_notices","process_step","step","file","reset_form","file_name","parent","error_message","message","success_message","animate","reset","responseText","Give_Updates","$self","resume_update_step","main_container","Give_Selector_Cache","get","update_link","run_upload_container","progress_main_container","heading","progress_container","update_progress_counter","start_db_update","get_db_updates_info","fadeOut","run_db_update","nonce","inArray","keys","total_percentage","getGlobal","updates","ajax_error","update","Give_Upgrades","restartUpgrade","stopUpgrade","restartUpdater","handle_status_change","GiveDonor","onLoadPageNumber","loadGravatar","unlockDonorFields","editDonor","add_email","removeUser","cancelEdit","delete_checked","addressesAction","bulkDeleteDonor","handleBulkActions","giveDonorImage","donorEmail","hasValidGravatar","donorImage","fadeIn","donorID","give_action","customer_id","_wpnonce","redirect","add_donor_note_nonce","records_input","button","primary","$obj","$addressWrapper","$allAddress","$noAddressMessageWrapper","$allAddressParent","$addressForm","$addressFormCancelBtn","$addressFormCountryField","$addNewAddressBtn","__set_address_form_val","__set_address_form_action","address_html","$prevParent","$nextParent","is_address_added","success_msg","error_msg","addressAction","addressID","$addressActionField","$addressIDField","state","substr","$body","donorId","donorName","donorHtml","donorSelector","bulkDeleteList","slideDown","currentAction","donors","paged","changedPage","selectBulkActionNotice","confirmActionNotice","API_Screen","revoke_api_key","regenerate_api_key","Edit_Form_Screen","default_tab_id","query","handle_metabox_tab_click","setup_colorpicker_fields","setup_media_fields","setup_repeatable_fields","handle_repeater_group_events","handle_multi_levels_repeater_group_events","activate_tab","$tab_links","update_query","$tab_link","tab_id","$li_parent","$sub_field","has_sub_field","$all_tab_links_li","$all_sub_fields","in_sub_fields","toggleClass","$active_subtab_li","children","new_query","set","$colorpicker_fields","$item","wpColorPicker","give_media_uploader","$give_upload_button","$media_modal_config","metabox_fields","media","button_title","multiple","library","editing","wp","controller","Library","prototype","defaults","contentUserSetting","$library","attachment","first","toJSON","$input_field","fvalue","attachment_id_field_name","id_field","open","$image_container","$image_input_field","move","template","confirm_before_remove_row","confirm_before_remove_row_text","is_sortable","before_add","after_add","handle_metabox_repeater_field_row_count","before_remove","after_remove","handle_metabox_repeater_field_row_remove","sortable_options","placeholder","ui","$rows","$fields","stop","$currentElement","attributes","element","old_class_name_prefix","old_class_name","new_class_name","new_class_name_prefix","repeatable_fields","$repeater_fields","handle_repeater_group_add_number_suffix","$textarea","tinyMCE","execCommand","textarea_id","switchEditors","go","new_row","wysiwyg_editor_container","wysiwyg_editor","textarea","Math","random","wysiwyg_editor_label","wp_editor","wp_editor_id","textarea_name","res","tinyMCEPreInit","qtInit","_give_agree_text","mceInit","body_class","toLowerCase","selector","tinymce","quicktags","QTags","_buttonsInit","wpActiveEditor","$header_title_container","donation_level_header_text_prefix","$repeatable_rows","$default_radio","number_of_level","max_level_id","current_level","header_text_prefix","GivePaymentHistory","currentActionLabel","$payments","isStatusTypeAction","indexOf","donors_bulk_action","no_action_selected","donations_bulk_action","zero","titles","single","GiveShortcodeButtonObj","shorcodeButtonEls","buttonEl","shortcodeButton","_iterator","GiveMultiSelectOptions","selectChosen","dropdown","order","dataset","reorderItems","currentOption","orderedOptions","deselected","items","textContent","option","values","selected","included","filter","orderedOption","rebuildDropDown","j","innerHTML","newOption","createElement","setAttribute","giveAjaxifyFields","debug","user_search","exclude","user_name","style","cursor","search_response","results","appendTo","login","$poststuff","thousand_separator","decimal_separator","thousand_separator_count","alphabet_count","price_string","thousand_separator_limit","tootltip_setting","label","giveHintCss","default_amount","$sub_tab_nav","is_enabled","$setting_fields","give_render_responsive_tabs","resize","$setting_page_form","$main_tab_nav","setting_page_form_width","$sub_tab_nav_wrapper","$setting_tab_links","$show_tabs","$hide_tabs","tab_width","outerWidth","height","overflow","refactor_tabs","Promise","resolve","reject","then","is_refactor_tabs","$current_tab_nav","query_params","get_url_params","is_current_nav_item","tab","unshift","pop","show_tabs","is_show_tabs","vars","hash","hashes","slice","$payment_gateways","sortable","give_settings_currency","give_settings_position","$currency","currencyCode","currencyList","JSON","parse","beforeText","afterText","formattingSetting","$thounsandSeparator","$decimalSeparator","$numerDecimals","symbol","setting","$first_setting_field_group","$new_setting_field_group","setting_field_count","fieldID","$prev_field","$icon_container","set_notification_status","notification_id","canEditEmailNotificationStatus","showEmailNotificationStatusIsNotEditableNotice","method","done","GiveSuccessAlert","dTemp","tTemp","symbolRegex","formatterArgs","position","precision","decimal","thousand","preview","dSeparator","tSeparator","targetName","targetValue","isNaN","hasOwnProperty","currency","matched","exec","selectedIndex","formatCurrency","noticeEditButton","noticeContainer","scrollTop","top","mainContentWrap","menuContentWrap","allContent","call","menuButtons","concat","hasSubGroup","hasAttribute","selectedGroup","selectedContent","menuContainer","parentElement","sectionGroup","getAttribute","contentElement","urlPath","GiveButton","_classCallCheck","root","buttonText","iconPosition","_buttonTextWithWrapper","icon","iconClassName","className","busyIcon","disable","enable","updateIcon","handleFormTemplateActivation","ev","$templatesList","$innerContainer","activatedTemplateId","handleFormTemplateDeactivation","saveFormSettingOnlyIfFormTemplateSelected","activatedTemplate","GiveNoticeAlert","getParameterByName","handleConditionalFormTemplateFields","updateIntroductionFields","updateDonationSummaryFields","updateSocialSharingFields","introductionFields","conditionalFields","socialSharingFields","donationStatus","onBoardingButton","disconnectPayPalAccountButton","connectionSettingContainer","disConnectionSettingContainer","countryField","paypalModalObserver","MutationObserver","mutationsRecord","record","removedNodes","node","paypalErrorQuickHelp","paypalDonationsCheckbox","display","pciWarnings","givePayPalCommerce","translations","pciComplianceInstructions","instruction","liveWarning","classes","cancelBtn","connectSuccessTitle","pciWarning","closeOnBgClick","removeURLParameter","removeErrors","errorsContainer","countryCode","buttonState","innerText","processing","fetch","json","payPalLink","partnerLink","observe","childList","createElementFromHTML","htmlString","div","firstChild","buttonContainer","confirmPaypalAccountDisconnection","disconnectPayPalAccount","billingSettingContainer","ClipboardJS","_this","shortcode","giveShortcode","clipboard","registerEventHandlers","_this2","handleSuccessClick","handleErrorClick","copied","removeEventListener","__","sprintf","stripeFonts","stripeStylesBase","stripeStylesEmpty","stripeStylesInvalid","stripeStylesComplete","stripeCustomFonts","checkoutTypes","legacyCheckoutFields","stripeConnectedElement","hideIconElements","iconStyleElement","hideMandateElements","mandateElement","hideBecsIconElements","becsIconStyleElement","hideBecsMandateElements","mandateBecsElement","perFormOptions","perFormAccount","creditCardFieldFormatOptions","editStripeStatementDescriptor","giveStripeJsonFormattedTextarea","perFormOptionFieldContainers","formOption","hideIconElement","stripeStatus","redirectUrl","canDisplay","modalTitle","modalFirstDetail","modalSecondDetail","checkoutType","stripeCheckbox","stripeGoogleFontsWrap","stripeCustomFontsWrap","inputFieldContainer","formTemplate","isValidaStatementDescriptor","char","actionLink","containerDisplayStylePropertyValue","insertAdjacentHTML","inputField","nextElementSibling","saveButton","cancelButton","childNodes","nodeValue","marginBottom","marginRight","newStatementDescriptor","savedStatementDescriptor","newStatementDescriptorText","actionUrl","errorMessage","giveStripePrettyJson","jsonData","stringify","border","removeAttribute","$els","inherit_select_classes","placeholder_text_single","placeholder_text_multiple","$no_results_li","error_string","ajax_msg","ajax_search_msg","no_results_msg","doneTypingInterval","lastKey","which","search_type","clearTimeout","cache","chosenSearchTypingTimer","focus","globalSope","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","getConditionalCallback","callback","apply","arguments","addDynamicEventListener","rootElement","eventType","iframeResize","initializeIframeResize","iframe","sizeWidth","checkOrigin","heightCalculationMethod","widthCalculationMethod","onMessage","messageData","contains","timer","revealIframe","opacity","transition","visibility","minHeight","scrollIntoView","behavior","inline","onInit","innerWidth","parentUnload","contentWindow","iFrameResizer","sendMessage","currentPage","customSettings","$countryField","$parentWrapper","defaultSettings","parentWrapper","countryFieldName","stateFieldName","stateFieldWrapper","chosenState","settings","$stateField","$stateFieldWrapper","$stateFieldLabel","states_label","GiveNotice","GiveForm","GiveUtil","GiveShare","subHelperObjs","counter","format_args","getInfo","actual_price","formatNumber","afterPoint","lastThree","otherNumbers","result","lastDotPosition","substring","floor","format","formatMoney","unFormatCurrency","regex","abs","decodeURIComponent","str","giveGlobals","give_global_vars","setCache","getCache","formObj","__getCookie","cookie","parts","loader","loadingAnimation","loadingText","spinner","updating","spinnerHTML","numberHasDecimal","Number","notice","donor","util","share","hasSession","isLoggedIn","Util","formatCreditCard","__initialize_cache","WINDOW_IS_LOADED","__sendBackToForm","isFormExist","getElementsByName","hasDonationForm","actionHiddenField","is_disable","showProcessingState","showOverlay","hideProcessingState","hideOverlay","formatAmount","gateway","setInfo","getGateway","getVariablePrices","variable_prices","formLevels","price_id","getPriceID","is_amount","current_amount","variable_price","getMinimumAmount","getMaximumAmount","getAmount","getNonce","getNonceInfo","$nonceField","createdInDonorSession","resetNonce","resetAllNonce","createUserNonceField","give_form_hash","give_form_user_register_hash","autoSelectDonationLevel","blur","autoSetMultiLevel","$level","level_amount","level_price_id","payment_mode","$form_wrapper","display_modal","display_button","display_reveal","level_id","level_field","give_form_wrap","is_form_grid","magnificPopup","src","fixedContentPos","fixedBgPos","closeBtnInside","midClick","removalDelay","mainClass","give_open_form_modal","isValidDonationAmount","min_amount","max_amount","isDonationFormHtml5Valid","reportValidity","checkValidity","navigator","userAgent","isDonorFilledValidData","formData","FormData","_context","addErrors","errors","getErrorHTML","$errorContainer","$error","addErrorsAndResetDonationButton","$errors","resetDonationButton","$submitButton","$forms","card_number","card_cvc","card_expiry","payment","renderNotice","notice_code","$notice","getNotice","insertBefore","error_code","notice_msg","formatted_amount","getAdminNoticeHTML","dismissible","btnText","commonL10n","dismiss","twitter","targetWindow","innerHeight","left","facebook","divNode","appendChild","$tooltip","outerHeight","qtip_tooltips","tooltip","reset_qtip","icon_classes","label_length","grep","GiveModal","obj","constructor","Error","config","externalPlugin","setupTemplate","popupConfig","__setupClickEvent","link","link_self","link_text","confirmBtnTitle","getTemplate","alignTop","showCloseBtn","enableEscapeKey","instance","close","decodeURI","loading","encodeURI","_this3","_this4","_this5","st","GiveFormModal","_this6","__closePopup","__confirmPopup","__submitPopup","__ajaxModalHandle","$el","fadeTo","custom_settings","default_settings","row_count_placeholder","initialize","stopImmediatePropagation","row_template","outerHTML","remove_row","handle","$removeButton","collection","refresh_cache","notices","storageId","giveDismissible","storedItem","localStorage","getItem","setItem","Date","now","bodyClass","stripeSetting","isCustomizeStripeAccountOptionSelected","hasDefaultStripeAccount","disconnectBtns","modalMessage","reload","setStripeDefaults","setStripeDefault","stripeAccountInformationContainer","stripeEmailValueContainer","settingPageType","accountEmail","accountName","docLink","xhr","XMLHttpRequest","formId","send","GiveAPI","Modals"],"sourceRoot":""}